/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteSyncPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// src/fseditor.ts
var import_obsidian = require("obsidian");
var FsEditor = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.fs = plugin.app.vault.adapter.fs;
    this.path = plugin.app.vault.adapter.path;
  }
  get root() {
    let a = this.plugin.app.vault.adapter;
    return a.basePath.replace(/\\/g, "/");
  }
  get_tfile(path, only_first = true) {
    try {
      path = path.split("|")[0].replace("[[", "").replace("]]", "");
      let tfile = this.app.vault.getFileByPath(path);
      if (tfile) {
        return tfile;
      }
      if (only_first) {
        let tfile2 = this.app.metadataCache.getFirstLinkpathDest(path.split("/").last());
        if (tfile2) {
          return tfile2;
        }
      } else {
        let tfiles = this.app.metadataCache.getLinkpathDest(path.split("/").last());
        if (tfiles && tfiles.length > 0) {
          return tfiles;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  }
  get_inlinks(tfile, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let res = [];
    let inlinks = this.app.metadataCache.getBacklinksForFile(tfile);
    for (let [k, v] of inlinks.data) {
      let curr = this.app.vault.getFileByPath(k);
      if (curr) {
        res.push(curr);
      }
    }
    return res;
  }
  get_outlinks(tfile, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (!mcache) {
      return [];
    }
    let res = [];
    if (mcache.links) {
      for (let link of mcache.links) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (mcache.frontmatterLinks) {
      for (let link of mcache.frontmatterLinks) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (!only_md && mcache.embeds) {
      for (let link of mcache.embeds) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2)) {
          res.push(tfile2);
        }
      }
    }
    return res;
  }
  abspath(tfile) {
    if (tfile) {
      return (this.root + "/" + tfile.path).replace(/\\/g, "/");
    } else {
      return null;
    }
  }
  isfile(path) {
    return this.fs.existsSync(path) && this.fs.statSync(path).isFile();
  }
  isdir(path) {
    return this.fs.existsSync(path) && this.fs.statSync(path).isDirectory();
  }
  list_dir(path, as_fullpath = true) {
    if (!this.isdir(path)) {
      return [];
    }
    let items = this.fs.readdirSync(path);
    if (as_fullpath) {
      items = items.map(
        (x) => {
          return path + "/" + x;
        }
      );
    }
    return items;
  }
  first_valid_dir(paths) {
    if (typeof paths == "string") {
      if (this.isdir(paths)) {
        return paths;
      } else {
        return null;
      }
    }
    for (let path of paths) {
      if (this.isdir(path)) {
        return path;
      }
    }
    return null;
  }
  async select_valid_dir(paths, prompt_if_null = false) {
    let xpaths = paths.filter((p) => this.isdir(p));
    let path = null;
    if (xpaths.length > 0) {
      path = await this.plugin.dialog_suggest(xpaths, xpaths);
    }
    if (!path && prompt_if_null) {
      path = await this.plugin.dialog_prompt("Root of vault");
      if (!this.isdir(path)) {
        path = null;
      }
    }
    return path;
  }
  mkdir_recursive(path) {
    if (this.isdir(path)) {
      return true;
    }
    let parent = this.path.dirname(path);
    if (!this.isdir(parent)) {
      this.mkdir_recursive(parent);
    }
    this.fs.mkdirSync(path);
  }
  /**
  * 附件 src 到 dst，不在 vault 中，需要绝对路径
  * overwrite，复盖；mtime，新文件；
  */
  copy_file(src, dst, mode = "pass>overwrite>mtime") {
    let fs = this.fs;
    mode = mode.split(">")[0];
    if (!fs.existsSync(src)) {
      return false;
    }
    if (fs.existsSync(dst)) {
      if (mode === "overwrite") {
        fs.unlinkSync(dst);
        fs.copyFileSync(src, dst);
        return true;
      } else if (mode === "mtime") {
        if (fs.statSync(dst).mtimeMs < fs.statSync(src).mtimeMs) {
          fs.unlinkSync(dst);
          fs.copyFileSync(src, dst);
          return true;
        }
      }
    } else {
      fs.copyFileSync(src, dst);
      return true;
    }
    return false;
  }
  copy_tfile(tfile, dst, mode = "mtime") {
    if (tfile) {
      let src = this.abspath(tfile);
      return src && this.copy_file(src, dst, mode);
    }
    return false;
  }
  sync_tfile(tfile, vault_root, mode = "mtime", attachment = true, outlink = false) {
    if (tfile) {
      vault_root = vault_root.replace(/\\/g, "/");
      let src = this.root + "/" + tfile.path;
      let dst = vault_root + "/" + tfile.path;
      this.mkdir_recursive(this.path.dirname(dst));
      this.copy_file(src, dst, mode);
      if (attachment) {
        let tfiles = this.get_outlinks(tfile, false);
        for (let t of tfiles) {
          if (!(t.extension === "md")) {
            this.sync_tfile(t, vault_root, mode, false);
          } else if (outlink) {
            this.sync_tfile(t, vault_root, mode, false);
          }
        }
      }
    }
  }
  sync_tfolder(tfolder, vault_root, mode = "mtime", attachment = true, outlink = false, strict = false) {
    if (tfolder) {
      for (let t of tfolder.children) {
        if (t instanceof import_obsidian.TFolder) {
          this.sync_tfolder(t, vault_root, mode, attachment, outlink);
        } else if (t instanceof import_obsidian.TFile) {
          this.sync_tfile(t, vault_root, mode, attachment, outlink);
        }
      }
      if (strict) {
        let dst = vault_root + "/" + tfolder.path;
        let src = this.abspath(tfolder);
        if (src && dst) {
          this.remove_files_not_in_src(src, dst);
        }
      }
    }
  }
  delete_file_or_dir(path) {
    if (this.isfile(path)) {
      this.fs.unlinkSync(path);
    } else if (this.isdir(path)) {
      let items = this.list_dir(path, true);
      for (let item of items) {
        this.delete_file_or_dir(item);
      }
      this.fs.rmdirSync(path);
    }
  }
  remove_files_not_in_src(src, dst) {
    if (!this.isdir(src) || !this.isdir(dst)) {
      return;
    }
    let items = this.list_dir(dst, false);
    for (let item of items) {
      let adst = dst + "/" + item;
      let asrc = src + "/" + item;
      if (this.isfile(adst)) {
        if (!this.isfile(asrc)) {
          this.fs.unlinkSync(adst);
        }
      } else if (this.isdir(adst)) {
        if (!this.isdir(asrc)) {
          this.delete_file_or_dir(adst);
        } else {
          this.remove_files_not_in_src(asrc, adst);
        }
      }
    }
  }
  sync_folder(src, dst, mode = "mtime", strict = false) {
    if (!this.isdir(src)) {
      return;
    }
    this.mkdir_recursive(dst);
    if (!this.isdir(dst)) {
      return;
    }
    let items = this.list_dir(src, false);
    for (let item of items) {
      let asrc = this.path.join(src, item);
      let adst = this.path.join(dst, item);
      if (this.isfile(asrc)) {
        this.copy_file(asrc, adst, mode);
      } else if (this.isdir(asrc)) {
        this.sync_folder(asrc, adst, mode, strict);
      }
    }
    if (strict) {
      this.remove_files_not_in_src(src, dst);
    }
  }
  modify(path, callback, encoding = "utf8") {
    let fs = this.fs;
    if (!fs.existsSync(path)) {
      return;
    }
    ;
    fs.readFile(
      path,
      encoding,
      (err, data) => {
        if (err) {
          return;
        }
        let rs = callback(path, data);
        fs.writeFile(path, rs, encoding, (err2) => {
          return;
        });
      }
    );
  }
};

// src/strings.ts
var Strings = class {
  constructor() {
    let lang = window.localStorage.getItem("language");
    if (lang) {
      this.language = lang;
    } else {
      this.language = "en";
    }
  }
  get cmd_export_current_note() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Export current note";
    }
  }
  get cmd_set_vexporter() {
    if (this.language == "zh") {
      return "\u8BBE\u7F6E\u5BFC\u51FA\u7B14\u8BB0\u9009\u9879";
    } else {
      return "Set config to export note";
    }
  }
  get cmd_export_plugin() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\u63D2\u4EF6";
    } else {
      return "Export plugin";
    }
  }
  get cmd_download_git_repo() {
    if (this.language == "zh") {
      return "\u4E0B\u8F7D Git \u4ED3\u5E93\u6587\u4EF6";
    } else {
      return "Download git repo";
    }
  }
  get prompt_path_of_folder() {
    if (this.language == "zh") {
      return "\u8F93\u5165\u6587\u4EF6\u5939\u8DEF\u5F84";
    } else {
      return "Input path of folder";
    }
  }
  get notice_output() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\uFF1A";
    } else {
      return "Output:";
    }
  }
  get notice_nosuchdir() {
    if (this.language == "zh") {
      return "\u65E0\u6548\u76EE\u5F55";
    } else {
      return "Invaid path.";
    }
  }
  get setting_vault_dir() {
    if (this.language == "zh") {
      return "\u5E93\u76EE\u5F55";
    } else {
      return "Root dir of vault";
    }
  }
  get setting_strict_mode() {
    if (this.language == "zh") {
      return "\u4E25\u683C\u6A21\u5F0F?";
    } else {
      return "Strict mode?";
    }
  }
  get setting_strict_mode_desc() {
    if (this.language == "zh") {
      return "\u5371\u9669\uFF01\u540C\u6B65\u65F6\u5220\u9664\u76EE\u6807\u5E93\u4E2D\u591A\u51FA\u7684\u6587\u4EF6";
    } else {
      return "Danger! Delete files or folders in target vault but not in current vault.";
    }
  }
  get setting_git_repo() {
    if (this.language == "zh") {
      return "Git \u4ED3\u5E93";
    } else {
      return "Git repository";
    }
  }
  get item_copy_data_json() {
    if (this.language == "zh") {
      return "\u590D\u5236 data.json";
    } else {
      return "Copy data.json";
    }
  }
  get item_skip_data_json() {
    if (this.language == "zh") {
      return "\u8DF3\u8FC7 data.json";
    } else {
      return "Skip data.json";
    }
  }
  get item_sync_vault() {
    if (this.language == "zh") {
      return "\u540C\u6B65\u5230\u5176\u5B83\u5E93";
    } else {
      return "Sync to other vault";
    }
  }
};
var strings = new Strings();

// src/setting.ts
var import_obsidian2 = require("obsidian");
var DEFAULT_SETTINGS = {
  strict_mode: false,
  vaultDir: "",
  git_repo: "https://github.com/zigholding/ObsidianZ/tree/master\nhttps://gitee.com/zigholding/ObsidianZ/tree/master"
};
var NoteSyncSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  getSettingValue(field) {
    return this.plugin.settings[field];
  }
  add_toggle(name, desc, field) {
    let { containerEl } = this;
    let value = this.plugin.settings[field];
    let item = new import_obsidian2.Setting(containerEl).setName(name).setDesc(desc).addToggle(
      (text) => text.setValue(value).onChange(async (value2) => {
        this.plugin.settings[field] = value2;
        await this.plugin.saveSettings();
      })
    );
    return item;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setName(this.plugin.strings.setting_vault_dir).addTextArea((text) => text.setValue(this.plugin.settings.vaultDir).onChange(async (value) => {
      this.plugin.settings.vaultDir = value;
      await this.plugin.saveSettings();
    }));
    this.add_toggle(
      this.plugin.strings.setting_strict_mode,
      this.plugin.strings.setting_strict_mode_desc,
      "strict_mode"
    );
    new import_obsidian2.Setting(containerEl).setName(this.plugin.strings.setting_git_repo).addTextArea((text) => text.setValue(this.plugin.settings.git_repo).onChange(async (value) => {
      this.plugin.settings.git_repo = value;
      await this.plugin.saveSettings();
    }));
  }
};

// src/commands.ts
var import_obsidian3 = require("obsidian");
var cmd_export_current_note = (plugin) => ({
  id: "export_current_note",
  name: plugin.strings.cmd_export_current_note,
  callback: async () => {
    let tfile = plugin.app.workspace.getActiveFile();
    await plugin.export_readme(tfile, null);
  }
});
var cmd_set_vexporter = (plugin) => ({
  id: "set_vexporter",
  name: plugin.strings.cmd_set_vexporter,
  callback: async () => {
    let tfile = plugin.app.workspace.getActiveFile();
    if (!tfile) {
      return;
    }
    let dir = await plugin.dialog_prompt(plugin.strings.prompt_path_of_folder);
    let item = {};
    if (plugin.fsEditor.fs.existsSync(dir)) {
      item["Dir"] = dir;
    }
    item["Name"] = "readMe";
    item["Assets"] = "./assets";
    item["RemoveMeta"] = true;
    item["UseGitLink"] = true;
    await plugin.app.fileManager.processFrontMatter(
      tfile,
      async (fm) => {
        fm[plugin.yaml] = item;
      }
    );
  }
});
var cmd_export_plugin = (plugin) => ({
  id: "export_plugin",
  name: plugin.strings.cmd_export_plugin,
  callback: async () => {
    let plugins = Object.keys(plugin.app.plugins.plugins);
    let p = await plugin.dialog_suggest(plugins, plugins);
    let eplugin = plugin.app.plugins.getPlugin(p);
    if (eplugin) {
      let paths = plugin.settings.vaultDir.split("\n");
      let target = await plugin.fsEditor.select_valid_dir(
        paths
      );
      if (target) {
        let items2 = plugin.fsEditor.list_dir(target, false);
        items2 = items2.filter((x) => x.startsWith(".") && x != ".git").filter(
          (x) => {
            let path = plugin.fsEditor.path.join(target, x);
            if (!plugin.fsEditor.isdir(path)) {
              return false;
            }
            let items3 = plugin.fsEditor.list_dir(path, false);
            return items3.contains("plugins");
          }
        );
        if (items2.length == 1) {
          target = plugin.fsEditor.path.join(target, items2[0], "plugins");
        } else if (items2.length > 1) {
          let item = await plugin.dialog_suggest(
            items2,
            items2,
            "config"
          );
          if (item) {
            target = plugin.fsEditor.path.join(target, item, "plugins");
          }
        }
      }
      if (!plugin.fsEditor.fs.existsSync(target) || plugin.fsEditor.path.basename(target) != "plugins") {
        target = await plugin.dialog_prompt(plugin.strings.prompt_path_of_folder);
      }
      target = target.replace(/\\/g, "/");
      if (!target.endsWith("/" + p)) {
        target = target + "/" + p;
      }
      if (!plugin.fsEditor.fs.existsSync(target)) {
        plugin.fsEditor.fs.mkdirSync(target);
      }
      let items = ["main.js", "manifest.json", "styles.css"];
      let dj = await plugin.dialog_suggest(
        [plugin.strings.item_skip_data_json, plugin.strings.item_copy_data_json],
        [false, true],
        ""
      );
      if (dj) {
        items.push("data.json");
      }
      for (let item of items) {
        let src = `${plugin.fsEditor.root}/${eplugin.manifest.dir}/${item}`;
        let dst = `${target}/${item}`;
        let flag = plugin.fsEditor.copy_file(src, dst, "overwrite");
        if (flag) {
          new import_obsidian3.Notice(`Copy ${item} to ${target}`, 5e3);
        }
      }
    }
  }
});
var cmd_download_git_repo = (plugin) => ({
  id: "cmd_download_git_repo",
  name: plugin.strings.cmd_download_git_repo,
  callback: async () => {
    let repos = plugin.settings.git_repo.split("\n");
    let repo = await plugin.dialog_suggest(repos, repos);
    if (!repo) {
      return;
    }
    let match = repo.match(/^https?:\/\/(.*)\.com\/([^/]*)\/([^/]*)\/tree\/([^/]*)\/?(.*)$/);
    if (!match) {
      return;
    }
    let SOURCE = match[1];
    let repoOwner = match[2];
    let repoName = match[3];
    let branch = match[4];
    let path = match[5];
    async function list_files_of_path(repoOwner2, repoName2, path2, branch2 = "master") {
      let url;
      if (SOURCE == "github") {
        url = `https://api.github.com/repos/${repoOwner2}/${repoName2}/contents/${path2}?ref=${branch2}`;
      } else {
        url = `https://gitee.com/api/v5/repos/${repoOwner2}/${repoName2}/contents/${path2}?ref=${branch2}`;
      }
      let req = await window.requestUrl(url);
      req = JSON.parse(req.text);
      if (!Array.isArray(req)) {
        req = [req];
      }
      return req;
    }
    async function download_file(url, folder_path, file_name) {
      let req = await window.requestUrl(url);
      let ctx = req.text;
      let tfile_path = `${folder_path}/${file_name}`;
      if (folder_path.startsWith(".")) {
        let flag = plugin.app.vault.exists(folder_path);
        if (!flag) {
          await plugin.app.vault.createFolder(folder_path);
        }
        flag = plugin.app.vault.exists(tfile_path);
        if (flag) {
          await plugin.app.vault.adapter.remove(tfile_path);
          await plugin.app.vault.create(tfile_path, ctx);
          new import_obsidian3.Notice(`\u66F4\u65B0\uFF1A${tfile_path}`, 5e3);
        } else {
          await plugin.app.vault.create(tfile_path, ctx);
          new import_obsidian3.Notice(`\u4E0B\u8F7D\uFF1A${tfile_path}`, 5e3);
        }
      } else {
        let folder = plugin.app.vault.getFolderByPath(folder_path);
        if (!folder) {
          folder = await plugin.app.vault.createFolder(folder_path);
        }
        let tfile = plugin.app.vault.getFileByPath(tfile_path);
        if (!tfile) {
          await plugin.app.vault.create(tfile_path, ctx);
          new import_obsidian3.Notice(`\u4E0B\u8F7D\uFF1A${tfile_path}`, 5e3);
        } else {
          await plugin.app.vault.modify(tfile, ctx);
          new import_obsidian3.Notice(`\u66F4\u65B0\uFF1A${tfile.path}`, 5e3);
        }
      }
    }
    async function download_file_of_dir(repoOwner2, repoName2, path2, branch2) {
      let items = await list_files_of_path(repoOwner2, repoName2, path2, branch2);
      let nc = this.app.plugins.getPlugin("note-chain");
      let item = await nc.dialog_suggest(
        items.map((x) => (x.type == "file" ? "\u{1F4C3}" : "\u{1F4C1}") + x.path),
        items,
        "",
        true
      );
      if (!item) {
        return;
      }
      if (typeof item == "string" && item == "all") {
        for (let item2 of items) {
          if (item2.type == "file") {
            let file_name = item2.path.split("/").last();
            let folder_path = item2.path.slice(0, item2.path.length - file_name.length - 1);
            await download_file(item2.download_url, folder_path, file_name);
          }
        }
      } else if (item.type == "file") {
        let file_name = item.path.split("/").last();
        let folder_path = item.path.slice(0, item.path.length - file_name.length - 1);
        await download_file(item.download_url, folder_path, file_name);
      } else if (item.type == "dir") {
        await download_file_of_dir(repoOwner2, repoName2, item.path, branch2);
      }
    }
    download_file_of_dir(repoOwner, repoName, path, branch);
  }
});
var commandBuilders = [];
var commandBuildersDesktop = [
  cmd_export_current_note,
  cmd_set_vexporter,
  cmd_export_plugin,
  cmd_download_git_repo
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
  if (plugin.app.isMobile == false) {
    commandBuildersDesktop.forEach((c) => {
      plugin.addCommand(c(plugin));
    });
  }
}

// src/gui/inputSuggester.ts
var import_obsidian4 = require("obsidian");
var InputSuggester = class extends import_obsidian4.FuzzySuggestModal {
  constructor(app, displayItems, items, options = {}) {
    super(app);
    this.displayItems = displayItems;
    this.items = items;
    this.promise = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.inputEl.addEventListener("keydown", (event) => {
      var _a;
      if (event.code !== "Tab") {
        return;
      }
      const self = this;
      const { values, selectedItem } = self.chooser;
      const { value } = this.inputEl;
      this.inputEl.value = (_a = values[selectedItem].item) != null ? _a : value;
    });
    if (options.placeholder)
      this.setPlaceholder(options.placeholder);
    if (options.limit)
      this.limit = options.limit;
    if (options.emptyStateText)
      this.emptyStateText = options.emptyStateText;
    this.open();
  }
  static Suggest(app, displayItems, items, options = {}) {
    const newSuggester = new InputSuggester(
      app,
      displayItems,
      items,
      options
    );
    return newSuggester.promise;
  }
  getItemText(item) {
    if (item === this.inputEl.value)
      return item;
    return this.displayItems[this.items.indexOf(item)];
  }
  getItems() {
    if (this.inputEl.value === "")
      return this.items;
    return [this.inputEl.value, ...this.items];
  }
  selectSuggestion(value, evt) {
    this.resolved = true;
    super.selectSuggestion(value, evt);
  }
  onChooseItem(item, evt) {
    this.resolved = true;
    this.resolvePromise(item);
  }
  onClose() {
    super.onClose();
    if (!this.resolved)
      this.rejectPromise("no input given.");
  }
};
async function dialog_suggest(displayItems, items, placeholder = "") {
  try {
    return await InputSuggester.Suggest(
      this.app,
      displayItems,
      items,
      {
        placeholder
      }
    );
  } catch (error) {
    return null;
  }
}

// src/gui/inputPrompt.ts
var import_obsidian5 = require("obsidian");
var InputPrompt = class extends import_obsidian5.Modal {
  constructor(app, header, placeholder, value) {
    super(app);
    this.header = header;
    this.didSubmit = false;
    this.submitClickCallback = (evt) => this.submit();
    this.cancelClickCallback = (evt) => this.cancel();
    this.submitEnterCallback = (evt) => {
      if (!evt.isComposing && evt.key === "Enter") {
        evt.preventDefault();
        this.submit();
      }
    };
    this.placeholder = placeholder != null ? placeholder : "";
    this.input = value != null ? value : "";
    this.waitForClose = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.display();
    this.open();
  }
  static Prompt(app, header, placeholder, value) {
    const newPromptModal = new InputPrompt(
      app,
      header,
      placeholder,
      value
    );
    return newPromptModal.waitForClose;
  }
  display() {
    this.containerEl.addClass("quickAddModal", "qaInputPrompt");
    this.contentEl.empty();
    this.titleEl.textContent = this.header;
    const mainContentContainer = this.contentEl.createDiv();
    this.inputComponent = this.createInputField(
      mainContentContainer,
      this.placeholder,
      this.input
    );
    this.createButtonBar(mainContentContainer);
  }
  createInputField(container, placeholder, value) {
    const textComponent = new import_obsidian5.TextComponent(container);
    textComponent.inputEl.classList.add("input-field");
    textComponent.setPlaceholder(placeholder != null ? placeholder : "").setValue(value != null ? value : "").onChange((value2) => this.input = value2).inputEl.addEventListener("keydown", this.submitEnterCallback);
    return textComponent;
  }
  createButton(container, text, callback) {
    const btn = new import_obsidian5.ButtonComponent(container);
    btn.setButtonText(text).onClick(callback);
    return btn;
  }
  createButtonBar(mainContentContainer) {
    const buttonBarContainer = mainContentContainer.createDiv();
    this.createButton(
      buttonBarContainer,
      "Ok",
      this.submitClickCallback
    ).setCta();
    this.createButton(
      buttonBarContainer,
      "Cancel",
      this.cancelClickCallback
    );
    buttonBarContainer.classList.add("button-bar");
  }
  submit() {
    this.didSubmit = true;
    this.close();
  }
  cancel() {
    this.close();
  }
  resolveInput() {
    if (!this.didSubmit)
      this.rejectPromise("No input given.");
    else
      this.resolvePromise(this.input);
  }
  removeInputListener() {
    this.inputComponent.inputEl.removeEventListener(
      "keydown",
      this.submitEnterCallback
    );
  }
  onOpen() {
    super.onOpen();
    this.inputComponent.inputEl.focus();
    this.inputComponent.inputEl.select();
  }
  onClose() {
    super.onClose();
    this.resolveInput();
    this.removeInputListener();
  }
};
async function dialog_prompt(header = "Input", placeholder = "", value = "") {
  try {
    return await InputPrompt.Prompt(
      this.app,
      header,
      placeholder,
      value
    );
  } catch (e) {
    return null;
  }
}

// main.ts
var NoteSyncPlugin = class extends import_obsidian6.Plugin {
  async onload() {
    this.dialog_suggest = dialog_suggest;
    this.dialog_prompt = dialog_prompt;
    this.app.workspace.onLayoutReady(
      async () => {
        await this._onload_();
      }
    );
  }
  async _onload_() {
    this.yaml = "note-sync";
    this.strings = new Strings();
    await this.loadSettings();
    this.fsEditor = new FsEditor(this);
    this.addSettingTab(new NoteSyncSettingTab(this.app, this));
    addCommands(this);
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        menu.addItem((item) => {
          item.setTitle(this.strings.item_sync_vault).setIcon("document").onClick(async () => {
            let dst = await this.fsEditor.select_valid_dir(
              this.settings.vaultDir.split("\n")
            );
            if (!dst) {
              dst = await this.dialog_prompt("Root of vault");
              if (!this.fsEditor.isdir(dst)) {
                new import_obsidian6.Notice("Invalid root: " + dst);
                return;
              }
            }
            if (file instanceof import_obsidian6.TFile) {
              this.fsEditor.sync_tfile(file, dst, "mtime", true, false);
            } else if (file instanceof import_obsidian6.TFolder) {
              this.fsEditor.sync_tfolder(file, dst, "mtime", true, false);
            }
          });
        });
      })
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async export_readme(tfile, dst) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (!tfile) {
      tfile = this.app.workspace.getActiveFile();
    }
    if (!tfile) {
      return;
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    let ctx = await this.app.vault.read(tfile);
    let fm = {};
    if (mcache && mcache["frontmatter"]) {
      fm = mcache["frontmatter"];
    }
    if (!dst) {
      dst = (_a = fm[this.yaml]) == null ? void 0 : _a.Dir;
      if (!dst) {
        dst = await this.dialog_prompt("Path of LocalGitProject");
      }
    }
    if (!dst || !this.fsEditor.isdir(dst)) {
      new import_obsidian6.Notice(this.strings.notice_nosuchdir, 3e3);
      return;
    }
    dst = dst.replace(/\\/g, "/");
    let target;
    let name = (_b = fm[this.yaml]) == null ? void 0 : _b.Name;
    if (name && !(name == "")) {
      target = dst + "/" + name + ".md";
    } else {
      target = dst + "/" + tfile.basename + ".md";
    }
    if ((_c = fm[this.yaml]) == null ? void 0 : _c.RemoveMeta) {
      if ((_e = (_d = mcache == null ? void 0 : mcache.frontmatterPosition) == null ? void 0 : _d.end) == null ? void 0 : _e.offset) {
        ctx = ctx.slice(mcache.frontmatterPosition.end.offset);
      }
    }
    let assets = (_f = fm[this.yaml]) == null ? void 0 : _f.Assets;
    if (((_g = fm[this.yaml]) == null ? void 0 : _g.UseGitLink) && assets) {
      ctx = ctx.replace(
        /\!\[\[(.*?)\]\]/g,
        (match, filename) => {
          return `![](./${assets}/${filename})`;
        }
      );
    }
    await this.fsEditor.fs.writeFile(
      target,
      ctx,
      "utf-8",
      (err) => {
        return;
      }
    );
    new import_obsidian6.Notice(`Export to ${target}`, 5e3);
    if (assets) {
      let olinks = this.fsEditor.get_outlinks(tfile, false);
      let adir = this.fsEditor.path.join(dst, assets);
      this.fsEditor.mkdir_recursive(adir);
      for (let f of olinks) {
        if (!(f.extension === "md")) {
          let flag = this.fsEditor.copy_tfile(f, adir + "/" + f.basename + "." + f.extension);
          if (flag) {
            new import_obsidian6.Notice(`Copy ${f.name}`, 5e3);
          }
        }
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvZnNlZGl0b3IudHMiLCAic3JjL3N0cmluZ3MudHMiLCAic3JjL3NldHRpbmcudHMiLCAic3JjL2NvbW1hbmRzLnRzIiwgInNyYy9ndWkvaW5wdXRTdWdnZXN0ZXIudHMiLCAic3JjL2d1aS9pbnB1dFByb21wdC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtOb3RpY2UsIFBsdWdpbiwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBGc0VkaXRvciB9IGZyb20gJ3NyYy9mc2VkaXRvcic7XHJcbmltcG9ydCB7IFN0cmluZ3MgfSBmcm9tICdzcmMvc3RyaW5ncyc7XHJcbmltcG9ydCB7TXlTZXR0aW5ncyxOb3RlU3luY1NldHRpbmdUYWIsREVGQVVMVF9TRVRUSU5HU30gZnJvbSAnc3JjL3NldHRpbmcnXHJcblxyXG5pbXBvcnQgeyBhZGRDb21tYW5kcyB9IGZyb20gJ3NyYy9jb21tYW5kcyc7XHJcblxyXG5pbXBvcnQge2RpYWxvZ19zdWdnZXN0fSBmcm9tICdzcmMvZ3VpL2lucHV0U3VnZ2VzdGVyJ1xyXG5pbXBvcnQge2RpYWxvZ19wcm9tcHR9IGZyb20gJ3NyYy9ndWkvaW5wdXRQcm9tcHQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlU3luY1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c3RyaW5ncyA6IFN0cmluZ3M7XHJcblx0c2V0dGluZ3M6IE15U2V0dGluZ3M7XHJcblx0ZnNFZGl0b3IgOiBGc0VkaXRvcjtcclxuXHR5YW1sOiBzdHJpbmc7XHJcblx0ZGlhbG9nX3N1Z2dlc3Q6IEZ1bmN0aW9uXHJcblx0ZGlhbG9nX3Byb21wdDogRnVuY3Rpb25cclxuXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHRoaXMuZGlhbG9nX3N1Z2dlc3QgPSBkaWFsb2dfc3VnZ2VzdFxyXG5cdFx0dGhpcy5kaWFsb2dfcHJvbXB0ID0gZGlhbG9nX3Byb21wdFxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoXHJcblx0XHRcdGFzeW5jKCk9PntcclxuXHRcdFx0XHRhd2FpdCB0aGlzLl9vbmxvYWRfKClcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0YXN5bmMgX29ubG9hZF8oKSB7XHJcblx0XHR0aGlzLnlhbWwgPSAnbm90ZS1zeW5jJ1xyXG5cdFx0dGhpcy5zdHJpbmdzID0gbmV3IFN0cmluZ3MoKTtcclxuXHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5mc0VkaXRvciA9IG5ldyBGc0VkaXRvcih0aGlzKTtcclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE5vdGVTeW5jU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdFx0YWRkQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnUsIGZpbGUpID0+IHtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLnN0cmluZ3MuaXRlbV9zeW5jX3ZhdWx0KVxyXG5cdFx0XHRcdFx0LnNldEljb24oXCJkb2N1bWVudFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRsZXQgZHN0ID0gYXdhaXQgdGhpcy5mc0VkaXRvci5zZWxlY3RfdmFsaWRfZGlyKFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudmF1bHREaXIuc3BsaXQoXCJcXG5cIilcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0aWYoIWRzdCl7XHJcblx0XHRcdFx0XHRcdFx0ZHN0ID0gYXdhaXQgdGhpcy5kaWFsb2dfcHJvbXB0KFwiUm9vdCBvZiB2YXVsdFwiKTtcclxuXHRcdFx0XHRcdFx0XHRpZighdGhpcy5mc0VkaXRvci5pc2Rpcihkc3QpKXtcclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJJbnZhbGlkIHJvb3Q6IFwiICsgZHN0KTtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmZzRWRpdG9yLnN5bmNfdGZpbGUoZmlsZSxkc3QsJ210aW1lJyx0cnVlLGZhbHNlKTtcclxuXHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKXtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmZzRWRpdG9yLnN5bmNfdGZvbGRlcihmaWxlLGRzdCwnbXRpbWUnLHRydWUsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyBleHBvcnRfcmVhZG1lKHRmaWxlOlRGaWxlfG51bGwsZHN0OnN0cmluZ3xudWxsKXtcclxuXHRcdGlmKCF0ZmlsZSl7dGZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO31cclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cclxuXHRcdGxldCBtY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRsZXQgY3R4ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZCh0ZmlsZSk7XHJcblxyXG5cdFx0bGV0IGZtOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcblx0XHRpZihtY2FjaGUgJiYgbWNhY2hlWydmcm9udG1hdHRlciddKXtcclxuXHRcdFx0Zm0gPSBtY2FjaGVbJ2Zyb250bWF0dGVyJ107XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIWRzdCl7XHJcblx0XHRcdGRzdCA9IGZtW3RoaXMueWFtbF0/LkRpclxyXG5cdFx0XHRpZighZHN0KXtcclxuXHRcdFx0XHRkc3QgPSBhd2FpdCB0aGlzLmRpYWxvZ19wcm9tcHQoJ1BhdGggb2YgTG9jYWxHaXRQcm9qZWN0Jyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighZHN0IHx8ICF0aGlzLmZzRWRpdG9yLmlzZGlyKGRzdCkpe1xyXG5cdFx0XHRuZXcgTm90aWNlKHRoaXMuc3RyaW5ncy5ub3RpY2Vfbm9zdWNoZGlyLDMwMDApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGRzdCA9IGRzdC5yZXBsYWNlKC9cXFxcL2csJy8nKTtcclxuXHJcblx0XHQvLyBzZXQgdGFyZ2V0IGZpbGVuYW1lL1x1NjU4N1x1NEVGNlx1NTQwRFxyXG5cdFx0bGV0IHRhcmdldDtcclxuXHRcdGxldCBuYW1lID0gZm1bdGhpcy55YW1sXT8uTmFtZTtcclxuXHRcdGlmKG5hbWUgJiYgIShuYW1lPT0nJykpe1xyXG5cdFx0XHR0YXJnZXQgPSBkc3QrJy8nK25hbWUrJy5tZCc7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGFyZ2V0ID0gZHN0KycvJyt0ZmlsZS5iYXNlbmFtZSsnLm1kJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYoZm1bdGhpcy55YW1sXT8uUmVtb3ZlTWV0YSl7XHJcblx0XHRcdGlmKG1jYWNoZT8uZnJvbnRtYXR0ZXJQb3NpdGlvbj8uZW5kPy5vZmZzZXQpe1xyXG5cdFx0XHRcdGN0eCA9IGN0eC5zbGljZShtY2FjaGUuZnJvbnRtYXR0ZXJQb3NpdGlvbi5lbmQub2Zmc2V0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgYXNzZXRzID0gZm1bdGhpcy55YW1sXT8uQXNzZXRzXHJcblxyXG5cdFx0aWYoZm1bdGhpcy55YW1sXT8uVXNlR2l0TGluayAmJiBhc3NldHMpe1xyXG5cdFx0XHRjdHggPSBjdHgucmVwbGFjZShcclxuXHRcdFx0XHQvXFwhXFxbXFxbKC4qPylcXF1cXF0vZywgXHJcblx0XHRcdFx0KG1hdGNoLCBmaWxlbmFtZSkgPT4ge1xyXG5cdFx0XHQgIFx0cmV0dXJuIGAhW10oLi8ke2Fzc2V0c30vJHtmaWxlbmFtZX0pYDtcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHRcdGF3YWl0IHRoaXMuZnNFZGl0b3IuZnMud3JpdGVGaWxlKFxyXG5cdFx0XHR0YXJnZXQsIGN0eCwgJ3V0Zi04JywgXHJcblx0XHRcdChlcnI6RXJyb3IpID0+IHtyZXR1cm47fVxyXG5cdFx0KVxyXG5cdFx0bmV3IE5vdGljZShgRXhwb3J0IHRvICR7dGFyZ2V0fWAsNTAwMClcclxuXHRcdGlmKGFzc2V0cyl7XHJcblx0XHRcdGxldCBvbGlua3MgPSB0aGlzLmZzRWRpdG9yLmdldF9vdXRsaW5rcyh0ZmlsZSxmYWxzZSk7XHJcblx0XHRcdGxldCBhZGlyID0gdGhpcy5mc0VkaXRvci5wYXRoLmpvaW4oZHN0LGFzc2V0cyk7XHJcblx0XHRcdHRoaXMuZnNFZGl0b3IubWtkaXJfcmVjdXJzaXZlKGFkaXIpO1xyXG5cdFx0XHRmb3IobGV0IGYgb2Ygb2xpbmtzKXtcclxuXHRcdFx0XHRpZighKGYuZXh0ZW5zaW9uPT09J21kJykpe1xyXG5cdFx0XHRcdFx0bGV0IGZsYWcgPSB0aGlzLmZzRWRpdG9yLmNvcHlfdGZpbGUoZixhZGlyKycvJytmLmJhc2VuYW1lKycuJytmLmV4dGVuc2lvbik7XHJcblx0XHRcdFx0XHRpZihmbGFnKXtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29weSAke2YubmFtZX1gLDUwMDApXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJcclxuaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSwgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IE5vdGVTeW5jUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCB7IG9uIH0gZnJvbSAnbm9kZTpldmVudHMnO1xyXG5leHBvcnQgY2xhc3MgRnNFZGl0b3J7XHJcbiAgICBmcztcclxuICAgIGFwcDpBcHA7XHJcbiAgICBwYXRoO1xyXG4gICAgcGx1Z2luIDpOb3RlU3luY1BsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZVN5bmNQbHVnaW4pe1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuICAgICAgICB0aGlzLmZzID0gKHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmZzO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IChwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5wYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByb290KCl7XHJcbiAgICAgICAgbGV0IGEgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnk7XHJcbiAgICAgICAgcmV0dXJuIGEuYmFzZVBhdGgucmVwbGFjZSgvXFxcXC9nLCcvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X3RmaWxlKHBhdGg6c3RyaW5nLG9ubHlfZmlyc3Q9dHJ1ZSl7XHJcblx0XHR0cnl7XHJcblx0XHRcdHBhdGggPSBwYXRoLnNwbGl0KCd8JylbMF0ucmVwbGFjZSgnW1snLCcnKS5yZXBsYWNlKCddXScsJycpO1xyXG5cdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKHBhdGgpXHJcblx0XHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGU7XHJcblx0XHRcdH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKG9ubHlfZmlyc3Qpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHRmaWxlID0gKHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55KS5nZXRGaXJzdExpbmtwYXRoRGVzdChwYXRoLnNwbGl0KCcvJykubGFzdCgpKTtcclxuICAgICAgICAgICAgICAgIGlmKHRmaWxlKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGZpbGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHRmaWxlcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkuZ2V0TGlua3BhdGhEZXN0KHBhdGguc3BsaXQoJy8nKS5sYXN0KCkpO1xyXG4gICAgICAgICAgICAgICAgaWYodGZpbGVzICYmIHRmaWxlcy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRmaWxlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1jYXRjaHtcclxuXHRcdFx0cmV0dXJuIG51bGxcclxuXHRcdH1cclxuXHR9XHJcblxyXG4gICAgZ2V0X2lubGlua3ModGZpbGU6VEZpbGUsb25seV9tZD10cnVlKTpBcnJheTxURmlsZT57XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW11cclxuXHJcblx0XHRsZXQgaW5saW5rcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkuZ2V0QmFja2xpbmtzRm9yRmlsZSh0ZmlsZSk7XHJcblx0XHRmb3IobGV0IFtrLHZdIG9mIGlubGlua3MuZGF0YSl7XHJcblx0XHRcdGxldCBjdXJyID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChrKTtcclxuXHRcdFx0aWYoY3Vycil7XHJcblx0XHRcdFx0cmVzLnB1c2goY3VycilcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9vdXRsaW5rcyh0ZmlsZTpURmlsZSxvbmx5X21kPXRydWUpOkFycmF5PFRGaWxlPntcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCBtY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRpZighbWNhY2hlKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW107XHJcblx0XHRpZihtY2FjaGUubGlua3Mpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0Zm9yKGxldCBsaW5rIG9mIG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKCFvbmx5X21kICYmIG1jYWNoZS5lbWJlZHMpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmVtYmVkcyl7XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUobGluay5saW5rKTtcclxuXHRcdFx0XHRpZih0ZmlsZSAmJiAhcmVzLmNvbnRhaW5zKHRmaWxlKSl7XHJcblx0XHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblxyXG4gICAgYWJzcGF0aCh0ZmlsZTpURmlsZXxURm9sZGVyKXtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICh0aGlzLnJvb3QrJy8nK3RmaWxlLnBhdGgpLnJlcGxhY2UoL1xcXFwvZywnLycpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbiAgICBpc2ZpbGUocGF0aDpzdHJpbmcpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZzLmV4aXN0c1N5bmMocGF0aCkgJiYgdGhpcy5mcy5zdGF0U3luYyhwYXRoKS5pc0ZpbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpc2RpcihwYXRoOnN0cmluZyl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnMuZXhpc3RzU3luYyhwYXRoKSAmJiB0aGlzLmZzLnN0YXRTeW5jKHBhdGgpLmlzRGlyZWN0b3J5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdF9kaXIocGF0aDpzdHJpbmcsYXNfZnVsbHBhdGg9dHJ1ZSl7XHJcbiAgICAgICAgaWYoIXRoaXMuaXNkaXIocGF0aCkpe3JldHVybiBbXX1cclxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmZzLnJlYWRkaXJTeW5jKHBhdGgpXHJcbiAgICAgICAgaWYoYXNfZnVsbHBhdGgpe1xyXG4gICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLm1hcChcclxuICAgICAgICAgICAgICAgICh4OnN0cmluZyk9PntcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aCsnLycreFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSAgIFxyXG4gICAgICAgIHJldHVybiBpdGVtc1xyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0X3ZhbGlkX2RpcihwYXRoczpBcnJheTxzdHJpbmc+fHN0cmluZyl7XHJcbiAgICAgICAgaWYodHlwZW9mKHBhdGhzKT09J3N0cmluZycpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmlzZGlyKHBhdGhzKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aHNcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgcGF0aCBvZiBwYXRocyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNkaXIocGF0aCkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2VsZWN0X3ZhbGlkX2RpcihwYXRoczpBcnJheTxzdHJpbmc+LHByb21wdF9pZl9udWxsPWZhbHNlKXtcclxuICAgICAgICBsZXQgeHBhdGhzID0gcGF0aHMuZmlsdGVyKChwOnN0cmluZyk9PnRoaXMuaXNkaXIocCkpO1xyXG4gICAgICAgIGxldCBwYXRoID0gbnVsbDtcclxuICAgICAgICBpZih4cGF0aHMubGVuZ3RoPjApe1xyXG4gICAgICAgICAgICBwYXRoID0gYXdhaXQgdGhpcy5wbHVnaW4uZGlhbG9nX3N1Z2dlc3QoeHBhdGhzLHhwYXRocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFwYXRoICYmIHByb21wdF9pZl9udWxsKXtcclxuICAgICAgICAgICAgcGF0aCA9IGF3YWl0IHRoaXMucGx1Z2luLmRpYWxvZ19wcm9tcHQoXCJSb290IG9mIHZhdWx0XCIpO1xyXG4gICAgICAgICAgICBpZighdGhpcy5pc2RpcihwYXRoKSl7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgbWtkaXJfcmVjdXJzaXZlKHBhdGg6c3RyaW5nKXtcclxuICAgICAgICBpZih0aGlzLmlzZGlyKHBhdGgpKXtyZXR1cm4gdHJ1ZTt9XHJcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGF0aC5kaXJuYW1lKHBhdGgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmlzZGlyKHBhcmVudCkpe1xyXG4gICAgICAgICAgICB0aGlzLm1rZGlyX3JlY3Vyc2l2ZShwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZzLm1rZGlyU3luYyhwYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuXHQqIFx1OTY0NFx1NEVGNiBzcmMgXHU1MjMwIGRzdFx1RkYwQ1x1NEUwRFx1NTcyOCB2YXVsdCBcdTRFMkRcdUZGMENcdTk3MDBcdTg5ODFcdTdFRERcdTVCRjlcdThERUZcdTVGODRcclxuXHQqIG92ZXJ3cml0ZVx1RkYwQ1x1NTkwRFx1NzZENlx1RkYxQm10aW1lXHVGRjBDXHU2NUIwXHU2NTg3XHU0RUY2XHVGRjFCXHJcblx0Ki9cclxuICAgIGNvcHlfZmlsZShzcmM6c3RyaW5nLGRzdDpzdHJpbmcsbW9kZT0ncGFzcz5vdmVyd3JpdGU+bXRpbWUnKSB7XHJcbiAgICAgICAgbGV0IGZzID0gdGhpcy5mcztcclxuXHJcbiAgICAgICAgbW9kZSA9IG1vZGUuc3BsaXQoJz4nKVswXVxyXG4gICAgICAgIGlmKCFmcy5leGlzdHNTeW5jKHNyYykpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoZHN0KSl7XHJcbiAgICAgICAgICAgIGlmKG1vZGU9PT0nb3ZlcndyaXRlJyl7XHJcbiAgICAgICAgICAgICAgICBmcy51bmxpbmtTeW5jKGRzdCk7XHJcbiAgICAgICAgICAgICAgICBmcy5jb3B5RmlsZVN5bmMoc3JjLGRzdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobW9kZT09PSdtdGltZScpe1xyXG4gICAgICAgICAgICAgICAgLy8gZHN0IFx1NjZGNFx1NjVCMFx1NjVGNlx1OTVGNFx1NUMwRlx1NEU4RSBzcmNcclxuICAgICAgICAgICAgICAgIGlmKGZzLnN0YXRTeW5jKGRzdCkubXRpbWVNczxmcy5zdGF0U3luYyhzcmMpLm10aW1lTXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZzLnVubGlua1N5bmMoZHN0KTtcclxuICAgICAgICAgICAgICAgICAgICBmcy5jb3B5RmlsZVN5bmMoc3JjLGRzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZnMuY29weUZpbGVTeW5jKHNyYyxkc3QpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvcHlfdGZpbGUodGZpbGU6VEZpbGUsIGRzdDpzdHJpbmcsbW9kZT0nbXRpbWUnKSB7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBzcmMgPSB0aGlzLmFic3BhdGgodGZpbGUpO1xyXG5cdFx0XHRyZXR1cm4gc3JjICYmIHRoaXMuY29weV9maWxlKHNyYyxkc3QsbW9kZSk7XHJcblx0XHR9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcbiAgICBzeW5jX3RmaWxlKHRmaWxlOlRGaWxlLHZhdWx0X3Jvb3Q6c3RyaW5nLG1vZGU9J210aW1lJyxhdHRhY2htZW50PXRydWUsb3V0bGluaz1mYWxzZSl7XHJcbiAgICAgICAgLy8gXHU1QzA2XHU3QjE0XHU4QkIwXHU5NTVDXHU1MENGXHU3OUZCXHU1MkE4XHU1MjMwXHU1MjJCXHU3Njg0XHU1RTkzXHU0RTJEXHVGRjBDXHU2NTg3XHU0RUY2XHU3RUQzXHU2Nzg0XHU0RTBFXHU1RjUzXHU1MjREXHU1RTkzXHU3NkY4XHU1NDBDXHJcbiAgICAgICAgaWYodGZpbGUpe1xyXG4gICAgICAgICAgICB2YXVsdF9yb290ID0gdmF1bHRfcm9vdC5yZXBsYWNlKC9cXFxcL2csJy8nKTtcclxuXHRcdFx0bGV0IHNyYyA9IHRoaXMucm9vdCArICcvJyArIHRmaWxlLnBhdGg7XHJcbiAgICAgICAgICAgIGxldCBkc3QgPSB2YXVsdF9yb290KycvJyt0ZmlsZS5wYXRoO1xyXG4gICAgICAgICAgICB0aGlzLm1rZGlyX3JlY3Vyc2l2ZSh0aGlzLnBhdGguZGlybmFtZShkc3QpKTtcclxuXHRcdFx0dGhpcy5jb3B5X2ZpbGUoc3JjLGRzdCxtb2RlKTtcclxuICAgICAgICAgICAgaWYoYXR0YWNobWVudCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGZpbGVzID0gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUsZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB0IG9mIHRmaWxlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoISh0LmV4dGVuc2lvbj09PSdtZCcpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jX3RmaWxlKHQsdmF1bHRfcm9vdCxtb2RlLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihvdXRsaW5rKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jX3RmaWxlKHQsdmF1bHRfcm9vdCxtb2RlLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH1cclxuICAgIH1cclxuXHJcbiAgICBzeW5jX3Rmb2xkZXIodGZvbGRlcjpURm9sZGVyLHZhdWx0X3Jvb3Q6c3RyaW5nLG1vZGU9J210aW1lJyxhdHRhY2htZW50PXRydWUsb3V0bGluaz1mYWxzZSxzdHJpY3Q9ZmFsc2Upe1xyXG4gICAgICAgIGlmKHRmb2xkZXIpe1xyXG4gICAgICAgICAgICBmb3IobGV0IHQgb2YgdGZvbGRlci5jaGlsZHJlbil7XHJcbiAgICAgICAgICAgICAgICBpZih0IGluc3RhbmNlb2YgVEZvbGRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jX3Rmb2xkZXIodCx2YXVsdF9yb290LG1vZGUsYXR0YWNobWVudCxvdXRsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHQgaW5zdGFuY2VvZiBURmlsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jX3RmaWxlKHQsdmF1bHRfcm9vdCxtb2RlLGF0dGFjaG1lbnQsb3V0bGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoc3RyaWN0KXtcclxuICAgICAgICAgICAgICAgIGxldCBkc3QgPSB2YXVsdF9yb290KycvJyt0Zm9sZGVyLnBhdGhcclxuICAgICAgICAgICAgICAgIGxldCBzcmMgPSB0aGlzLmFic3BhdGgodGZvbGRlcilcclxuICAgICAgICAgICAgICAgIGlmKHNyYyAmJiBkc3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlX2ZpbGVzX25vdF9pbl9zcmMoc3JjLGRzdClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZV9maWxlX29yX2RpcihwYXRoOnN0cmluZyl7XHJcbiAgICAgICAgaWYodGhpcy5pc2ZpbGUocGF0aCkpe1xyXG4gICAgICAgICAgICB0aGlzLmZzLnVubGlua1N5bmMocGF0aClcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzZGlyKHBhdGgpKXtcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5saXN0X2RpcihwYXRoLHRydWUpXHJcbiAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZV9maWxlX29yX2RpcihpdGVtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZnMucm1kaXJTeW5jKHBhdGgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZV9maWxlc19ub3RfaW5fc3JjKHNyYzpzdHJpbmcsZHN0OnN0cmluZyl7XHJcbiAgICAgICAgLy8gXHU5MDREXHU1Mzg2IGRzdCBcdTRFMkRcdTYyNDBcdTY3MDlcdTY1ODdcdTRFRjZcdUZGMENcdTU5ODJcdTY3OUNcdTY3RDBcdTY1ODdcdTRFRjZcdTRFMERcdTU3MjhzcmNcdTRFMkRcdUZGMENcdTUyMjBcdTk2NjRcclxuICAgICAgICBpZighdGhpcy5pc2RpcihzcmMpIHx8ICF0aGlzLmlzZGlyKGRzdCkpe3JldHVybn1cclxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmxpc3RfZGlyKGRzdCxmYWxzZSlcclxuICAgICAgICBmb3IobGV0IGl0ZW0gb2YgaXRlbXMpe1xyXG4gICAgICAgICAgICBsZXQgYWRzdCA9IGRzdCsnLycraXRlbVxyXG4gICAgICAgICAgICBsZXQgYXNyYyA9IHNyYysnLycraXRlbVxyXG4gICAgICAgICAgICBpZih0aGlzLmlzZmlsZShhZHN0KSl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc2ZpbGUoYXNyYykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnMudW5saW5rU3luYyhhZHN0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmlzZGlyKGFkc3QpKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzZGlyKGFzcmMpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZV9maWxlX29yX2RpcihhZHN0KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVfZmlsZXNfbm90X2luX3NyYyhhc3JjLGFkc3QpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3luY19mb2xkZXIoc3JjOnN0cmluZyxkc3Q6c3RyaW5nLG1vZGU9J210aW1lJyxzdHJpY3Q9ZmFsc2Upe1xyXG4gICAgICAgIGlmKCF0aGlzLmlzZGlyKHNyYykpe3JldHVybn1cclxuICAgICAgICB0aGlzLm1rZGlyX3JlY3Vyc2l2ZShkc3QpXHJcbiAgICAgICAgaWYoIXRoaXMuaXNkaXIoZHN0KSl7cmV0dXJufVxyXG5cclxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmxpc3RfZGlyKHNyYyxmYWxzZSlcclxuICAgICAgICBmb3IobGV0IGl0ZW0gb2YgaXRlbXMpe1xyXG4gICAgICAgICAgICBsZXQgYXNyYyA9IHRoaXMucGF0aC5qb2luKHNyYyxpdGVtKVxyXG4gICAgICAgICAgICBsZXQgYWRzdCA9IHRoaXMucGF0aC5qb2luKGRzdCxpdGVtKVxyXG4gICAgICAgICAgICBpZih0aGlzLmlzZmlsZShhc3JjKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlfZmlsZShhc3JjLGFkc3QsbW9kZSlcclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5pc2Rpcihhc3JjKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNfZm9sZGVyKGFzcmMsYWRzdCxtb2RlLHN0cmljdClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzdHJpY3Qpe1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZV9maWxlc19ub3RfaW5fc3JjKHNyYyxkc3QpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZGlmeShwYXRoOnN0cmluZyxjYWxsYmFjazpGdW5jdGlvbixlbmNvZGluZz0ndXRmOCcpe1xyXG4gICAgICAgIGxldCBmcyA9IHRoaXMuZnM7XHJcbiAgICAgICAgaWYoIWZzLmV4aXN0c1N5bmMocGF0aCkpe3JldHVybn07XHJcblxyXG4gICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIGVuY29kaW5nLCAoZXJyOkVycm9yLCBkYXRhOnN0cmluZykgPT4ge1xyXG5cdFx0XHRpZihlcnIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBycyA9IGNhbGxiYWNrKHBhdGgsZGF0YSk7XHJcblx0XHRcdGZzLndyaXRlRmlsZShwYXRoLCBycywgZW5jb2RpbmcsIChlcnI6RXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHRcdFx0fSk7XHJcblx0XHQgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59IiwgIlxyXG5leHBvcnQgY2xhc3MgU3RyaW5nc3tcclxuICAgIGxhbmd1YWdlOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgbGV0IGxhbmcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmd1YWdlJyk7XHJcbiAgICAgICAgaWYobGFuZyl7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcclxuICAgICAgICB9XHJcblx0fVxyXG5cclxuICAgIGdldCBjbWRfZXhwb3J0X2N1cnJlbnRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUJGQ1x1NTFGQVx1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdFeHBvcnQgY3VycmVudCBub3RlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9zZXRfdmV4cG9ydGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU4QkJFXHU3RjZFXHU1QkZDXHU1MUZBXHU3QjE0XHU4QkIwXHU5MDA5XHU5ODc5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1NldCBjb25maWcgdG8gZXhwb3J0IG5vdGUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2V4cG9ydF9wbHVnaW4oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTVCRkNcdTUxRkFcdTYzRDJcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnRXhwb3J0IHBsdWdpbic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfZG93bmxvYWRfZ2l0X3JlcG8oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTRFMEJcdThGN0QgR2l0IFx1NEVEM1x1NUU5M1x1NjU4N1x1NEVGNidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdEb3dubG9hZCBnaXQgcmVwbyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwcm9tcHRfcGF0aF9vZl9mb2xkZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdThGOTNcdTUxNjVcdTY1ODdcdTRFRjZcdTU5MzlcdThERUZcdTVGODQnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnSW5wdXQgcGF0aCBvZiBmb2xkZXInO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbm90aWNlX291dHB1dCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUJGQ1x1NTFGQVx1RkYxQSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdPdXRwdXQ6JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgbm90aWNlX25vc3VjaGRpcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjVFMFx1NjU0OFx1NzZFRVx1NUY1NSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdJbnZhaWQgcGF0aC4nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ192YXVsdF9kaXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTVFOTNcdTc2RUVcdTVGNTUnO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Jvb3QgZGlyIG9mIHZhdWx0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfc3RyaWN0X21vZGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTRFMjVcdTY4M0NcdTZBMjFcdTVGMEY/JztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdTdHJpY3QgbW9kZT8nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19zdHJpY3RfbW9kZV9kZXNjKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MzcxXHU5NjY5XHVGRjAxXHU1NDBDXHU2QjY1XHU2NUY2XHU1MjIwXHU5NjY0XHU3NkVFXHU2ODA3XHU1RTkzXHU0RTJEXHU1OTFBXHU1MUZBXHU3Njg0XHU2NTg3XHU0RUY2JztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdEYW5nZXIhIERlbGV0ZSBmaWxlcyBvciBmb2xkZXJzIGluIHRhcmdldCB2YXVsdCBidXQgbm90IGluIGN1cnJlbnQgdmF1bHQuJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfZ2l0X3JlcG8oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdHaXQgXHU0RUQzXHU1RTkzJztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdHaXQgcmVwb3NpdG9yeSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NvcHlfZGF0YV9qc29uKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1OTBEXHU1MjM2IGRhdGEuanNvbic7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnQ29weSBkYXRhLmpzb24nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9za2lwX2RhdGFfanNvbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OERGM1x1OEZDNyBkYXRhLmpzb24nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1NraXAgZGF0YS5qc29uJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fc3luY192YXVsdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1NkI2NVx1NTIzMFx1NTE3Nlx1NUI4M1x1NUU5Myc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnU3luYyB0byBvdGhlciB2YXVsdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbGV0IHN0cmluZ3MgPSBuZXcgU3RyaW5ncygpOyIsICJpbXBvcnQgeyBcclxuXHRBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsUGx1Z2luXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVTeW5jUGx1Z2luIGZyb20gJy4uL21haW4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNeVNldHRpbmdzIHtcclxuXHRzdHJpY3RfbW9kZTogYm9vbGVhbjtcclxuXHR2YXVsdERpcjpzdHJpbmc7XHJcblx0Z2l0X3JlcG86c3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlTZXR0aW5ncyA9IHtcclxuXHRzdHJpY3RfbW9kZTpmYWxzZSxcclxuXHR2YXVsdERpcjogJycsXHJcblx0Z2l0X3JlcG86ICdodHRwczovL2dpdGh1Yi5jb20vemlnaG9sZGluZy9PYnNpZGlhblovdHJlZS9tYXN0ZXJcXG5odHRwczovL2dpdGVlLmNvbS96aWdob2xkaW5nL09ic2lkaWFuWi90cmVlL21hc3RlcidcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVTeW5jU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTm90ZVN5bmNQbHVnaW47XHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTm90ZVN5bmNQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0Z2V0U2V0dGluZ1ZhbHVlKGZpZWxkOiBrZXlvZiBNeVNldHRpbmdzKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3NbZmllbGRdO1xyXG5cdH1cclxuXHJcblx0YWRkX3RvZ2dsZShuYW1lOnN0cmluZyxkZXNjOnN0cmluZyxmaWVsZDprZXlvZiBNeVNldHRpbmdzKXtcclxuXHRcdGxldCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHRcdGxldCB2YWx1ZSA9ICh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpW2ZpZWxkXSBhcyBib29sZWFuO1xyXG5cdFx0bGV0IGl0ZW0gPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCkgIFxyXG5cdFx0XHQuc2V0TmFtZShuYW1lKVxyXG5cdFx0XHQuc2V0RGVzYyhkZXNjKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOm5ldmVyKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1tmaWVsZF0gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfdmF1bHRfZGlyKVxyXG5cdFx0XHRcdC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy52YXVsdERpcilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudmF1bHREaXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdHRoaXMuYWRkX3RvZ2dsZShcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3N0cmljdF9tb2RlLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfc3RyaWN0X21vZGVfZGVzYyxcclxuXHRcdFx0J3N0cmljdF9tb2RlJ1xyXG5cdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfZ2l0X3JlcG8pXHJcblx0XHRcdFx0LmFkZFRleHRBcmVhKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdpdF9yZXBvKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5naXRfcmVwbyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFxyXG5cdE5vdGljZSwgVEZpbGVcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgTm90ZVN5bmNQbHVnaW4gZnJvbSAnLi4vbWFpbic7XHJcbmltcG9ydCB7IGl0IH0gZnJvbSAnbm9kZTp0ZXN0JztcclxuXHJcbmNvbnN0IGNtZF9leHBvcnRfY3VycmVudF9ub3RlID0gKHBsdWdpbjpOb3RlU3luY1BsdWdpbikgPT4gKHtcclxuXHRpZDogJ2V4cG9ydF9jdXJyZW50X25vdGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9leHBvcnRfY3VycmVudF9ub3RlLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdGZpbGUgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRhd2FpdCBwbHVnaW4uZXhwb3J0X3JlYWRtZSh0ZmlsZSxudWxsKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX3NldF92ZXhwb3J0ZXIgPSAocGx1Z2luOk5vdGVTeW5jUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnc2V0X3ZleHBvcnRlcicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3NldF92ZXhwb3J0ZXIsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCB0ZmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cdFx0bGV0IGRpciA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfcHJvbXB0KHBsdWdpbi5zdHJpbmdzLnByb21wdF9wYXRoX29mX2ZvbGRlcik7XHJcblx0XHRsZXQgaXRlbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cdFx0aWYocGx1Z2luLmZzRWRpdG9yLmZzLmV4aXN0c1N5bmMoZGlyKSl7XHJcblx0XHRcdGl0ZW1bJ0RpciddID0gZGlyO1xyXG5cdFx0fVxyXG5cdFx0aXRlbVsnTmFtZSddID0gJ3JlYWRNZSc7XHJcblx0XHRpdGVtWydBc3NldHMnXSA9ICcuL2Fzc2V0cyc7XHJcblx0XHRpdGVtWydSZW1vdmVNZXRhJ10gPSB0cnVlO1xyXG5cdFx0aXRlbVsnVXNlR2l0TGluayddID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0YXdhaXQgcGx1Z2luLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcblx0XHRcdHRmaWxlLFxyXG5cdFx0XHRhc3luYyhmbSkgPT57XHJcblx0XHRcdFx0Zm1bcGx1Z2luLnlhbWxdID0gaXRlbVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9leHBvcnRfcGx1Z2luID0gKHBsdWdpbjpOb3RlU3luY1BsdWdpbikgPT4gKHtcclxuXHRpZDogJ2V4cG9ydF9wbHVnaW4nLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9leHBvcnRfcGx1Z2luLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcclxuXHRcdGxldCBwbHVnaW5zID0gT2JqZWN0LmtleXMoKHBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnMpO1xyXG5cdFx0bGV0IHAgPSBhd2FpdCBwbHVnaW4uZGlhbG9nX3N1Z2dlc3QocGx1Z2lucyxwbHVnaW5zKTtcclxuXHRcdGxldCBlcGx1Z2luID0gKHBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbihwKTtcclxuXHRcdGlmKGVwbHVnaW4pe1xyXG5cdFx0XHRsZXQgcGF0aHMgPSBwbHVnaW4uc2V0dGluZ3MudmF1bHREaXIuc3BsaXQoXCJcXG5cIilcclxuXHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IHBsdWdpbi5mc0VkaXRvci5zZWxlY3RfdmFsaWRfZGlyKFxyXG5cdFx0XHRcdHBhdGhzXHJcblx0XHRcdClcclxuXHRcdFx0aWYodGFyZ2V0KXtcclxuXHRcdFx0XHRsZXQgaXRlbXMgPSBwbHVnaW4uZnNFZGl0b3IubGlzdF9kaXIodGFyZ2V0LGZhbHNlKVxyXG5cdFx0XHRcdGl0ZW1zID0gaXRlbXMuZmlsdGVyKCh4OnN0cmluZyk9Pnguc3RhcnRzV2l0aCgnLicpICYmIHghPScuZ2l0JykuZmlsdGVyKFxyXG5cdFx0XHRcdFx0KHg6c3RyaW5nKT0+e1xyXG5cdFx0XHRcdFx0XHRsZXQgcGF0aCA9IHBsdWdpbi5mc0VkaXRvci5wYXRoLmpvaW4odGFyZ2V0LHgpXHJcblx0XHRcdFx0XHRcdGlmKCFwbHVnaW4uZnNFZGl0b3IuaXNkaXIocGF0aCkpe1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGxldCBpdGVtcyA9IHBsdWdpbi5mc0VkaXRvci5saXN0X2RpcihwYXRoLGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gaXRlbXMuY29udGFpbnMoJ3BsdWdpbnMnKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRpZihpdGVtcy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRcdFx0dGFyZ2V0ID0gcGx1Z2luLmZzRWRpdG9yLnBhdGguam9pbih0YXJnZXQsaXRlbXNbMF0sJ3BsdWdpbnMnKVxyXG5cdFx0XHRcdH1lbHNlIGlmKGl0ZW1zLmxlbmd0aD4xKXtcclxuXHRcdFx0XHRcdGxldCBpdGVtID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdFx0XHRpdGVtcyxpdGVtcywnY29uZmlnJ1xyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0aWYoaXRlbSl7XHJcblx0XHRcdFx0XHRcdHRhcmdldCA9IHBsdWdpbi5mc0VkaXRvci5wYXRoLmpvaW4odGFyZ2V0LGl0ZW0sJ3BsdWdpbnMnKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZighcGx1Z2luLmZzRWRpdG9yLmZzLmV4aXN0c1N5bmModGFyZ2V0KSB8fCBcclxuXHRcdFx0XHRwbHVnaW4uZnNFZGl0b3IucGF0aC5iYXNlbmFtZSh0YXJnZXQpIT0ncGx1Z2lucycpe1xyXG5cdFx0XHRcdHRhcmdldCA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfcHJvbXB0KHBsdWdpbi5zdHJpbmdzLnByb21wdF9wYXRoX29mX2ZvbGRlcik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRhcmdldCA9IHRhcmdldC5yZXBsYWNlKC9cXFxcL2csJy8nKTtcclxuXHRcdFx0aWYoIXRhcmdldC5lbmRzV2l0aCgnLycgKyBwKSl7XHJcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0ICsgJy8nICsgcDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZighcGx1Z2luLmZzRWRpdG9yLmZzLmV4aXN0c1N5bmModGFyZ2V0KSl7XHJcblx0XHRcdFx0cGx1Z2luLmZzRWRpdG9yLmZzLm1rZGlyU3luYyh0YXJnZXQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBpdGVtcyA9IFsnbWFpbi5qcycsJ21hbmlmZXN0Lmpzb24nLCdzdHlsZXMuY3NzJ107XHJcblx0XHRcdGxldCBkaiA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRbcGx1Z2luLnN0cmluZ3MuaXRlbV9za2lwX2RhdGFfanNvbixwbHVnaW4uc3RyaW5ncy5pdGVtX2NvcHlfZGF0YV9qc29uXSxcclxuXHRcdFx0XHRbZmFsc2UsdHJ1ZV0sXHJcblx0XHRcdFx0JydcclxuXHRcdFx0KVxyXG5cdFx0XHRpZihkail7XHJcblx0XHRcdFx0aXRlbXMucHVzaCgnZGF0YS5qc29uJylcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IobGV0IGl0ZW0gb2YgaXRlbXMpe1xyXG5cdFx0XHRcdGxldCBzcmMgPSBgJHtwbHVnaW4uZnNFZGl0b3Iucm9vdH0vJHtlcGx1Z2luLm1hbmlmZXN0LmRpcn0vJHtpdGVtfWA7XHJcblx0XHRcdFx0bGV0IGRzdCA9IGAke3RhcmdldH0vJHtpdGVtfWA7XHJcblx0XHRcdFx0bGV0IGZsYWcgPSBwbHVnaW4uZnNFZGl0b3IuY29weV9maWxlKHNyYyxkc3QsJ292ZXJ3cml0ZScpO1xyXG5cdFx0XHRcdGlmKGZsYWcpe1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZShgQ29weSAke2l0ZW19IHRvICR7dGFyZ2V0fWAsNTAwMClcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX2Rvd25sb2FkX2dpdF9yZXBvID0gKHBsdWdpbjpOb3RlU3luY1BsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9kb3dubG9hZF9naXRfcmVwbycsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2Rvd25sb2FkX2dpdF9yZXBvLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgcmVwb3MgPSBwbHVnaW4uc2V0dGluZ3MuZ2l0X3JlcG8uc3BsaXQoJ1xcbicpXHJcblx0XHRsZXQgcmVwbyA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfc3VnZ2VzdChyZXBvcyxyZXBvcyk7XHJcblx0XHRpZighcmVwbyl7cmV0dXJufVxyXG5cclxuXHRcdGxldCBtYXRjaCA9IHJlcG8ubWF0Y2goL15odHRwcz86XFwvXFwvKC4qKVxcLmNvbVxcLyhbXi9dKilcXC8oW14vXSopXFwvdHJlZVxcLyhbXi9dKilcXC8/KC4qKSQvKTtcclxuXHRcdGlmKCFtYXRjaCl7cmV0dXJufVxyXG5cclxuXHRcdGxldCBTT1VSQ0UgPSBtYXRjaFsxXTsgLy8gZ2l0ZWVcclxuXHRcdGxldCByZXBvT3duZXIgPSBtYXRjaFsyXTsgLy8gXHU1RjAwXHU1M0QxXHU4MDA1XHJcblx0XHRsZXQgcmVwb05hbWUgPSBtYXRjaFszXTsgLy8gXHU5ODc5XHU3NkVFXHU1NDBEXHU3OUYwXHJcblx0XHRsZXQgYnJhbmNoID0gbWF0Y2hbNF07IC8vIFx1NTIwNlx1NjUyRlx1NTQwRFx1NzlGMFxyXG5cdFx0bGV0IHBhdGggPSBtYXRjaFs1XTsgIC8vIFx1NTIxRFx1NTlDQlx1OERFRlx1NUY4NFxyXG5cdFx0XHJcblx0XHRhc3luYyBmdW5jdGlvbiBsaXN0X2ZpbGVzX29mX3BhdGgocmVwb093bmVyOnN0cmluZywgcmVwb05hbWU6c3RyaW5nLCBwYXRoOnN0cmluZywgYnJhbmNoID0gJ21hc3RlcicpIHtcclxuXHRcdFx0bGV0IHVybDtcclxuXHRcdFx0aWYoU09VUkNFPT0nZ2l0aHViJyl7XHJcblx0XHRcdFx0dXJsID0gYGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJHtyZXBvT3duZXJ9LyR7cmVwb05hbWV9L2NvbnRlbnRzLyR7cGF0aH0/cmVmPSR7YnJhbmNofWA7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHVybCA9IGBodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3MvJHtyZXBvT3duZXJ9LyR7cmVwb05hbWV9L2NvbnRlbnRzLyR7cGF0aH0/cmVmPSR7YnJhbmNofWBcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgcmVxID0gYXdhaXQgKHdpbmRvdyBhcyBhbnkpLnJlcXVlc3RVcmwodXJsKVxyXG5cdFx0XHRyZXEgPSBKU09OLnBhcnNlKHJlcS50ZXh0KVxyXG5cdFx0XHRpZighQXJyYXkuaXNBcnJheShyZXEpKXtcclxuXHRcdFx0XHRyZXEgPSBbcmVxXVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXFcclxuXHRcdH1cclxuXHJcblx0XHRhc3luYyBmdW5jdGlvbiBkb3dubG9hZF9maWxlKHVybDpzdHJpbmcsZm9sZGVyX3BhdGg6c3RyaW5nLGZpbGVfbmFtZTpzdHJpbmcpe1xyXG5cdFx0XHRsZXQgcmVxID0gYXdhaXQgKHdpbmRvdyBhcyBhbnkpLnJlcXVlc3RVcmwodXJsKVxyXG5cdFx0XHQvLyByZXEgPSBKU09OLnBhcnNlKHJlcS50ZXh0KVxyXG5cdFx0XHQvLyBsZXQgY3R4ID0gYXRvYihyZXEuY29udGVudClcclxuXHRcdFx0bGV0IGN0eCA9IHJlcS50ZXh0XHJcblx0XHRcdGxldCB0ZmlsZV9wYXRoID0gYCR7Zm9sZGVyX3BhdGh9LyR7ZmlsZV9uYW1lfWBcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coY3R4KVxyXG5cdFx0XHRpZihmb2xkZXJfcGF0aC5zdGFydHNXaXRoKCcuJykpe1xyXG5cdFx0XHRcdGxldCBmbGFnID0gKHBsdWdpbi5hcHAudmF1bHQgYXMgYW55KS5leGlzdHMoZm9sZGVyX3BhdGgpO1xyXG5cdFx0XHRcdGlmKCFmbGFnKXtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlcl9wYXRoKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmbGFnID0gKHBsdWdpbi5hcHAudmF1bHQgYXMgYW55KS5leGlzdHModGZpbGVfcGF0aCk7XHJcblx0XHRcdFx0aWYoZmxhZyl7XHJcblx0XHRcdFx0XHRhd2FpdCAocGx1Z2luLmFwcC52YXVsdCBhcyBhbnkpLmFkYXB0ZXIucmVtb3ZlKHRmaWxlX3BhdGgpXHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZSh0ZmlsZV9wYXRoLGN0eClcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYFx1NjZGNFx1NjVCMFx1RkYxQSR7dGZpbGVfcGF0aH1gLDUwMDApXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZSh0ZmlsZV9wYXRoLGN0eClcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYFx1NEUwQlx1OEY3RFx1RkYxQSR7dGZpbGVfcGF0aH1gLDUwMDApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRsZXQgZm9sZGVyID0gcGx1Z2luLmFwcC52YXVsdC5nZXRGb2xkZXJCeVBhdGgoZm9sZGVyX3BhdGgpXHJcblx0XHRcdFx0aWYoIWZvbGRlcil7XHJcblx0XHRcdFx0XHRmb2xkZXIgPSBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXJfcGF0aClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gcGx1Z2luLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKHRmaWxlX3BhdGgpXHJcblx0XHRcdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuY3JlYXRlKHRmaWxlX3BhdGgsY3R4KTtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYFx1NEUwQlx1OEY3RFx1RkYxQSR7dGZpbGVfcGF0aH1gLDUwMDApXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeSh0ZmlsZSxjdHgpXHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKGBcdTY2RjRcdTY1QjBcdUZGMUEke3RmaWxlLnBhdGh9YCw1MDAwKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHJcblx0XHRhc3luYyBmdW5jdGlvbiBkb3dubG9hZF9maWxlX29mX2RpcihyZXBvT3duZXI6c3RyaW5nLCByZXBvTmFtZTpzdHJpbmcsIHBhdGg6c3RyaW5nLCBicmFuY2g6c3RyaW5nKXtcclxuXHRcdFx0bGV0IGl0ZW1zID0gYXdhaXQgbGlzdF9maWxlc19vZl9wYXRoKHJlcG9Pd25lciwgcmVwb05hbWUsIHBhdGgsIGJyYW5jaClcclxuXHRcdFx0bGV0IG5jID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuXHRcdFx0bGV0IGl0ZW0gPSBhd2FpdCBuYy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRpdGVtcy5tYXAoKHg6YW55KT0+KHgudHlwZT09J2ZpbGUnPydcdUQ4M0RcdURDQzMnOidcdUQ4M0RcdURDQzEnKSt4LnBhdGgpLFxyXG5cdFx0XHRcdGl0ZW1zLCcnLHRydWVcclxuXHRcdFx0KTtcclxuXHRcdFx0aWYoIWl0ZW0pe3JldHVybn1cclxuXHRcdFx0aWYodHlwZW9mKGl0ZW0pPT0nc3RyaW5nJyAmJiBpdGVtPT0nYWxsJyl7XHJcblx0XHRcdFx0Zm9yKGxldCBpdGVtIG9mIGl0ZW1zKXtcclxuXHRcdFx0XHRcdGlmKGl0ZW0udHlwZT09J2ZpbGUnKXtcclxuXHRcdFx0XHRcdFx0bGV0IGZpbGVfbmFtZSA9IGl0ZW0ucGF0aC5zcGxpdCgnLycpLmxhc3QoKTtcclxuXHRcdFx0XHRcdFx0bGV0IGZvbGRlcl9wYXRoID0gaXRlbS5wYXRoLnNsaWNlKDAsaXRlbS5wYXRoLmxlbmd0aC1maWxlX25hbWUubGVuZ3RoLTEpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBkb3dubG9hZF9maWxlKGl0ZW0uZG93bmxvYWRfdXJsLGZvbGRlcl9wYXRoLGZpbGVfbmFtZSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNlIGlmKGl0ZW0udHlwZT09J2ZpbGUnKXtcclxuXHRcdFx0XHRsZXQgZmlsZV9uYW1lID0gaXRlbS5wYXRoLnNwbGl0KCcvJykubGFzdCgpO1xyXG5cdFx0XHRcdGxldCBmb2xkZXJfcGF0aCA9IGl0ZW0ucGF0aC5zbGljZSgwLGl0ZW0ucGF0aC5sZW5ndGgtZmlsZV9uYW1lLmxlbmd0aC0xKTtcclxuXHRcdFx0XHRhd2FpdCBkb3dubG9hZF9maWxlKGl0ZW0uZG93bmxvYWRfdXJsLGZvbGRlcl9wYXRoLGZpbGVfbmFtZSlcclxuXHRcdFx0fWVsc2UgaWYoaXRlbS50eXBlPT0nZGlyJyl7XHJcblx0XHRcdFx0YXdhaXQgZG93bmxvYWRfZmlsZV9vZl9kaXIocmVwb093bmVyLCByZXBvTmFtZSwgaXRlbS5wYXRoLCBicmFuY2gpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRkb3dubG9hZF9maWxlX29mX2RpcihyZXBvT3duZXIsIHJlcG9OYW1lLCBwYXRoLCBicmFuY2gpXHJcblxyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgY29tbWFuZEJ1aWxkZXJzOkFycmF5PEZ1bmN0aW9uPiA9IFtcclxuICAgIFxyXG5dO1xyXG5cclxuY29uc3QgY29tbWFuZEJ1aWxkZXJzRGVza3RvcDpBcnJheTxGdW5jdGlvbj4gPSBbXHJcblx0Y21kX2V4cG9ydF9jdXJyZW50X25vdGUsXHJcblx0Y21kX3NldF92ZXhwb3J0ZXIsXHJcblx0Y21kX2V4cG9ydF9wbHVnaW4sXHJcblx0Y21kX2Rvd25sb2FkX2dpdF9yZXBvXHJcbl07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29tbWFuZHMocGx1Z2luOk5vdGVTeW5jUGx1Z2luKSB7XHJcbiAgICBjb21tYW5kQnVpbGRlcnMuZm9yRWFjaCgoYykgPT4ge1xyXG4gICAgICAgIHBsdWdpbi5hZGRDb21tYW5kKGMocGx1Z2luKSk7XHJcbiAgICB9KTtcclxuXHRpZigocGx1Z2luLmFwcCBhcyBhbnkpLmlzTW9iaWxlPT1mYWxzZSl7XHJcblx0XHRjb21tYW5kQnVpbGRlcnNEZXNrdG9wLmZvckVhY2goKGMpID0+IHtcclxuXHRcdFx0cGx1Z2luLmFkZENvbW1hbmQoYyhwbHVnaW4pKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufSIsICJpbXBvcnQgeyBGdXp6eVN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgdHlwZSB7IEZ1enp5TWF0Y2ggLCBBcHB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuLy8gXHU2REZCXHU1MkEwXHU3QzdCXHU1NzhCXHU1OEYwXHU2NjBFXHJcbmludGVyZmFjZSBTdWdnZXN0ZXJDaG9vc2VyIHtcclxuXHR2YWx1ZXM6IHtcclxuXHRcdGl0ZW06IHN0cmluZztcclxuXHRcdG1hdGNoOiB7IHNjb3JlOiBudW1iZXI7IG1hdGNoZXM6IHVua25vd25bXSB9O1xyXG5cdH1bXTtcclxuXHRzZWxlY3RlZEl0ZW06IG51bWJlcjtcclxuXHRba2V5OiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG4vLyBcdTYyNjlcdTVDNTVGdXp6eVN1Z2dlc3RNb2RhbFx1NzY4NFx1N0M3Qlx1NTc4QlxyXG5pbnRlcmZhY2UgRXh0ZW5kZWRGdXp6eVN1Z2dlc3RNb2RhbCBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG5cdGNob29zZXI6IFN1Z2dlc3RlckNob29zZXI7XHJcbn1cclxuXHJcbnR5cGUgT3B0aW9ucyA9IHtcclxuXHRsaW1pdDogRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPltcImxpbWl0XCJdO1xyXG5cdGVtcHR5U3RhdGVUZXh0OiBGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+W1wiZW1wdHlTdGF0ZVRleHRcIl07XHJcblx0cGxhY2Vob2xkZXI6IFBhcmFtZXRlcnM8XHJcblx0XHRGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+W1wic2V0UGxhY2Vob2xkZXJcIl1cclxuXHQ+WzBdIGV4dGVuZHMgc3RyaW5nXHJcblx0XHQ/IHN0cmluZ1xyXG5cdFx0OiBuZXZlcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb3B5IGZyb20gUXVpY2tBZGRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0U3VnZ2VzdGVyIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcblx0cHJpdmF0ZSByZXNvbHZlUHJvbWlzZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSByZWplY3RQcm9taXNlOiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZDtcclxuXHRwdWJsaWMgcHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cdHByaXZhdGUgcmVzb2x2ZWQ6IGJvb2xlYW47XHJcblx0aW5wdXRFbDogYW55O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIFN1Z2dlc3QoXHJcblx0XHRhcHA6IEFwcCxcclxuXHRcdGRpc3BsYXlJdGVtczogc3RyaW5nW10sXHJcblx0XHRpdGVtczogc3RyaW5nW10sXHJcblx0XHRvcHRpb25zOiBQYXJ0aWFsPE9wdGlvbnM+ID0ge31cclxuXHQpIHtcclxuXHRcdGNvbnN0IG5ld1N1Z2dlc3RlciA9IG5ldyBJbnB1dFN1Z2dlc3RlcihcclxuXHRcdFx0YXBwLFxyXG5cdFx0XHRkaXNwbGF5SXRlbXMsXHJcblx0XHRcdGl0ZW1zLFxyXG5cdFx0XHRvcHRpb25zXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG5ld1N1Z2dlc3Rlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRwcml2YXRlIGRpc3BsYXlJdGVtczogc3RyaW5nW10sXHJcblx0XHRwcml2YXRlIGl0ZW1zOiBzdHJpbmdbXSxcclxuXHRcdG9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gPSB7fVxyXG5cdCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHJcblx0XHR0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy5yZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XHJcblx0XHRcdHRoaXMucmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHRcdFx0aWYgKGV2ZW50LmNvZGUgIT09IFwiVGFiXCIpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFx1NEY3Rlx1NzUyOFx1N0M3Qlx1NTc4Qlx1NjVBRFx1OEEwMFx1Njc2NVx1OEJCRlx1OTVFRWNob29zZXJcclxuXHRcdFx0Y29uc3Qgc2VsZiA9IHRoaXMgYXMgdW5rbm93biBhcyBFeHRlbmRlZEZ1enp5U3VnZ2VzdE1vZGFsO1xyXG5cdFx0XHRjb25zdCB7IHZhbHVlcywgc2VsZWN0ZWRJdGVtIH0gPSBzZWxmLmNob29zZXI7XHJcblxyXG5cdFx0XHRjb25zdCB7IHZhbHVlIH0gPSB0aGlzLmlucHV0RWw7XHJcblx0XHRcdHRoaXMuaW5wdXRFbC52YWx1ZSA9IHZhbHVlc1tzZWxlY3RlZEl0ZW1dLml0ZW0gPz8gdmFsdWU7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5wbGFjZWhvbGRlcikgdGhpcy5zZXRQbGFjZWhvbGRlcihvcHRpb25zLnBsYWNlaG9sZGVyKTtcclxuXHRcdGlmIChvcHRpb25zLmxpbWl0KSB0aGlzLmxpbWl0ID0gb3B0aW9ucy5saW1pdDtcclxuXHRcdGlmIChvcHRpb25zLmVtcHR5U3RhdGVUZXh0KVxyXG5cdFx0XHR0aGlzLmVtcHR5U3RhdGVUZXh0ID0gb3B0aW9ucy5lbXB0eVN0YXRlVGV4dDtcclxuXHJcblx0XHR0aGlzLm9wZW4oKTtcclxuXHR9XHJcblxyXG5cdGdldEl0ZW1UZXh0KGl0ZW06IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoaXRlbSA9PT0gdGhpcy5pbnB1dEVsLnZhbHVlKSByZXR1cm4gaXRlbTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5kaXNwbGF5SXRlbXNbdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pXTtcclxuXHR9XHJcblxyXG5cdGdldEl0ZW1zKCk6IHN0cmluZ1tdIHtcclxuXHRcdGlmICh0aGlzLmlucHV0RWwudmFsdWUgPT09IFwiXCIpIHJldHVybiB0aGlzLml0ZW1zO1xyXG5cdFx0cmV0dXJuIFt0aGlzLmlucHV0RWwudmFsdWUsIC4uLnRoaXMuaXRlbXNdO1xyXG5cdH1cclxuXHJcblx0c2VsZWN0U3VnZ2VzdGlvbihcclxuXHRcdHZhbHVlOiBGdXp6eU1hdGNoPHN0cmluZz4sXHJcblx0XHRldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50XHJcblx0KSB7XHJcblx0XHR0aGlzLnJlc29sdmVkID0gdHJ1ZTtcclxuXHRcdHN1cGVyLnNlbGVjdFN1Z2dlc3Rpb24odmFsdWUsIGV2dCk7XHJcblx0fVxyXG5cclxuXHRvbkNob29zZUl0ZW0oaXRlbTogc3RyaW5nLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcblx0XHR0aGlzLnJlc29sdmVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVzb2x2ZVByb21pc2UoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0c3VwZXIub25DbG9zZSgpO1xyXG5cclxuXHRcdGlmICghdGhpcy5yZXNvbHZlZCkgdGhpcy5yZWplY3RQcm9taXNlKFwibm8gaW5wdXQgZ2l2ZW4uXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpYWxvZ19zdWdnZXN0KGRpc3BsYXlJdGVtczpBcnJheTxzdHJpbmc+LGl0ZW1zOkFycmF5PGFueT4scGxhY2Vob2xkZXI9JycpIHtcclxuXHR0cnl7XHJcblx0XHRyZXR1cm4gYXdhaXQgSW5wdXRTdWdnZXN0ZXIuU3VnZ2VzdChcclxuXHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdGRpc3BsYXlJdGVtcyxcclxuXHRcdFx0aXRlbXMsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9Y2F0Y2goZXJyb3Ipe1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxuXHRcclxufVxyXG4iLCAiaW1wb3J0IHR5cGUgeyBBcHB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQsIE1vZGFsLCBUZXh0Q29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vKipcclxuICogQ29weSBmcm9tIFF1aWNrQWRkXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRQcm9tcHQgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHVibGljIHdhaXRGb3JDbG9zZTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cclxuXHRwcml2YXRlIHJlc29sdmVQcm9taXNlOiAoaW5wdXQ6IHN0cmluZykgPT4gdm9pZDtcclxuXHRwcml2YXRlIHJlamVjdFByb21pc2U6IChyZWFzb24/OiB1bmtub3duKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgZGlkU3VibWl0ID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBpbnB1dENvbXBvbmVudDogVGV4dENvbXBvbmVudDtcclxuXHRwcml2YXRlIGlucHV0OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSBwbGFjZWhvbGRlcjogc3RyaW5nO1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIFByb21wdChcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0aGVhZGVyOiBzdHJpbmcsXHJcblx0XHRwbGFjZWhvbGRlcj86IHN0cmluZyxcclxuXHRcdHZhbHVlPzogc3RyaW5nXHJcblx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdGNvbnN0IG5ld1Byb21wdE1vZGFsID0gbmV3IElucHV0UHJvbXB0KFxyXG5cdFx0XHRhcHAsXHJcblx0XHRcdGhlYWRlcixcclxuXHRcdFx0cGxhY2Vob2xkZXIsXHJcblx0XHRcdHZhbHVlXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG5ld1Byb21wdE1vZGFsLndhaXRGb3JDbG9zZTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0cHJpdmF0ZSBoZWFkZXI6IHN0cmluZyxcclxuXHRcdHBsYWNlaG9sZGVyPzogc3RyaW5nLFxyXG5cdFx0dmFsdWU/OiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIgPz8gXCJcIjtcclxuXHRcdHRoaXMuaW5wdXQgPSB2YWx1ZSA/PyBcIlwiO1xyXG5cclxuXHRcdHRoaXMud2FpdEZvckNsb3NlID0gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xyXG5cdFx0XHR0aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdHRoaXMub3BlbigpO1xyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGlzcGxheSgpIHtcclxuXHRcdHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoXCJxdWlja0FkZE1vZGFsXCIsIFwicWFJbnB1dFByb21wdFwiKTtcclxuXHRcdHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcblx0XHR0aGlzLnRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLmhlYWRlcjtcclxuXHJcblx0XHRjb25zdCBtYWluQ29udGVudENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQgPSB0aGlzLmNyZWF0ZUlucHV0RmllbGQoXHJcblx0XHRcdG1haW5Db250ZW50Q29udGFpbmVyLFxyXG5cdFx0XHR0aGlzLnBsYWNlaG9sZGVyLFxyXG5cdFx0XHR0aGlzLmlucHV0XHJcblx0XHQpO1xyXG5cdFx0dGhpcy5jcmVhdGVCdXR0b25CYXIobWFpbkNvbnRlbnRDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNyZWF0ZUlucHV0RmllbGQoXHJcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxyXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmcsXHJcblx0XHR2YWx1ZT86IHN0cmluZ1xyXG5cdCkge1xyXG5cdFx0Y29uc3QgdGV4dENvbXBvbmVudCA9IG5ldyBUZXh0Q29tcG9uZW50KGNvbnRhaW5lcik7XHJcblx0XHQodGV4dENvbXBvbmVudCBhcyBhbnkpLmlucHV0RWwuY2xhc3NMaXN0LmFkZChcImlucHV0LWZpZWxkXCIpOyBcclxuXHRcdCh0ZXh0Q29tcG9uZW50IGFzIGFueSlcclxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyID8/IFwiXCIpXHJcblx0XHRcdC5zZXRWYWx1ZSh2YWx1ZSA/PyBcIlwiKVxyXG5cdFx0XHQub25DaGFuZ2UoKHZhbHVlOnN0cmluZykgPT4gKHRoaXMuaW5wdXQgPSB2YWx1ZSkpXHJcblx0XHRcdC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuc3VibWl0RW50ZXJDYWxsYmFjayk7XHJcblxyXG5cdFx0cmV0dXJuIHRleHRDb21wb25lbnQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbihcclxuXHRcdGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXHJcblx0XHR0ZXh0OiBzdHJpbmcsXHJcblx0XHRjYWxsYmFjazogKGV2dDogTW91c2VFdmVudCkgPT4gdW5rbm93blxyXG5cdCkge1xyXG5cdFx0Y29uc3QgYnRuID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250YWluZXIpO1xyXG5cdFx0YnRuLnNldEJ1dHRvblRleHQodGV4dCkub25DbGljayhjYWxsYmFjayk7XHJcblxyXG5cdFx0cmV0dXJuIGJ0bjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlQnV0dG9uQmFyKG1haW5Db250ZW50Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgYnV0dG9uQmFyQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9XHJcblx0XHRcdG1haW5Db250ZW50Q29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0dGhpcy5jcmVhdGVCdXR0b24oXHJcblx0XHRcdGJ1dHRvbkJhckNvbnRhaW5lcixcclxuXHRcdFx0XCJPa1wiLFxyXG5cdFx0XHR0aGlzLnN1Ym1pdENsaWNrQ2FsbGJhY2tcclxuXHRcdCkuc2V0Q3RhKCk7XHJcblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbihcclxuXHRcdFx0YnV0dG9uQmFyQ29udGFpbmVyLFxyXG5cdFx0XHRcIkNhbmNlbFwiLFxyXG5cdFx0XHR0aGlzLmNhbmNlbENsaWNrQ2FsbGJhY2tcclxuXHRcdCk7XHJcblxyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tYmFyXCIpO1xyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1Ym1pdENsaWNrQ2FsbGJhY2sgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB0aGlzLnN1Ym1pdCgpO1xyXG5cdHByaXZhdGUgY2FuY2VsQ2xpY2tDYWxsYmFjayA9IChldnQ6IE1vdXNlRXZlbnQpID0+IHRoaXMuY2FuY2VsKCk7XHJcblxyXG5cdHByaXZhdGUgc3VibWl0RW50ZXJDYWxsYmFjayA9IChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHRcdGlmICghZXZ0LmlzQ29tcG9zaW5nICYmIGV2dC5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5zdWJtaXQoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHN1Ym1pdCgpIHtcclxuXHRcdHRoaXMuZGlkU3VibWl0ID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLmNsb3NlKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNhbmNlbCgpIHtcclxuXHRcdHRoaXMuY2xvc2UoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVzb2x2ZUlucHV0KCkge1xyXG5cdFx0aWYgKCF0aGlzLmRpZFN1Ym1pdCkgdGhpcy5yZWplY3RQcm9taXNlKFwiTm8gaW5wdXQgZ2l2ZW4uXCIpO1xyXG5cdFx0ZWxzZSB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMuaW5wdXQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW1vdmVJbnB1dExpc3RlbmVyKCkge1xyXG5cdFx0dGhpcy5pbnB1dENvbXBvbmVudC5pbnB1dEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwia2V5ZG93blwiLFxyXG5cdFx0XHR0aGlzLnN1Ym1pdEVudGVyQ2FsbGJhY2tcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRzdXBlci5vbk9wZW4oKTtcclxuXHJcblx0XHR0aGlzLmlucHV0Q29tcG9uZW50LmlucHV0RWwuZm9jdXMoKTtcclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQuaW5wdXRFbC5zZWxlY3QoKTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRzdXBlci5vbkNsb3NlKCk7XHJcblx0XHR0aGlzLnJlc29sdmVJbnB1dCgpO1xyXG5cdFx0dGhpcy5yZW1vdmVJbnB1dExpc3RlbmVyKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpYWxvZ19wcm9tcHQoaGVhZGVyOiBzdHJpbmc9J0lucHV0JywgcGxhY2Vob2xkZXI6IHN0cmluZz0nJyx2YWx1ZTpzdHJpbmc9JycpIHtcclxuXHR0cnl7XHJcblx0XHRyZXR1cm4gYXdhaXQgSW5wdXRQcm9tcHQuUHJvbXB0KFxyXG5cdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRwbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgdmFsdWVcclxuXHRcdClcclxuXHR9Y2F0Y2h7XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQThDOzs7QUNDOUMsc0JBQTRHO0FBR3JHLElBQU0sV0FBTixNQUFjO0FBQUEsRUFNakIsWUFBWSxRQUFzQjtBQUM5QixTQUFLLFNBQVM7QUFDZCxTQUFLLE1BQU0sT0FBTztBQUNsQixTQUFLLEtBQU0sT0FBTyxJQUFJLE1BQU0sUUFBZ0I7QUFDNUMsU0FBSyxPQUFRLE9BQU8sSUFBSSxNQUFNLFFBQWdCO0FBQUEsRUFDbEQ7QUFBQSxFQUVBLElBQUksT0FBTTtBQUNOLFFBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxNQUFNO0FBQzlCLFdBQU8sRUFBRSxTQUFTLFFBQVEsT0FBTSxHQUFHO0FBQUEsRUFDdkM7QUFBQSxFQUVBLFVBQVUsTUFBWSxhQUFXLE1BQUs7QUFDeEMsUUFBRztBQUNGLGFBQU8sS0FBSyxNQUFNLEdBQUcsRUFBRSxDQUFD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QUEsUUFDQSxDQUFDLE9BQU8sYUFBYTtBQUNuQixpQkFBTyxTQUFTLFVBQVU7QUFBQSxRQUM3QjtBQUFBLE1BQUM7QUFBQSxJQUNGO0FBQ0EsVUFBTSxLQUFLLFNBQVMsR0FBRztBQUFBLE1BQ3RCO0FBQUEsTUFBUTtBQUFBLE1BQUs7QUFBQSxNQUNiLENBQUMsUUFBYztBQUFDO0FBQUEsTUFBTztBQUFBLElBQ3hCO0FBQ0EsUUFBSSx3QkFBTyxhQUFhLFVBQVMsR0FBSTtBQUNyQyxRQUFHLFFBQU87QUFDVCxVQUFJLFNBQVMsS0FBSyxTQUFTLGFBQWEsT0FBTSxLQUFLO0FBQ25ELFVBQUksT0FBTyxLQUFLLFNBQVMsS0FBSyxLQUFLLEtBQUksTUFBTTtBQUM3QyxXQUFLLFNBQVMsZ0JBQWdCLElBQUk7QUFDbEMsZUFBUSxLQUFLLFFBQU87QUFDbkIsWUFBRyxFQUFFLEVBQUUsY0FBWSxPQUFNO0FBQ3hCLGNBQUksT0FBTyxLQUFLLFNBQVMsV0FBVyxHQUFFLE9BQUssTUFBSSxFQUFFLFdBQVMsTUFBSSxFQUFFLFNBQVM7QUFDekUsY0FBRyxNQUFLO0FBQ1AsZ0JBQUksd0JBQU8sUUFBUSxFQUFFLFFBQU8sR0FBSTtBQUFBLFVBQ2pDO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAidGZpbGUiLCAiZXJyIiwgImltcG9ydF9vYnNpZGlhbiIsICJ2YWx1ZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaXRlbXMiLCAicmVwb093bmVyIiwgInJlcG9OYW1lIiwgInBhdGgiLCAiYnJhbmNoIiwgIml0ZW0iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJ2YWx1ZSJdCn0K
