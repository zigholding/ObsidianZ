/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  array_prefix_id: () => array_prefix_id,
  check_value: () => check_value,
  concat_array: () => concat_array,
  get_customjs_func: () => get_customjs_func,
  get_plugins: () => get_plugins,
  get_str_func: () => get_str_func,
  get_tp_func: () => get_tp_func,
  get_tp_user_func: () => get_tp_user_func,
  parse_templater: () => parse_templater,
  templater$1: () => templater$1,
  toogle_note_css: () => toogle_note_css
});
function get_plugins(app, name) {
}
function array_prefix_id(items, offset = 1) {
  let res = new Array();
  let N = items.length.toString().length;
  for (let i = 0; i < items.length; i++) {
    let id = (i + offset).toString().padStart(N, "0");
    res.push(`${id} \u{1F525} ${items[i]}`);
  }
  return res;
}
function concat_array(items) {
  if (items == null) {
    return [];
  }
  if (typeof items === "string") {
    return [items];
  }
  if (!(items instanceof Array)) {
    return [items];
  }
  let res = [];
  for (let item of items) {
    if (typeof item === "string") {
      res.push(item);
    } else if (item instanceof Array) {
      res = res.concat(this.concat_array(item));
    } else {
      res.push(item);
    }
  }
  return res;
}
async function check_value(t, k, v, dt, T) {
  let i = 0;
  while (t[k] == null || !(t[k] === v)) {
    await sleep(dt);
    i = dt + dt;
    if (i > T) {
      break;
    }
  }
  if (t[k] && t[k] === v) {
    return true;
  } else {
    return false;
  }
}
function get_tp_func(app, target) {
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  if (!templater) {
    return null;
  }
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
async function get_tp_user_func(app, target) {
  if (!target.match(/^tp\.user\.\w+$/)) {
    return null;
  }
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  if (!templater) {
    return null;
  }
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items[1].localeCompare("user") != 0 || items.length != 3) {
    return void 0;
  }
  let funcs = await templater.templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions();
  return funcs.get(items[2]);
}
async function get_customjs_func(target) {
  if (!target.match(/^(cJS|customJS|customjs|customJs)(\.\w+)+$/)) {
    return null;
  }
  let items = target.split(".");
  if (window.hasOwnProperty("cJS")) {
    let cJS = window["cJS"];
    let tmp = await cJS();
    for (let field of items.slice(1)) {
      tmp = tmp[field];
      if (!tmp) {
        return null;
      }
    }
    return tmp;
  }
}
async function get_str_func(app, target) {
  let ufunc = await get_tp_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_tp_user_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_customjs_func(target);
  if (ufunc) {
    return ufunc;
  }
  return null;
}
async function templater$1(app, template, active_file, target_file, extra = null) {
  const config = {
    template_file: template,
    active_file,
    target_file,
    extra,
    run_mode: "DynamicProcessor"
  };
  const plugins = app.plugins.plugins;
  const exists = plugins["templater-obsidian"];
  if (!exists) {
    new import_obsidian2.Notice("Templater is not installed. Please install it.");
    return;
  }
  const { templater } = plugins["templater-obsidian"];
  const functions = await templater.functions_generator.internal_functions.generate_object(config);
  functions.user = {};
  const userScriptFunctions = await templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions(config);
  userScriptFunctions.forEach(
    (value, key) => {
      functions.user[key] = value;
    }
  );
  if (template) {
    const userSystemFunctions = await templater.functions_generator.user_functions.user_system_functions.generate_system_functions(config);
    userSystemFunctions.forEach(
      (value, key) => {
        functions.user[key] = value;
      }
    );
  }
  return async (command) => {
    return await templater.parser.parse_commands(command, functions);
  };
}
async function parse_templater(app, template, extract = true, extra = null) {
  let nc = app.plugins.getPlugin("note-chain");
  if (!nc) {
    return;
  }
  let file = nc.chain.get_tfile(template);
  if (file) {
    template = file;
  }
  let blocks;
  let template_file = null;
  if (template instanceof import_obsidian2.TFile) {
    template_file = template;
    if (extract) {
      blocks = await nc.editor.extract_templater_block(template);
    } else {
      let item = await app.vault.cachedRead(template);
      blocks = [item];
    }
  } else {
    if (extract) {
      blocks = await nc.editor.extract_templater_block(template);
    } else {
      blocks = [template];
    }
  }
  if (!template_file) {
    template_file = "";
  }
  let active_file = app.workspace.getActiveFile();
  let notes = app.vault.getMarkdownFiles();
  if (notes.length == 0) {
    return;
  }
  let target_file = notes[0];
  let templateFunc = await templater$1(app, template_file, active_file, target_file, extra = extra);
  if (templateFunc) {
    let res = [];
    for (let block of blocks) {
      let item = await templateFunc(block);
      res.push(item);
    }
    return res;
  } else {
    return [];
  }
}
async function toogle_note_css(app, document2, name, refresh = false) {
  let nc = app.plugins.getPlugin("note-chain");
  let tfile = nc.chain.get_tfile(name);
  if (!tfile) {
    let tfiles;
    if (name == "/") {
      tfiles = nc.chain.get_all_tfiles();
    } else {
      let folder = nc.chain.get_all_folders().filter((x) => x.name == name);
      if (folder.length == 0) {
        return;
      }
      tfiles = nc.utils.concat_array(
        folder.map((x) => nc.chain.get_tfiles_of_folder(x))
      );
    }
    if (tfiles.length == 0) {
      return;
    }
    tfile = await nc.chain.sugguster_note(tfiles);
    if (!tfile) {
      return;
    }
  }
  let link = document2.getElementById(tfile.basename);
  if (link && !refresh) {
    link.remove();
  } else {
    let css = await nc.editor.extract_code_block(tfile, "css");
    let inner = css.join("\n");
    if (link) {
      link.innerHTML = inner;
    } else {
      if (inner != "") {
        let styleElement = document2.createElement("style");
        styleElement.innerHTML = inner;
        styleElement.id = tfile.basename;
        document2.head.appendChild(styleElement);
      }
    }
  }
}
var import_obsidian2;
var init_utils = __esm({
  "src/utils.ts"() {
    import_obsidian2 = require("obsidian");
  }
});

// node_modules/js-yaml/lib/common.js
var require_common = __commonJS({
  "node_modules/js-yaml/lib/common.js"(exports, module2) {
    "use strict";
    function isNothing(subject) {
      return typeof subject === "undefined" || subject === null;
    }
    function isObject(subject) {
      return typeof subject === "object" && subject !== null;
    }
    function toArray(sequence) {
      if (Array.isArray(sequence))
        return sequence;
      else if (isNothing(sequence))
        return [];
      return [sequence];
    }
    function extend(target, source) {
      var index, length, key, sourceKeys;
      if (source) {
        sourceKeys = Object.keys(source);
        for (index = 0, length = sourceKeys.length; index < length; index += 1) {
          key = sourceKeys[index];
          target[key] = source[key];
        }
      }
      return target;
    }
    function repeat(string, count) {
      var result = "", cycle;
      for (cycle = 0; cycle < count; cycle += 1) {
        result += string;
      }
      return result;
    }
    function isNegativeZero(number) {
      return number === 0 && Number.NEGATIVE_INFINITY === 1 / number;
    }
    module2.exports.isNothing = isNothing;
    module2.exports.isObject = isObject;
    module2.exports.toArray = toArray;
    module2.exports.repeat = repeat;
    module2.exports.isNegativeZero = isNegativeZero;
    module2.exports.extend = extend;
  }
});

// node_modules/js-yaml/lib/exception.js
var require_exception = __commonJS({
  "node_modules/js-yaml/lib/exception.js"(exports, module2) {
    "use strict";
    function formatError(exception, compact) {
      var where = "", message = exception.reason || "(unknown reason)";
      if (!exception.mark)
        return message;
      if (exception.mark.name) {
        where += 'in "' + exception.mark.name + '" ';
      }
      where += "(" + (exception.mark.line + 1) + ":" + (exception.mark.column + 1) + ")";
      if (!compact && exception.mark.snippet) {
        where += "\n\n" + exception.mark.snippet;
      }
      return message + " " + where;
    }
    function YAMLException(reason, mark) {
      Error.call(this);
      this.name = "YAMLException";
      this.reason = reason;
      this.mark = mark;
      this.message = formatError(this, false);
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
      } else {
        this.stack = new Error().stack || "";
      }
    }
    YAMLException.prototype = Object.create(Error.prototype);
    YAMLException.prototype.constructor = YAMLException;
    YAMLException.prototype.toString = function toString(compact) {
      return this.name + ": " + formatError(this, compact);
    };
    module2.exports = YAMLException;
  }
});

// node_modules/js-yaml/lib/snippet.js
var require_snippet = __commonJS({
  "node_modules/js-yaml/lib/snippet.js"(exports, module2) {
    "use strict";
    var common = require_common();
    function getLine(buffer, lineStart, lineEnd, position, maxLineLength) {
      var head = "";
      var tail = "";
      var maxHalfLength = Math.floor(maxLineLength / 2) - 1;
      if (position - lineStart > maxHalfLength) {
        head = " ... ";
        lineStart = position - maxHalfLength + head.length;
      }
      if (lineEnd - position > maxHalfLength) {
        tail = " ...";
        lineEnd = position + maxHalfLength - tail.length;
      }
      return {
        str: head + buffer.slice(lineStart, lineEnd).replace(/\t/g, "\u2192") + tail,
        pos: position - lineStart + head.length
        // relative position
      };
    }
    function padStart(string, max) {
      return common.repeat(" ", max - string.length) + string;
    }
    function makeSnippet(mark, options) {
      options = Object.create(options || null);
      if (!mark.buffer)
        return null;
      if (!options.maxLength)
        options.maxLength = 79;
      if (typeof options.indent !== "number")
        options.indent = 1;
      if (typeof options.linesBefore !== "number")
        options.linesBefore = 3;
      if (typeof options.linesAfter !== "number")
        options.linesAfter = 2;
      var re = /\r?\n|\r|\0/g;
      var lineStarts = [0];
      var lineEnds = [];
      var match;
      var foundLineNo = -1;
      while (match = re.exec(mark.buffer)) {
        lineEnds.push(match.index);
        lineStarts.push(match.index + match[0].length);
        if (mark.position <= match.index && foundLineNo < 0) {
          foundLineNo = lineStarts.length - 2;
        }
      }
      if (foundLineNo < 0)
        foundLineNo = lineStarts.length - 1;
      var result = "", i, line;
      var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;
      var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);
      for (i = 1; i <= options.linesBefore; i++) {
        if (foundLineNo - i < 0)
          break;
        line = getLine(
          mark.buffer,
          lineStarts[foundLineNo - i],
          lineEnds[foundLineNo - i],
          mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),
          maxLineLength
        );
        result = common.repeat(" ", options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) + " | " + line.str + "\n" + result;
      }
      line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);
      result += common.repeat(" ", options.indent) + padStart((mark.line + 1).toString(), lineNoLength) + " | " + line.str + "\n";
      result += common.repeat("-", options.indent + lineNoLength + 3 + line.pos) + "^\n";
      for (i = 1; i <= options.linesAfter; i++) {
        if (foundLineNo + i >= lineEnds.length)
          break;
        line = getLine(
          mark.buffer,
          lineStarts[foundLineNo + i],
          lineEnds[foundLineNo + i],
          mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),
          maxLineLength
        );
        result += common.repeat(" ", options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) + " | " + line.str + "\n";
      }
      return result.replace(/\n$/, "");
    }
    module2.exports = makeSnippet;
  }
});

// node_modules/js-yaml/lib/type.js
var require_type = __commonJS({
  "node_modules/js-yaml/lib/type.js"(exports, module2) {
    "use strict";
    var YAMLException = require_exception();
    var TYPE_CONSTRUCTOR_OPTIONS = [
      "kind",
      "multi",
      "resolve",
      "construct",
      "instanceOf",
      "predicate",
      "represent",
      "representName",
      "defaultStyle",
      "styleAliases"
    ];
    var YAML_NODE_KINDS = [
      "scalar",
      "sequence",
      "mapping"
    ];
    function compileStyleAliases(map) {
      var result = {};
      if (map !== null) {
        Object.keys(map).forEach(function(style) {
          map[style].forEach(function(alias) {
            result[String(alias)] = style;
          });
        });
      }
      return result;
    }
    function Type(tag, options) {
      options = options || {};
      Object.keys(options).forEach(function(name) {
        if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {
          throw new YAMLException('Unknown option "' + name + '" is met in definition of "' + tag + '" YAML type.');
        }
      });
      this.options = options;
      this.tag = tag;
      this.kind = options["kind"] || null;
      this.resolve = options["resolve"] || function() {
        return true;
      };
      this.construct = options["construct"] || function(data) {
        return data;
      };
      this.instanceOf = options["instanceOf"] || null;
      this.predicate = options["predicate"] || null;
      this.represent = options["represent"] || null;
      this.representName = options["representName"] || null;
      this.defaultStyle = options["defaultStyle"] || null;
      this.multi = options["multi"] || false;
      this.styleAliases = compileStyleAliases(options["styleAliases"] || null);
      if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {
        throw new YAMLException('Unknown kind "' + this.kind + '" is specified for "' + tag + '" YAML type.');
      }
    }
    module2.exports = Type;
  }
});

// node_modules/js-yaml/lib/schema.js
var require_schema = __commonJS({
  "node_modules/js-yaml/lib/schema.js"(exports, module2) {
    "use strict";
    var YAMLException = require_exception();
    var Type = require_type();
    function compileList(schema, name) {
      var result = [];
      schema[name].forEach(function(currentType) {
        var newIndex = result.length;
        result.forEach(function(previousType, previousIndex) {
          if (previousType.tag === currentType.tag && previousType.kind === currentType.kind && previousType.multi === currentType.multi) {
            newIndex = previousIndex;
          }
        });
        result[newIndex] = currentType;
      });
      return result;
    }
    function compileMap() {
      var result = {
        scalar: {},
        sequence: {},
        mapping: {},
        fallback: {},
        multi: {
          scalar: [],
          sequence: [],
          mapping: [],
          fallback: []
        }
      }, index, length;
      function collectType(type) {
        if (type.multi) {
          result.multi[type.kind].push(type);
          result.multi["fallback"].push(type);
        } else {
          result[type.kind][type.tag] = result["fallback"][type.tag] = type;
        }
      }
      for (index = 0, length = arguments.length; index < length; index += 1) {
        arguments[index].forEach(collectType);
      }
      return result;
    }
    function Schema(definition) {
      return this.extend(definition);
    }
    Schema.prototype.extend = function extend(definition) {
      var implicit = [];
      var explicit = [];
      if (definition instanceof Type) {
        explicit.push(definition);
      } else if (Array.isArray(definition)) {
        explicit = explicit.concat(definition);
      } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {
        if (definition.implicit)
          implicit = implicit.concat(definition.implicit);
        if (definition.explicit)
          explicit = explicit.concat(definition.explicit);
      } else {
        throw new YAMLException("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");
      }
      implicit.forEach(function(type) {
        if (!(type instanceof Type)) {
          throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.");
        }
        if (type.loadKind && type.loadKind !== "scalar") {
          throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");
        }
        if (type.multi) {
          throw new YAMLException("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.");
        }
      });
      explicit.forEach(function(type) {
        if (!(type instanceof Type)) {
          throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.");
        }
      });
      var result = Object.create(Schema.prototype);
      result.implicit = (this.implicit || []).concat(implicit);
      result.explicit = (this.explicit || []).concat(explicit);
      result.compiledImplicit = compileList(result, "implicit");
      result.compiledExplicit = compileList(result, "explicit");
      result.compiledTypeMap = compileMap(result.compiledImplicit, result.compiledExplicit);
      return result;
    };
    module2.exports = Schema;
  }
});

// node_modules/js-yaml/lib/type/str.js
var require_str = __commonJS({
  "node_modules/js-yaml/lib/type/str.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    module2.exports = new Type("tag:yaml.org,2002:str", {
      kind: "scalar",
      construct: function(data) {
        return data !== null ? data : "";
      }
    });
  }
});

// node_modules/js-yaml/lib/type/seq.js
var require_seq = __commonJS({
  "node_modules/js-yaml/lib/type/seq.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    module2.exports = new Type("tag:yaml.org,2002:seq", {
      kind: "sequence",
      construct: function(data) {
        return data !== null ? data : [];
      }
    });
  }
});

// node_modules/js-yaml/lib/type/map.js
var require_map = __commonJS({
  "node_modules/js-yaml/lib/type/map.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    module2.exports = new Type("tag:yaml.org,2002:map", {
      kind: "mapping",
      construct: function(data) {
        return data !== null ? data : {};
      }
    });
  }
});

// node_modules/js-yaml/lib/schema/failsafe.js
var require_failsafe = __commonJS({
  "node_modules/js-yaml/lib/schema/failsafe.js"(exports, module2) {
    "use strict";
    var Schema = require_schema();
    module2.exports = new Schema({
      explicit: [
        require_str(),
        require_seq(),
        require_map()
      ]
    });
  }
});

// node_modules/js-yaml/lib/type/null.js
var require_null = __commonJS({
  "node_modules/js-yaml/lib/type/null.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    function resolveYamlNull(data) {
      if (data === null)
        return true;
      var max = data.length;
      return max === 1 && data === "~" || max === 4 && (data === "null" || data === "Null" || data === "NULL");
    }
    function constructYamlNull() {
      return null;
    }
    function isNull(object) {
      return object === null;
    }
    module2.exports = new Type("tag:yaml.org,2002:null", {
      kind: "scalar",
      resolve: resolveYamlNull,
      construct: constructYamlNull,
      predicate: isNull,
      represent: {
        canonical: function() {
          return "~";
        },
        lowercase: function() {
          return "null";
        },
        uppercase: function() {
          return "NULL";
        },
        camelcase: function() {
          return "Null";
        },
        empty: function() {
          return "";
        }
      },
      defaultStyle: "lowercase"
    });
  }
});

// node_modules/js-yaml/lib/type/bool.js
var require_bool = __commonJS({
  "node_modules/js-yaml/lib/type/bool.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    function resolveYamlBoolean(data) {
      if (data === null)
        return false;
      var max = data.length;
      return max === 4 && (data === "true" || data === "True" || data === "TRUE") || max === 5 && (data === "false" || data === "False" || data === "FALSE");
    }
    function constructYamlBoolean(data) {
      return data === "true" || data === "True" || data === "TRUE";
    }
    function isBoolean(object) {
      return Object.prototype.toString.call(object) === "[object Boolean]";
    }
    module2.exports = new Type("tag:yaml.org,2002:bool", {
      kind: "scalar",
      resolve: resolveYamlBoolean,
      construct: constructYamlBoolean,
      predicate: isBoolean,
      represent: {
        lowercase: function(object) {
          return object ? "true" : "false";
        },
        uppercase: function(object) {
          return object ? "TRUE" : "FALSE";
        },
        camelcase: function(object) {
          return object ? "True" : "False";
        }
      },
      defaultStyle: "lowercase"
    });
  }
});

// node_modules/js-yaml/lib/type/int.js
var require_int = __commonJS({
  "node_modules/js-yaml/lib/type/int.js"(exports, module2) {
    "use strict";
    var common = require_common();
    var Type = require_type();
    function isHexCode(c) {
      return 48 <= c && c <= 57 || 65 <= c && c <= 70 || 97 <= c && c <= 102;
    }
    function isOctCode(c) {
      return 48 <= c && c <= 55;
    }
    function isDecCode(c) {
      return 48 <= c && c <= 57;
    }
    function resolveYamlInteger(data) {
      if (data === null)
        return false;
      var max = data.length, index = 0, hasDigits = false, ch;
      if (!max)
        return false;
      ch = data[index];
      if (ch === "-" || ch === "+") {
        ch = data[++index];
      }
      if (ch === "0") {
        if (index + 1 === max)
          return true;
        ch = data[++index];
        if (ch === "b") {
          index++;
          for (; index < max; index++) {
            ch = data[index];
            if (ch === "_")
              continue;
            if (ch !== "0" && ch !== "1")
              return false;
            hasDigits = true;
          }
          return hasDigits && ch !== "_";
        }
        if (ch === "x") {
          index++;
          for (; index < max; index++) {
            ch = data[index];
            if (ch === "_")
              continue;
            if (!isHexCode(data.charCodeAt(index)))
              return false;
            hasDigits = true;
          }
          return hasDigits && ch !== "_";
        }
        if (ch === "o") {
          index++;
          for (; index < max; index++) {
            ch = data[index];
            if (ch === "_")
              continue;
            if (!isOctCode(data.charCodeAt(index)))
              return false;
            hasDigits = true;
          }
          return hasDigits && ch !== "_";
        }
      }
      if (ch === "_")
        return false;
      for (; index < max; index++) {
        ch = data[index];
        if (ch === "_")
          continue;
        if (!isDecCode(data.charCodeAt(index))) {
          return false;
        }
        hasDigits = true;
      }
      if (!hasDigits || ch === "_")
        return false;
      return true;
    }
    function constructYamlInteger(data) {
      var value = data, sign = 1, ch;
      if (value.indexOf("_") !== -1) {
        value = value.replace(/_/g, "");
      }
      ch = value[0];
      if (ch === "-" || ch === "+") {
        if (ch === "-")
          sign = -1;
        value = value.slice(1);
        ch = value[0];
      }
      if (value === "0")
        return 0;
      if (ch === "0") {
        if (value[1] === "b")
          return sign * parseInt(value.slice(2), 2);
        if (value[1] === "x")
          return sign * parseInt(value.slice(2), 16);
        if (value[1] === "o")
          return sign * parseInt(value.slice(2), 8);
      }
      return sign * parseInt(value, 10);
    }
    function isInteger(object) {
      return Object.prototype.toString.call(object) === "[object Number]" && (object % 1 === 0 && !common.isNegativeZero(object));
    }
    module2.exports = new Type("tag:yaml.org,2002:int", {
      kind: "scalar",
      resolve: resolveYamlInteger,
      construct: constructYamlInteger,
      predicate: isInteger,
      represent: {
        binary: function(obj) {
          return obj >= 0 ? "0b" + obj.toString(2) : "-0b" + obj.toString(2).slice(1);
        },
        octal: function(obj) {
          return obj >= 0 ? "0o" + obj.toString(8) : "-0o" + obj.toString(8).slice(1);
        },
        decimal: function(obj) {
          return obj.toString(10);
        },
        /* eslint-disable max-len */
        hexadecimal: function(obj) {
          return obj >= 0 ? "0x" + obj.toString(16).toUpperCase() : "-0x" + obj.toString(16).toUpperCase().slice(1);
        }
      },
      defaultStyle: "decimal",
      styleAliases: {
        binary: [2, "bin"],
        octal: [8, "oct"],
        decimal: [10, "dec"],
        hexadecimal: [16, "hex"]
      }
    });
  }
});

// node_modules/js-yaml/lib/type/float.js
var require_float = __commonJS({
  "node_modules/js-yaml/lib/type/float.js"(exports, module2) {
    "use strict";
    var common = require_common();
    var Type = require_type();
    var YAML_FLOAT_PATTERN = new RegExp(
      // 2.5e4, 2.5 and integers
      "^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"
    );
    function resolveYamlFloat(data) {
      if (data === null)
        return false;
      if (!YAML_FLOAT_PATTERN.test(data) || // Quick hack to not allow integers end with `_`
      // Probably should update regexp & check speed
      data[data.length - 1] === "_") {
        return false;
      }
      return true;
    }
    function constructYamlFloat(data) {
      var value, sign;
      value = data.replace(/_/g, "").toLowerCase();
      sign = value[0] === "-" ? -1 : 1;
      if ("+-".indexOf(value[0]) >= 0) {
        value = value.slice(1);
      }
      if (value === ".inf") {
        return sign === 1 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;
      } else if (value === ".nan") {
        return NaN;
      }
      return sign * parseFloat(value, 10);
    }
    var SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;
    function representYamlFloat(object, style) {
      var res;
      if (isNaN(object)) {
        switch (style) {
          case "lowercase":
            return ".nan";
          case "uppercase":
            return ".NAN";
          case "camelcase":
            return ".NaN";
        }
      } else if (Number.POSITIVE_INFINITY === object) {
        switch (style) {
          case "lowercase":
            return ".inf";
          case "uppercase":
            return ".INF";
          case "camelcase":
            return ".Inf";
        }
      } else if (Number.NEGATIVE_INFINITY === object) {
        switch (style) {
          case "lowercase":
            return "-.inf";
          case "uppercase":
            return "-.INF";
          case "camelcase":
            return "-.Inf";
        }
      } else if (common.isNegativeZero(object)) {
        return "-0.0";
      }
      res = object.toString(10);
      return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace("e", ".e") : res;
    }
    function isFloat(object) {
      return Object.prototype.toString.call(object) === "[object Number]" && (object % 1 !== 0 || common.isNegativeZero(object));
    }
    module2.exports = new Type("tag:yaml.org,2002:float", {
      kind: "scalar",
      resolve: resolveYamlFloat,
      construct: constructYamlFloat,
      predicate: isFloat,
      represent: representYamlFloat,
      defaultStyle: "lowercase"
    });
  }
});

// node_modules/js-yaml/lib/schema/json.js
var require_json = __commonJS({
  "node_modules/js-yaml/lib/schema/json.js"(exports, module2) {
    "use strict";
    module2.exports = require_failsafe().extend({
      implicit: [
        require_null(),
        require_bool(),
        require_int(),
        require_float()
      ]
    });
  }
});

// node_modules/js-yaml/lib/schema/core.js
var require_core = __commonJS({
  "node_modules/js-yaml/lib/schema/core.js"(exports, module2) {
    "use strict";
    module2.exports = require_json();
  }
});

// node_modules/js-yaml/lib/type/timestamp.js
var require_timestamp = __commonJS({
  "node_modules/js-yaml/lib/type/timestamp.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    var YAML_DATE_REGEXP = new RegExp(
      "^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"
    );
    var YAML_TIMESTAMP_REGEXP = new RegExp(
      "^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"
    );
    function resolveYamlTimestamp(data) {
      if (data === null)
        return false;
      if (YAML_DATE_REGEXP.exec(data) !== null)
        return true;
      if (YAML_TIMESTAMP_REGEXP.exec(data) !== null)
        return true;
      return false;
    }
    function constructYamlTimestamp(data) {
      var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;
      match = YAML_DATE_REGEXP.exec(data);
      if (match === null)
        match = YAML_TIMESTAMP_REGEXP.exec(data);
      if (match === null)
        throw new Error("Date resolve error");
      year = +match[1];
      month = +match[2] - 1;
      day = +match[3];
      if (!match[4]) {
        return new Date(Date.UTC(year, month, day));
      }
      hour = +match[4];
      minute = +match[5];
      second = +match[6];
      if (match[7]) {
        fraction = match[7].slice(0, 3);
        while (fraction.length < 3) {
          fraction += "0";
        }
        fraction = +fraction;
      }
      if (match[9]) {
        tz_hour = +match[10];
        tz_minute = +(match[11] || 0);
        delta = (tz_hour * 60 + tz_minute) * 6e4;
        if (match[9] === "-")
          delta = -delta;
      }
      date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));
      if (delta)
        date.setTime(date.getTime() - delta);
      return date;
    }
    function representYamlTimestamp(object) {
      return object.toISOString();
    }
    module2.exports = new Type("tag:yaml.org,2002:timestamp", {
      kind: "scalar",
      resolve: resolveYamlTimestamp,
      construct: constructYamlTimestamp,
      instanceOf: Date,
      represent: representYamlTimestamp
    });
  }
});

// node_modules/js-yaml/lib/type/merge.js
var require_merge = __commonJS({
  "node_modules/js-yaml/lib/type/merge.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    function resolveYamlMerge(data) {
      return data === "<<" || data === null;
    }
    module2.exports = new Type("tag:yaml.org,2002:merge", {
      kind: "scalar",
      resolve: resolveYamlMerge
    });
  }
});

// node_modules/js-yaml/lib/type/binary.js
var require_binary = __commonJS({
  "node_modules/js-yaml/lib/type/binary.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    var BASE64_MAP = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";
    function resolveYamlBinary(data) {
      if (data === null)
        return false;
      var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;
      for (idx = 0; idx < max; idx++) {
        code = map.indexOf(data.charAt(idx));
        if (code > 64)
          continue;
        if (code < 0)
          return false;
        bitlen += 6;
      }
      return bitlen % 8 === 0;
    }
    function constructYamlBinary(data) {
      var idx, tailbits, input = data.replace(/[\r\n=]/g, ""), max = input.length, map = BASE64_MAP, bits = 0, result = [];
      for (idx = 0; idx < max; idx++) {
        if (idx % 4 === 0 && idx) {
          result.push(bits >> 16 & 255);
          result.push(bits >> 8 & 255);
          result.push(bits & 255);
        }
        bits = bits << 6 | map.indexOf(input.charAt(idx));
      }
      tailbits = max % 4 * 6;
      if (tailbits === 0) {
        result.push(bits >> 16 & 255);
        result.push(bits >> 8 & 255);
        result.push(bits & 255);
      } else if (tailbits === 18) {
        result.push(bits >> 10 & 255);
        result.push(bits >> 2 & 255);
      } else if (tailbits === 12) {
        result.push(bits >> 4 & 255);
      }
      return new Uint8Array(result);
    }
    function representYamlBinary(object) {
      var result = "", bits = 0, idx, tail, max = object.length, map = BASE64_MAP;
      for (idx = 0; idx < max; idx++) {
        if (idx % 3 === 0 && idx) {
          result += map[bits >> 18 & 63];
          result += map[bits >> 12 & 63];
          result += map[bits >> 6 & 63];
          result += map[bits & 63];
        }
        bits = (bits << 8) + object[idx];
      }
      tail = max % 3;
      if (tail === 0) {
        result += map[bits >> 18 & 63];
        result += map[bits >> 12 & 63];
        result += map[bits >> 6 & 63];
        result += map[bits & 63];
      } else if (tail === 2) {
        result += map[bits >> 10 & 63];
        result += map[bits >> 4 & 63];
        result += map[bits << 2 & 63];
        result += map[64];
      } else if (tail === 1) {
        result += map[bits >> 2 & 63];
        result += map[bits << 4 & 63];
        result += map[64];
        result += map[64];
      }
      return result;
    }
    function isBinary(obj) {
      return Object.prototype.toString.call(obj) === "[object Uint8Array]";
    }
    module2.exports = new Type("tag:yaml.org,2002:binary", {
      kind: "scalar",
      resolve: resolveYamlBinary,
      construct: constructYamlBinary,
      predicate: isBinary,
      represent: representYamlBinary
    });
  }
});

// node_modules/js-yaml/lib/type/omap.js
var require_omap = __commonJS({
  "node_modules/js-yaml/lib/type/omap.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    var _hasOwnProperty = Object.prototype.hasOwnProperty;
    var _toString = Object.prototype.toString;
    function resolveYamlOmap(data) {
      if (data === null)
        return true;
      var objectKeys = [], index, length, pair, pairKey, pairHasKey, object = data;
      for (index = 0, length = object.length; index < length; index += 1) {
        pair = object[index];
        pairHasKey = false;
        if (_toString.call(pair) !== "[object Object]")
          return false;
        for (pairKey in pair) {
          if (_hasOwnProperty.call(pair, pairKey)) {
            if (!pairHasKey)
              pairHasKey = true;
            else
              return false;
          }
        }
        if (!pairHasKey)
          return false;
        if (objectKeys.indexOf(pairKey) === -1)
          objectKeys.push(pairKey);
        else
          return false;
      }
      return true;
    }
    function constructYamlOmap(data) {
      return data !== null ? data : [];
    }
    module2.exports = new Type("tag:yaml.org,2002:omap", {
      kind: "sequence",
      resolve: resolveYamlOmap,
      construct: constructYamlOmap
    });
  }
});

// node_modules/js-yaml/lib/type/pairs.js
var require_pairs = __commonJS({
  "node_modules/js-yaml/lib/type/pairs.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    var _toString = Object.prototype.toString;
    function resolveYamlPairs(data) {
      if (data === null)
        return true;
      var index, length, pair, keys, result, object = data;
      result = new Array(object.length);
      for (index = 0, length = object.length; index < length; index += 1) {
        pair = object[index];
        if (_toString.call(pair) !== "[object Object]")
          return false;
        keys = Object.keys(pair);
        if (keys.length !== 1)
          return false;
        result[index] = [keys[0], pair[keys[0]]];
      }
      return true;
    }
    function constructYamlPairs(data) {
      if (data === null)
        return [];
      var index, length, pair, keys, result, object = data;
      result = new Array(object.length);
      for (index = 0, length = object.length; index < length; index += 1) {
        pair = object[index];
        keys = Object.keys(pair);
        result[index] = [keys[0], pair[keys[0]]];
      }
      return result;
    }
    module2.exports = new Type("tag:yaml.org,2002:pairs", {
      kind: "sequence",
      resolve: resolveYamlPairs,
      construct: constructYamlPairs
    });
  }
});

// node_modules/js-yaml/lib/type/set.js
var require_set = __commonJS({
  "node_modules/js-yaml/lib/type/set.js"(exports, module2) {
    "use strict";
    var Type = require_type();
    var _hasOwnProperty = Object.prototype.hasOwnProperty;
    function resolveYamlSet(data) {
      if (data === null)
        return true;
      var key, object = data;
      for (key in object) {
        if (_hasOwnProperty.call(object, key)) {
          if (object[key] !== null)
            return false;
        }
      }
      return true;
    }
    function constructYamlSet(data) {
      return data !== null ? data : {};
    }
    module2.exports = new Type("tag:yaml.org,2002:set", {
      kind: "mapping",
      resolve: resolveYamlSet,
      construct: constructYamlSet
    });
  }
});

// node_modules/js-yaml/lib/schema/default.js
var require_default = __commonJS({
  "node_modules/js-yaml/lib/schema/default.js"(exports, module2) {
    "use strict";
    module2.exports = require_core().extend({
      implicit: [
        require_timestamp(),
        require_merge()
      ],
      explicit: [
        require_binary(),
        require_omap(),
        require_pairs(),
        require_set()
      ]
    });
  }
});

// node_modules/js-yaml/lib/loader.js
var require_loader = __commonJS({
  "node_modules/js-yaml/lib/loader.js"(exports, module2) {
    "use strict";
    var common = require_common();
    var YAMLException = require_exception();
    var makeSnippet = require_snippet();
    var DEFAULT_SCHEMA = require_default();
    var _hasOwnProperty = Object.prototype.hasOwnProperty;
    var CONTEXT_FLOW_IN = 1;
    var CONTEXT_FLOW_OUT = 2;
    var CONTEXT_BLOCK_IN = 3;
    var CONTEXT_BLOCK_OUT = 4;
    var CHOMPING_CLIP = 1;
    var CHOMPING_STRIP = 2;
    var CHOMPING_KEEP = 3;
    var PATTERN_NON_PRINTABLE = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;
    var PATTERN_NON_ASCII_LINE_BREAKS = /[\x85\u2028\u2029]/;
    var PATTERN_FLOW_INDICATORS = /[,\[\]\{\}]/;
    var PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z\-]+!)$/i;
    var PATTERN_TAG_URI = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;
    function _class(obj) {
      return Object.prototype.toString.call(obj);
    }
    function is_EOL(c) {
      return c === 10 || c === 13;
    }
    function is_WHITE_SPACE(c) {
      return c === 9 || c === 32;
    }
    function is_WS_OR_EOL(c) {
      return c === 9 || c === 32 || c === 10 || c === 13;
    }
    function is_FLOW_INDICATOR(c) {
      return c === 44 || c === 91 || c === 93 || c === 123 || c === 125;
    }
    function fromHexCode(c) {
      var lc;
      if (48 <= c && c <= 57) {
        return c - 48;
      }
      lc = c | 32;
      if (97 <= lc && lc <= 102) {
        return lc - 97 + 10;
      }
      return -1;
    }
    function escapedHexLen(c) {
      if (c === 120) {
        return 2;
      }
      if (c === 117) {
        return 4;
      }
      if (c === 85) {
        return 8;
      }
      return 0;
    }
    function fromDecimalCode(c) {
      if (48 <= c && c <= 57) {
        return c - 48;
      }
      return -1;
    }
    function simpleEscapeSequence(c) {
      return c === 48 ? "\0" : c === 97 ? "\x07" : c === 98 ? "\b" : c === 116 ? "	" : c === 9 ? "	" : c === 110 ? "\n" : c === 118 ? "\v" : c === 102 ? "\f" : c === 114 ? "\r" : c === 101 ? "\x1B" : c === 32 ? " " : c === 34 ? '"' : c === 47 ? "/" : c === 92 ? "\\" : c === 78 ? "\x85" : c === 95 ? "\xA0" : c === 76 ? "\u2028" : c === 80 ? "\u2029" : "";
    }
    function charFromCodepoint(c) {
      if (c <= 65535) {
        return String.fromCharCode(c);
      }
      return String.fromCharCode(
        (c - 65536 >> 10) + 55296,
        (c - 65536 & 1023) + 56320
      );
    }
    var simpleEscapeCheck = new Array(256);
    var simpleEscapeMap = new Array(256);
    for (i = 0; i < 256; i++) {
      simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;
      simpleEscapeMap[i] = simpleEscapeSequence(i);
    }
    var i;
    function State(input, options) {
      this.input = input;
      this.filename = options["filename"] || null;
      this.schema = options["schema"] || DEFAULT_SCHEMA;
      this.onWarning = options["onWarning"] || null;
      this.legacy = options["legacy"] || false;
      this.json = options["json"] || false;
      this.listener = options["listener"] || null;
      this.implicitTypes = this.schema.compiledImplicit;
      this.typeMap = this.schema.compiledTypeMap;
      this.length = input.length;
      this.position = 0;
      this.line = 0;
      this.lineStart = 0;
      this.lineIndent = 0;
      this.firstTabInLine = -1;
      this.documents = [];
    }
    function generateError(state, message) {
      var mark = {
        name: state.filename,
        buffer: state.input.slice(0, -1),
        // omit trailing \0
        position: state.position,
        line: state.line,
        column: state.position - state.lineStart
      };
      mark.snippet = makeSnippet(mark);
      return new YAMLException(message, mark);
    }
    function throwError(state, message) {
      throw generateError(state, message);
    }
    function throwWarning(state, message) {
      if (state.onWarning) {
        state.onWarning.call(null, generateError(state, message));
      }
    }
    var directiveHandlers = {
      YAML: function handleYamlDirective(state, name, args) {
        var match, major, minor;
        if (state.version !== null) {
          throwError(state, "duplication of %YAML directive");
        }
        if (args.length !== 1) {
          throwError(state, "YAML directive accepts exactly one argument");
        }
        match = /^([0-9]+)\.([0-9]+)$/.exec(args[0]);
        if (match === null) {
          throwError(state, "ill-formed argument of the YAML directive");
        }
        major = parseInt(match[1], 10);
        minor = parseInt(match[2], 10);
        if (major !== 1) {
          throwError(state, "unacceptable YAML version of the document");
        }
        state.version = args[0];
        state.checkLineBreaks = minor < 2;
        if (minor !== 1 && minor !== 2) {
          throwWarning(state, "unsupported YAML version of the document");
        }
      },
      TAG: function handleTagDirective(state, name, args) {
        var handle, prefix;
        if (args.length !== 2) {
          throwError(state, "TAG directive accepts exactly two arguments");
        }
        handle = args[0];
        prefix = args[1];
        if (!PATTERN_TAG_HANDLE.test(handle)) {
          throwError(state, "ill-formed tag handle (first argument) of the TAG directive");
        }
        if (_hasOwnProperty.call(state.tagMap, handle)) {
          throwError(state, 'there is a previously declared suffix for "' + handle + '" tag handle');
        }
        if (!PATTERN_TAG_URI.test(prefix)) {
          throwError(state, "ill-formed tag prefix (second argument) of the TAG directive");
        }
        try {
          prefix = decodeURIComponent(prefix);
        } catch (err) {
          throwError(state, "tag prefix is malformed: " + prefix);
        }
        state.tagMap[handle] = prefix;
      }
    };
    function captureSegment(state, start, end, checkJson) {
      var _position, _length, _character, _result;
      if (start < end) {
        _result = state.input.slice(start, end);
        if (checkJson) {
          for (_position = 0, _length = _result.length; _position < _length; _position += 1) {
            _character = _result.charCodeAt(_position);
            if (!(_character === 9 || 32 <= _character && _character <= 1114111)) {
              throwError(state, "expected valid JSON character");
            }
          }
        } else if (PATTERN_NON_PRINTABLE.test(_result)) {
          throwError(state, "the stream contains non-printable characters");
        }
        state.result += _result;
      }
    }
    function mergeMappings(state, destination, source, overridableKeys) {
      var sourceKeys, key, index, quantity;
      if (!common.isObject(source)) {
        throwError(state, "cannot merge mappings; the provided source object is unacceptable");
      }
      sourceKeys = Object.keys(source);
      for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {
        key = sourceKeys[index];
        if (!_hasOwnProperty.call(destination, key)) {
          destination[key] = source[key];
          overridableKeys[key] = true;
        }
      }
    }
    function storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startLineStart, startPos) {
      var index, quantity;
      if (Array.isArray(keyNode)) {
        keyNode = Array.prototype.slice.call(keyNode);
        for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {
          if (Array.isArray(keyNode[index])) {
            throwError(state, "nested arrays are not supported inside keys");
          }
          if (typeof keyNode === "object" && _class(keyNode[index]) === "[object Object]") {
            keyNode[index] = "[object Object]";
          }
        }
      }
      if (typeof keyNode === "object" && _class(keyNode) === "[object Object]") {
        keyNode = "[object Object]";
      }
      keyNode = String(keyNode);
      if (_result === null) {
        _result = {};
      }
      if (keyTag === "tag:yaml.org,2002:merge") {
        if (Array.isArray(valueNode)) {
          for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {
            mergeMappings(state, _result, valueNode[index], overridableKeys);
          }
        } else {
          mergeMappings(state, _result, valueNode, overridableKeys);
        }
      } else {
        if (!state.json && !_hasOwnProperty.call(overridableKeys, keyNode) && _hasOwnProperty.call(_result, keyNode)) {
          state.line = startLine || state.line;
          state.lineStart = startLineStart || state.lineStart;
          state.position = startPos || state.position;
          throwError(state, "duplicated mapping key");
        }
        if (keyNode === "__proto__") {
          Object.defineProperty(_result, keyNode, {
            configurable: true,
            enumerable: true,
            writable: true,
            value: valueNode
          });
        } else {
          _result[keyNode] = valueNode;
        }
        delete overridableKeys[keyNode];
      }
      return _result;
    }
    function readLineBreak(state) {
      var ch;
      ch = state.input.charCodeAt(state.position);
      if (ch === 10) {
        state.position++;
      } else if (ch === 13) {
        state.position++;
        if (state.input.charCodeAt(state.position) === 10) {
          state.position++;
        }
      } else {
        throwError(state, "a line break is expected");
      }
      state.line += 1;
      state.lineStart = state.position;
      state.firstTabInLine = -1;
    }
    function skipSeparationSpace(state, allowComments, checkIndent) {
      var lineBreaks = 0, ch = state.input.charCodeAt(state.position);
      while (ch !== 0) {
        while (is_WHITE_SPACE(ch)) {
          if (ch === 9 && state.firstTabInLine === -1) {
            state.firstTabInLine = state.position;
          }
          ch = state.input.charCodeAt(++state.position);
        }
        if (allowComments && ch === 35) {
          do {
            ch = state.input.charCodeAt(++state.position);
          } while (ch !== 10 && ch !== 13 && ch !== 0);
        }
        if (is_EOL(ch)) {
          readLineBreak(state);
          ch = state.input.charCodeAt(state.position);
          lineBreaks++;
          state.lineIndent = 0;
          while (ch === 32) {
            state.lineIndent++;
            ch = state.input.charCodeAt(++state.position);
          }
        } else {
          break;
        }
      }
      if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {
        throwWarning(state, "deficient indentation");
      }
      return lineBreaks;
    }
    function testDocumentSeparator(state) {
      var _position = state.position, ch;
      ch = state.input.charCodeAt(_position);
      if ((ch === 45 || ch === 46) && ch === state.input.charCodeAt(_position + 1) && ch === state.input.charCodeAt(_position + 2)) {
        _position += 3;
        ch = state.input.charCodeAt(_position);
        if (ch === 0 || is_WS_OR_EOL(ch)) {
          return true;
        }
      }
      return false;
    }
    function writeFoldedLines(state, count) {
      if (count === 1) {
        state.result += " ";
      } else if (count > 1) {
        state.result += common.repeat("\n", count - 1);
      }
    }
    function readPlainScalar(state, nodeIndent, withinFlowCollection) {
      var preceding, following, captureStart, captureEnd, hasPendingContent, _line, _lineStart, _lineIndent, _kind = state.kind, _result = state.result, ch;
      ch = state.input.charCodeAt(state.position);
      if (is_WS_OR_EOL(ch) || is_FLOW_INDICATOR(ch) || ch === 35 || ch === 38 || ch === 42 || ch === 33 || ch === 124 || ch === 62 || ch === 39 || ch === 34 || ch === 37 || ch === 64 || ch === 96) {
        return false;
      }
      if (ch === 63 || ch === 45) {
        following = state.input.charCodeAt(state.position + 1);
        if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {
          return false;
        }
      }
      state.kind = "scalar";
      state.result = "";
      captureStart = captureEnd = state.position;
      hasPendingContent = false;
      while (ch !== 0) {
        if (ch === 58) {
          following = state.input.charCodeAt(state.position + 1);
          if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {
            break;
          }
        } else if (ch === 35) {
          preceding = state.input.charCodeAt(state.position - 1);
          if (is_WS_OR_EOL(preceding)) {
            break;
          }
        } else if (state.position === state.lineStart && testDocumentSeparator(state) || withinFlowCollection && is_FLOW_INDICATOR(ch)) {
          break;
        } else if (is_EOL(ch)) {
          _line = state.line;
          _lineStart = state.lineStart;
          _lineIndent = state.lineIndent;
          skipSeparationSpace(state, false, -1);
          if (state.lineIndent >= nodeIndent) {
            hasPendingContent = true;
            ch = state.input.charCodeAt(state.position);
            continue;
          } else {
            state.position = captureEnd;
            state.line = _line;
            state.lineStart = _lineStart;
            state.lineIndent = _lineIndent;
            break;
          }
        }
        if (hasPendingContent) {
          captureSegment(state, captureStart, captureEnd, false);
          writeFoldedLines(state, state.line - _line);
          captureStart = captureEnd = state.position;
          hasPendingContent = false;
        }
        if (!is_WHITE_SPACE(ch)) {
          captureEnd = state.position + 1;
        }
        ch = state.input.charCodeAt(++state.position);
      }
      captureSegment(state, captureStart, captureEnd, false);
      if (state.result) {
        return true;
      }
      state.kind = _kind;
      state.result = _result;
      return false;
    }
    function readSingleQuotedScalar(state, nodeIndent) {
      var ch, captureStart, captureEnd;
      ch = state.input.charCodeAt(state.position);
      if (ch !== 39) {
        return false;
      }
      state.kind = "scalar";
      state.result = "";
      state.position++;
      captureStart = captureEnd = state.position;
      while ((ch = state.input.charCodeAt(state.position)) !== 0) {
        if (ch === 39) {
          captureSegment(state, captureStart, state.position, true);
          ch = state.input.charCodeAt(++state.position);
          if (ch === 39) {
            captureStart = state.position;
            state.position++;
            captureEnd = state.position;
          } else {
            return true;
          }
        } else if (is_EOL(ch)) {
          captureSegment(state, captureStart, captureEnd, true);
          writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));
          captureStart = captureEnd = state.position;
        } else if (state.position === state.lineStart && testDocumentSeparator(state)) {
          throwError(state, "unexpected end of the document within a single quoted scalar");
        } else {
          state.position++;
          captureEnd = state.position;
        }
      }
      throwError(state, "unexpected end of the stream within a single quoted scalar");
    }
    function readDoubleQuotedScalar(state, nodeIndent) {
      var captureStart, captureEnd, hexLength, hexResult, tmp, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch !== 34) {
        return false;
      }
      state.kind = "scalar";
      state.result = "";
      state.position++;
      captureStart = captureEnd = state.position;
      while ((ch = state.input.charCodeAt(state.position)) !== 0) {
        if (ch === 34) {
          captureSegment(state, captureStart, state.position, true);
          state.position++;
          return true;
        } else if (ch === 92) {
          captureSegment(state, captureStart, state.position, true);
          ch = state.input.charCodeAt(++state.position);
          if (is_EOL(ch)) {
            skipSeparationSpace(state, false, nodeIndent);
          } else if (ch < 256 && simpleEscapeCheck[ch]) {
            state.result += simpleEscapeMap[ch];
            state.position++;
          } else if ((tmp = escapedHexLen(ch)) > 0) {
            hexLength = tmp;
            hexResult = 0;
            for (; hexLength > 0; hexLength--) {
              ch = state.input.charCodeAt(++state.position);
              if ((tmp = fromHexCode(ch)) >= 0) {
                hexResult = (hexResult << 4) + tmp;
              } else {
                throwError(state, "expected hexadecimal character");
              }
            }
            state.result += charFromCodepoint(hexResult);
            state.position++;
          } else {
            throwError(state, "unknown escape sequence");
          }
          captureStart = captureEnd = state.position;
        } else if (is_EOL(ch)) {
          captureSegment(state, captureStart, captureEnd, true);
          writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));
          captureStart = captureEnd = state.position;
        } else if (state.position === state.lineStart && testDocumentSeparator(state)) {
          throwError(state, "unexpected end of the document within a double quoted scalar");
        } else {
          state.position++;
          captureEnd = state.position;
        }
      }
      throwError(state, "unexpected end of the stream within a double quoted scalar");
    }
    function readFlowCollection(state, nodeIndent) {
      var readNext = true, _line, _lineStart, _pos, _tag = state.tag, _result, _anchor = state.anchor, following, terminator, isPair, isExplicitPair, isMapping, overridableKeys = /* @__PURE__ */ Object.create(null), keyNode, keyTag, valueNode, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch === 91) {
        terminator = 93;
        isMapping = false;
        _result = [];
      } else if (ch === 123) {
        terminator = 125;
        isMapping = true;
        _result = {};
      } else {
        return false;
      }
      if (state.anchor !== null) {
        state.anchorMap[state.anchor] = _result;
      }
      ch = state.input.charCodeAt(++state.position);
      while (ch !== 0) {
        skipSeparationSpace(state, true, nodeIndent);
        ch = state.input.charCodeAt(state.position);
        if (ch === terminator) {
          state.position++;
          state.tag = _tag;
          state.anchor = _anchor;
          state.kind = isMapping ? "mapping" : "sequence";
          state.result = _result;
          return true;
        } else if (!readNext) {
          throwError(state, "missed comma between flow collection entries");
        } else if (ch === 44) {
          throwError(state, "expected the node content, but found ','");
        }
        keyTag = keyNode = valueNode = null;
        isPair = isExplicitPair = false;
        if (ch === 63) {
          following = state.input.charCodeAt(state.position + 1);
          if (is_WS_OR_EOL(following)) {
            isPair = isExplicitPair = true;
            state.position++;
            skipSeparationSpace(state, true, nodeIndent);
          }
        }
        _line = state.line;
        _lineStart = state.lineStart;
        _pos = state.position;
        composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);
        keyTag = state.tag;
        keyNode = state.result;
        skipSeparationSpace(state, true, nodeIndent);
        ch = state.input.charCodeAt(state.position);
        if ((isExplicitPair || state.line === _line) && ch === 58) {
          isPair = true;
          ch = state.input.charCodeAt(++state.position);
          skipSeparationSpace(state, true, nodeIndent);
          composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);
          valueNode = state.result;
        }
        if (isMapping) {
          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);
        } else if (isPair) {
          _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));
        } else {
          _result.push(keyNode);
        }
        skipSeparationSpace(state, true, nodeIndent);
        ch = state.input.charCodeAt(state.position);
        if (ch === 44) {
          readNext = true;
          ch = state.input.charCodeAt(++state.position);
        } else {
          readNext = false;
        }
      }
      throwError(state, "unexpected end of the stream within a flow collection");
    }
    function readBlockScalar(state, nodeIndent) {
      var captureStart, folding, chomping = CHOMPING_CLIP, didReadContent = false, detectedIndent = false, textIndent = nodeIndent, emptyLines = 0, atMoreIndented = false, tmp, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch === 124) {
        folding = false;
      } else if (ch === 62) {
        folding = true;
      } else {
        return false;
      }
      state.kind = "scalar";
      state.result = "";
      while (ch !== 0) {
        ch = state.input.charCodeAt(++state.position);
        if (ch === 43 || ch === 45) {
          if (CHOMPING_CLIP === chomping) {
            chomping = ch === 43 ? CHOMPING_KEEP : CHOMPING_STRIP;
          } else {
            throwError(state, "repeat of a chomping mode identifier");
          }
        } else if ((tmp = fromDecimalCode(ch)) >= 0) {
          if (tmp === 0) {
            throwError(state, "bad explicit indentation width of a block scalar; it cannot be less than one");
          } else if (!detectedIndent) {
            textIndent = nodeIndent + tmp - 1;
            detectedIndent = true;
          } else {
            throwError(state, "repeat of an indentation width identifier");
          }
        } else {
          break;
        }
      }
      if (is_WHITE_SPACE(ch)) {
        do {
          ch = state.input.charCodeAt(++state.position);
        } while (is_WHITE_SPACE(ch));
        if (ch === 35) {
          do {
            ch = state.input.charCodeAt(++state.position);
          } while (!is_EOL(ch) && ch !== 0);
        }
      }
      while (ch !== 0) {
        readLineBreak(state);
        state.lineIndent = 0;
        ch = state.input.charCodeAt(state.position);
        while ((!detectedIndent || state.lineIndent < textIndent) && ch === 32) {
          state.lineIndent++;
          ch = state.input.charCodeAt(++state.position);
        }
        if (!detectedIndent && state.lineIndent > textIndent) {
          textIndent = state.lineIndent;
        }
        if (is_EOL(ch)) {
          emptyLines++;
          continue;
        }
        if (state.lineIndent < textIndent) {
          if (chomping === CHOMPING_KEEP) {
            state.result += common.repeat("\n", didReadContent ? 1 + emptyLines : emptyLines);
          } else if (chomping === CHOMPING_CLIP) {
            if (didReadContent) {
              state.result += "\n";
            }
          }
          break;
        }
        if (folding) {
          if (is_WHITE_SPACE(ch)) {
            atMoreIndented = true;
            state.result += common.repeat("\n", didReadContent ? 1 + emptyLines : emptyLines);
          } else if (atMoreIndented) {
            atMoreIndented = false;
            state.result += common.repeat("\n", emptyLines + 1);
          } else if (emptyLines === 0) {
            if (didReadContent) {
              state.result += " ";
            }
          } else {
            state.result += common.repeat("\n", emptyLines);
          }
        } else {
          state.result += common.repeat("\n", didReadContent ? 1 + emptyLines : emptyLines);
        }
        didReadContent = true;
        detectedIndent = true;
        emptyLines = 0;
        captureStart = state.position;
        while (!is_EOL(ch) && ch !== 0) {
          ch = state.input.charCodeAt(++state.position);
        }
        captureSegment(state, captureStart, state.position, false);
      }
      return true;
    }
    function readBlockSequence(state, nodeIndent) {
      var _line, _tag = state.tag, _anchor = state.anchor, _result = [], following, detected = false, ch;
      if (state.firstTabInLine !== -1)
        return false;
      if (state.anchor !== null) {
        state.anchorMap[state.anchor] = _result;
      }
      ch = state.input.charCodeAt(state.position);
      while (ch !== 0) {
        if (state.firstTabInLine !== -1) {
          state.position = state.firstTabInLine;
          throwError(state, "tab characters must not be used in indentation");
        }
        if (ch !== 45) {
          break;
        }
        following = state.input.charCodeAt(state.position + 1);
        if (!is_WS_OR_EOL(following)) {
          break;
        }
        detected = true;
        state.position++;
        if (skipSeparationSpace(state, true, -1)) {
          if (state.lineIndent <= nodeIndent) {
            _result.push(null);
            ch = state.input.charCodeAt(state.position);
            continue;
          }
        }
        _line = state.line;
        composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);
        _result.push(state.result);
        skipSeparationSpace(state, true, -1);
        ch = state.input.charCodeAt(state.position);
        if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {
          throwError(state, "bad indentation of a sequence entry");
        } else if (state.lineIndent < nodeIndent) {
          break;
        }
      }
      if (detected) {
        state.tag = _tag;
        state.anchor = _anchor;
        state.kind = "sequence";
        state.result = _result;
        return true;
      }
      return false;
    }
    function readBlockMapping(state, nodeIndent, flowIndent) {
      var following, allowCompact, _line, _keyLine, _keyLineStart, _keyPos, _tag = state.tag, _anchor = state.anchor, _result = {}, overridableKeys = /* @__PURE__ */ Object.create(null), keyTag = null, keyNode = null, valueNode = null, atExplicitKey = false, detected = false, ch;
      if (state.firstTabInLine !== -1)
        return false;
      if (state.anchor !== null) {
        state.anchorMap[state.anchor] = _result;
      }
      ch = state.input.charCodeAt(state.position);
      while (ch !== 0) {
        if (!atExplicitKey && state.firstTabInLine !== -1) {
          state.position = state.firstTabInLine;
          throwError(state, "tab characters must not be used in indentation");
        }
        following = state.input.charCodeAt(state.position + 1);
        _line = state.line;
        if ((ch === 63 || ch === 58) && is_WS_OR_EOL(following)) {
          if (ch === 63) {
            if (atExplicitKey) {
              storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
              keyTag = keyNode = valueNode = null;
            }
            detected = true;
            atExplicitKey = true;
            allowCompact = true;
          } else if (atExplicitKey) {
            atExplicitKey = false;
            allowCompact = true;
          } else {
            throwError(state, "incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");
          }
          state.position += 1;
          ch = following;
        } else {
          _keyLine = state.line;
          _keyLineStart = state.lineStart;
          _keyPos = state.position;
          if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {
            break;
          }
          if (state.line === _line) {
            ch = state.input.charCodeAt(state.position);
            while (is_WHITE_SPACE(ch)) {
              ch = state.input.charCodeAt(++state.position);
            }
            if (ch === 58) {
              ch = state.input.charCodeAt(++state.position);
              if (!is_WS_OR_EOL(ch)) {
                throwError(state, "a whitespace character is expected after the key-value separator within a block mapping");
              }
              if (atExplicitKey) {
                storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
                keyTag = keyNode = valueNode = null;
              }
              detected = true;
              atExplicitKey = false;
              allowCompact = false;
              keyTag = state.tag;
              keyNode = state.result;
            } else if (detected) {
              throwError(state, "can not read an implicit mapping pair; a colon is missed");
            } else {
              state.tag = _tag;
              state.anchor = _anchor;
              return true;
            }
          } else if (detected) {
            throwError(state, "can not read a block mapping entry; a multiline key may not be an implicit key");
          } else {
            state.tag = _tag;
            state.anchor = _anchor;
            return true;
          }
        }
        if (state.line === _line || state.lineIndent > nodeIndent) {
          if (atExplicitKey) {
            _keyLine = state.line;
            _keyLineStart = state.lineStart;
            _keyPos = state.position;
          }
          if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {
            if (atExplicitKey) {
              keyNode = state.result;
            } else {
              valueNode = state.result;
            }
          }
          if (!atExplicitKey) {
            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);
            keyTag = keyNode = valueNode = null;
          }
          skipSeparationSpace(state, true, -1);
          ch = state.input.charCodeAt(state.position);
        }
        if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {
          throwError(state, "bad indentation of a mapping entry");
        } else if (state.lineIndent < nodeIndent) {
          break;
        }
      }
      if (atExplicitKey) {
        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
      }
      if (detected) {
        state.tag = _tag;
        state.anchor = _anchor;
        state.kind = "mapping";
        state.result = _result;
      }
      return detected;
    }
    function readTagProperty(state) {
      var _position, isVerbatim = false, isNamed = false, tagHandle, tagName, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch !== 33)
        return false;
      if (state.tag !== null) {
        throwError(state, "duplication of a tag property");
      }
      ch = state.input.charCodeAt(++state.position);
      if (ch === 60) {
        isVerbatim = true;
        ch = state.input.charCodeAt(++state.position);
      } else if (ch === 33) {
        isNamed = true;
        tagHandle = "!!";
        ch = state.input.charCodeAt(++state.position);
      } else {
        tagHandle = "!";
      }
      _position = state.position;
      if (isVerbatim) {
        do {
          ch = state.input.charCodeAt(++state.position);
        } while (ch !== 0 && ch !== 62);
        if (state.position < state.length) {
          tagName = state.input.slice(_position, state.position);
          ch = state.input.charCodeAt(++state.position);
        } else {
          throwError(state, "unexpected end of the stream within a verbatim tag");
        }
      } else {
        while (ch !== 0 && !is_WS_OR_EOL(ch)) {
          if (ch === 33) {
            if (!isNamed) {
              tagHandle = state.input.slice(_position - 1, state.position + 1);
              if (!PATTERN_TAG_HANDLE.test(tagHandle)) {
                throwError(state, "named tag handle cannot contain such characters");
              }
              isNamed = true;
              _position = state.position + 1;
            } else {
              throwError(state, "tag suffix cannot contain exclamation marks");
            }
          }
          ch = state.input.charCodeAt(++state.position);
        }
        tagName = state.input.slice(_position, state.position);
        if (PATTERN_FLOW_INDICATORS.test(tagName)) {
          throwError(state, "tag suffix cannot contain flow indicator characters");
        }
      }
      if (tagName && !PATTERN_TAG_URI.test(tagName)) {
        throwError(state, "tag name cannot contain such characters: " + tagName);
      }
      try {
        tagName = decodeURIComponent(tagName);
      } catch (err) {
        throwError(state, "tag name is malformed: " + tagName);
      }
      if (isVerbatim) {
        state.tag = tagName;
      } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {
        state.tag = state.tagMap[tagHandle] + tagName;
      } else if (tagHandle === "!") {
        state.tag = "!" + tagName;
      } else if (tagHandle === "!!") {
        state.tag = "tag:yaml.org,2002:" + tagName;
      } else {
        throwError(state, 'undeclared tag handle "' + tagHandle + '"');
      }
      return true;
    }
    function readAnchorProperty(state) {
      var _position, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch !== 38)
        return false;
      if (state.anchor !== null) {
        throwError(state, "duplication of an anchor property");
      }
      ch = state.input.charCodeAt(++state.position);
      _position = state.position;
      while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {
        ch = state.input.charCodeAt(++state.position);
      }
      if (state.position === _position) {
        throwError(state, "name of an anchor node must contain at least one character");
      }
      state.anchor = state.input.slice(_position, state.position);
      return true;
    }
    function readAlias(state) {
      var _position, alias, ch;
      ch = state.input.charCodeAt(state.position);
      if (ch !== 42)
        return false;
      ch = state.input.charCodeAt(++state.position);
      _position = state.position;
      while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {
        ch = state.input.charCodeAt(++state.position);
      }
      if (state.position === _position) {
        throwError(state, "name of an alias node must contain at least one character");
      }
      alias = state.input.slice(_position, state.position);
      if (!_hasOwnProperty.call(state.anchorMap, alias)) {
        throwError(state, 'unidentified alias "' + alias + '"');
      }
      state.result = state.anchorMap[alias];
      skipSeparationSpace(state, true, -1);
      return true;
    }
    function composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {
      var allowBlockStyles, allowBlockScalars, allowBlockCollections, indentStatus = 1, atNewLine = false, hasContent = false, typeIndex, typeQuantity, typeList, type, flowIndent, blockIndent;
      if (state.listener !== null) {
        state.listener("open", state);
      }
      state.tag = null;
      state.anchor = null;
      state.kind = null;
      state.result = null;
      allowBlockStyles = allowBlockScalars = allowBlockCollections = CONTEXT_BLOCK_OUT === nodeContext || CONTEXT_BLOCK_IN === nodeContext;
      if (allowToSeek) {
        if (skipSeparationSpace(state, true, -1)) {
          atNewLine = true;
          if (state.lineIndent > parentIndent) {
            indentStatus = 1;
          } else if (state.lineIndent === parentIndent) {
            indentStatus = 0;
          } else if (state.lineIndent < parentIndent) {
            indentStatus = -1;
          }
        }
      }
      if (indentStatus === 1) {
        while (readTagProperty(state) || readAnchorProperty(state)) {
          if (skipSeparationSpace(state, true, -1)) {
            atNewLine = true;
            allowBlockCollections = allowBlockStyles;
            if (state.lineIndent > parentIndent) {
              indentStatus = 1;
            } else if (state.lineIndent === parentIndent) {
              indentStatus = 0;
            } else if (state.lineIndent < parentIndent) {
              indentStatus = -1;
            }
          } else {
            allowBlockCollections = false;
          }
        }
      }
      if (allowBlockCollections) {
        allowBlockCollections = atNewLine || allowCompact;
      }
      if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {
        if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {
          flowIndent = parentIndent;
        } else {
          flowIndent = parentIndent + 1;
        }
        blockIndent = state.position - state.lineStart;
        if (indentStatus === 1) {
          if (allowBlockCollections && (readBlockSequence(state, blockIndent) || readBlockMapping(state, blockIndent, flowIndent)) || readFlowCollection(state, flowIndent)) {
            hasContent = true;
          } else {
            if (allowBlockScalars && readBlockScalar(state, flowIndent) || readSingleQuotedScalar(state, flowIndent) || readDoubleQuotedScalar(state, flowIndent)) {
              hasContent = true;
            } else if (readAlias(state)) {
              hasContent = true;
              if (state.tag !== null || state.anchor !== null) {
                throwError(state, "alias node should not have any properties");
              }
            } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {
              hasContent = true;
              if (state.tag === null) {
                state.tag = "?";
              }
            }
            if (state.anchor !== null) {
              state.anchorMap[state.anchor] = state.result;
            }
          }
        } else if (indentStatus === 0) {
          hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);
        }
      }
      if (state.tag === null) {
        if (state.anchor !== null) {
          state.anchorMap[state.anchor] = state.result;
        }
      } else if (state.tag === "?") {
        if (state.result !== null && state.kind !== "scalar") {
          throwError(state, 'unacceptable node kind for !<?> tag; it should be "scalar", not "' + state.kind + '"');
        }
        for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {
          type = state.implicitTypes[typeIndex];
          if (type.resolve(state.result)) {
            state.result = type.construct(state.result);
            state.tag = type.tag;
            if (state.anchor !== null) {
              state.anchorMap[state.anchor] = state.result;
            }
            break;
          }
        }
      } else if (state.tag !== "!") {
        if (_hasOwnProperty.call(state.typeMap[state.kind || "fallback"], state.tag)) {
          type = state.typeMap[state.kind || "fallback"][state.tag];
        } else {
          type = null;
          typeList = state.typeMap.multi[state.kind || "fallback"];
          for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {
            if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {
              type = typeList[typeIndex];
              break;
            }
          }
        }
        if (!type) {
          throwError(state, "unknown tag !<" + state.tag + ">");
        }
        if (state.result !== null && type.kind !== state.kind) {
          throwError(state, "unacceptable node kind for !<" + state.tag + '> tag; it should be "' + type.kind + '", not "' + state.kind + '"');
        }
        if (!type.resolve(state.result, state.tag)) {
          throwError(state, "cannot resolve a node with !<" + state.tag + "> explicit tag");
        } else {
          state.result = type.construct(state.result, state.tag);
          if (state.anchor !== null) {
            state.anchorMap[state.anchor] = state.result;
          }
        }
      }
      if (state.listener !== null) {
        state.listener("close", state);
      }
      return state.tag !== null || state.anchor !== null || hasContent;
    }
    function readDocument(state) {
      var documentStart = state.position, _position, directiveName, directiveArgs, hasDirectives = false, ch;
      state.version = null;
      state.checkLineBreaks = state.legacy;
      state.tagMap = /* @__PURE__ */ Object.create(null);
      state.anchorMap = /* @__PURE__ */ Object.create(null);
      while ((ch = state.input.charCodeAt(state.position)) !== 0) {
        skipSeparationSpace(state, true, -1);
        ch = state.input.charCodeAt(state.position);
        if (state.lineIndent > 0 || ch !== 37) {
          break;
        }
        hasDirectives = true;
        ch = state.input.charCodeAt(++state.position);
        _position = state.position;
        while (ch !== 0 && !is_WS_OR_EOL(ch)) {
          ch = state.input.charCodeAt(++state.position);
        }
        directiveName = state.input.slice(_position, state.position);
        directiveArgs = [];
        if (directiveName.length < 1) {
          throwError(state, "directive name must not be less than one character in length");
        }
        while (ch !== 0) {
          while (is_WHITE_SPACE(ch)) {
            ch = state.input.charCodeAt(++state.position);
          }
          if (ch === 35) {
            do {
              ch = state.input.charCodeAt(++state.position);
            } while (ch !== 0 && !is_EOL(ch));
            break;
          }
          if (is_EOL(ch))
            break;
          _position = state.position;
          while (ch !== 0 && !is_WS_OR_EOL(ch)) {
            ch = state.input.charCodeAt(++state.position);
          }
          directiveArgs.push(state.input.slice(_position, state.position));
        }
        if (ch !== 0)
          readLineBreak(state);
        if (_hasOwnProperty.call(directiveHandlers, directiveName)) {
          directiveHandlers[directiveName](state, directiveName, directiveArgs);
        } else {
          throwWarning(state, 'unknown document directive "' + directiveName + '"');
        }
      }
      skipSeparationSpace(state, true, -1);
      if (state.lineIndent === 0 && state.input.charCodeAt(state.position) === 45 && state.input.charCodeAt(state.position + 1) === 45 && state.input.charCodeAt(state.position + 2) === 45) {
        state.position += 3;
        skipSeparationSpace(state, true, -1);
      } else if (hasDirectives) {
        throwError(state, "directives end mark is expected");
      }
      composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);
      skipSeparationSpace(state, true, -1);
      if (state.checkLineBreaks && PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {
        throwWarning(state, "non-ASCII line breaks are interpreted as content");
      }
      state.documents.push(state.result);
      if (state.position === state.lineStart && testDocumentSeparator(state)) {
        if (state.input.charCodeAt(state.position) === 46) {
          state.position += 3;
          skipSeparationSpace(state, true, -1);
        }
        return;
      }
      if (state.position < state.length - 1) {
        throwError(state, "end of the stream or a document separator is expected");
      } else {
        return;
      }
    }
    function loadDocuments(input, options) {
      input = String(input);
      options = options || {};
      if (input.length !== 0) {
        if (input.charCodeAt(input.length - 1) !== 10 && input.charCodeAt(input.length - 1) !== 13) {
          input += "\n";
        }
        if (input.charCodeAt(0) === 65279) {
          input = input.slice(1);
        }
      }
      var state = new State(input, options);
      var nullpos = input.indexOf("\0");
      if (nullpos !== -1) {
        state.position = nullpos;
        throwError(state, "null byte is not allowed in input");
      }
      state.input += "\0";
      while (state.input.charCodeAt(state.position) === 32) {
        state.lineIndent += 1;
        state.position += 1;
      }
      while (state.position < state.length - 1) {
        readDocument(state);
      }
      return state.documents;
    }
    function loadAll(input, iterator, options) {
      if (iterator !== null && typeof iterator === "object" && typeof options === "undefined") {
        options = iterator;
        iterator = null;
      }
      var documents = loadDocuments(input, options);
      if (typeof iterator !== "function") {
        return documents;
      }
      for (var index = 0, length = documents.length; index < length; index += 1) {
        iterator(documents[index]);
      }
    }
    function load(input, options) {
      var documents = loadDocuments(input, options);
      if (documents.length === 0) {
        return void 0;
      } else if (documents.length === 1) {
        return documents[0];
      }
      throw new YAMLException("expected a single document in the stream, but found more");
    }
    module2.exports.loadAll = loadAll;
    module2.exports.load = load;
  }
});

// node_modules/js-yaml/lib/dumper.js
var require_dumper = __commonJS({
  "node_modules/js-yaml/lib/dumper.js"(exports, module2) {
    "use strict";
    var common = require_common();
    var YAMLException = require_exception();
    var DEFAULT_SCHEMA = require_default();
    var _toString = Object.prototype.toString;
    var _hasOwnProperty = Object.prototype.hasOwnProperty;
    var CHAR_BOM = 65279;
    var CHAR_TAB = 9;
    var CHAR_LINE_FEED = 10;
    var CHAR_CARRIAGE_RETURN = 13;
    var CHAR_SPACE = 32;
    var CHAR_EXCLAMATION = 33;
    var CHAR_DOUBLE_QUOTE = 34;
    var CHAR_SHARP = 35;
    var CHAR_PERCENT = 37;
    var CHAR_AMPERSAND = 38;
    var CHAR_SINGLE_QUOTE = 39;
    var CHAR_ASTERISK = 42;
    var CHAR_COMMA = 44;
    var CHAR_MINUS = 45;
    var CHAR_COLON = 58;
    var CHAR_EQUALS = 61;
    var CHAR_GREATER_THAN = 62;
    var CHAR_QUESTION = 63;
    var CHAR_COMMERCIAL_AT = 64;
    var CHAR_LEFT_SQUARE_BRACKET = 91;
    var CHAR_RIGHT_SQUARE_BRACKET = 93;
    var CHAR_GRAVE_ACCENT = 96;
    var CHAR_LEFT_CURLY_BRACKET = 123;
    var CHAR_VERTICAL_LINE = 124;
    var CHAR_RIGHT_CURLY_BRACKET = 125;
    var ESCAPE_SEQUENCES = {};
    ESCAPE_SEQUENCES[0] = "\\0";
    ESCAPE_SEQUENCES[7] = "\\a";
    ESCAPE_SEQUENCES[8] = "\\b";
    ESCAPE_SEQUENCES[9] = "\\t";
    ESCAPE_SEQUENCES[10] = "\\n";
    ESCAPE_SEQUENCES[11] = "\\v";
    ESCAPE_SEQUENCES[12] = "\\f";
    ESCAPE_SEQUENCES[13] = "\\r";
    ESCAPE_SEQUENCES[27] = "\\e";
    ESCAPE_SEQUENCES[34] = '\\"';
    ESCAPE_SEQUENCES[92] = "\\\\";
    ESCAPE_SEQUENCES[133] = "\\N";
    ESCAPE_SEQUENCES[160] = "\\_";
    ESCAPE_SEQUENCES[8232] = "\\L";
    ESCAPE_SEQUENCES[8233] = "\\P";
    var DEPRECATED_BOOLEANS_SYNTAX = [
      "y",
      "Y",
      "yes",
      "Yes",
      "YES",
      "on",
      "On",
      "ON",
      "n",
      "N",
      "no",
      "No",
      "NO",
      "off",
      "Off",
      "OFF"
    ];
    var DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;
    function compileStyleMap(schema, map) {
      var result, keys, index, length, tag, style, type;
      if (map === null)
        return {};
      result = {};
      keys = Object.keys(map);
      for (index = 0, length = keys.length; index < length; index += 1) {
        tag = keys[index];
        style = String(map[tag]);
        if (tag.slice(0, 2) === "!!") {
          tag = "tag:yaml.org,2002:" + tag.slice(2);
        }
        type = schema.compiledTypeMap["fallback"][tag];
        if (type && _hasOwnProperty.call(type.styleAliases, style)) {
          style = type.styleAliases[style];
        }
        result[tag] = style;
      }
      return result;
    }
    function encodeHex(character) {
      var string, handle, length;
      string = character.toString(16).toUpperCase();
      if (character <= 255) {
        handle = "x";
        length = 2;
      } else if (character <= 65535) {
        handle = "u";
        length = 4;
      } else if (character <= 4294967295) {
        handle = "U";
        length = 8;
      } else {
        throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");
      }
      return "\\" + handle + common.repeat("0", length - string.length) + string;
    }
    var QUOTING_TYPE_SINGLE = 1;
    var QUOTING_TYPE_DOUBLE = 2;
    function State(options) {
      this.schema = options["schema"] || DEFAULT_SCHEMA;
      this.indent = Math.max(1, options["indent"] || 2);
      this.noArrayIndent = options["noArrayIndent"] || false;
      this.skipInvalid = options["skipInvalid"] || false;
      this.flowLevel = common.isNothing(options["flowLevel"]) ? -1 : options["flowLevel"];
      this.styleMap = compileStyleMap(this.schema, options["styles"] || null);
      this.sortKeys = options["sortKeys"] || false;
      this.lineWidth = options["lineWidth"] || 80;
      this.noRefs = options["noRefs"] || false;
      this.noCompatMode = options["noCompatMode"] || false;
      this.condenseFlow = options["condenseFlow"] || false;
      this.quotingType = options["quotingType"] === '"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;
      this.forceQuotes = options["forceQuotes"] || false;
      this.replacer = typeof options["replacer"] === "function" ? options["replacer"] : null;
      this.implicitTypes = this.schema.compiledImplicit;
      this.explicitTypes = this.schema.compiledExplicit;
      this.tag = null;
      this.result = "";
      this.duplicates = [];
      this.usedDuplicates = null;
    }
    function indentString(string, spaces) {
      var ind = common.repeat(" ", spaces), position = 0, next = -1, result = "", line, length = string.length;
      while (position < length) {
        next = string.indexOf("\n", position);
        if (next === -1) {
          line = string.slice(position);
          position = length;
        } else {
          line = string.slice(position, next + 1);
          position = next + 1;
        }
        if (line.length && line !== "\n")
          result += ind;
        result += line;
      }
      return result;
    }
    function generateNextLine(state, level) {
      return "\n" + common.repeat(" ", state.indent * level);
    }
    function testImplicitResolving(state, str) {
      var index, length, type;
      for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {
        type = state.implicitTypes[index];
        if (type.resolve(str)) {
          return true;
        }
      }
      return false;
    }
    function isWhitespace(c) {
      return c === CHAR_SPACE || c === CHAR_TAB;
    }
    function isPrintable(c) {
      return 32 <= c && c <= 126 || 161 <= c && c <= 55295 && c !== 8232 && c !== 8233 || 57344 <= c && c <= 65533 && c !== CHAR_BOM || 65536 <= c && c <= 1114111;
    }
    function isNsCharOrWhitespace(c) {
      return isPrintable(c) && c !== CHAR_BOM && c !== CHAR_CARRIAGE_RETURN && c !== CHAR_LINE_FEED;
    }
    function isPlainSafe(c, prev, inblock) {
      var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);
      var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);
      return (
        // ns-plain-safe
        (inblock ? (
          // c = flow-in
          cIsNsCharOrWhitespace
        ) : cIsNsCharOrWhitespace && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET) && c !== CHAR_SHARP && !(prev === CHAR_COLON && !cIsNsChar) || isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP || prev === CHAR_COLON && cIsNsChar
      );
    }
    function isPlainSafeFirst(c) {
      return isPrintable(c) && c !== CHAR_BOM && !isWhitespace(c) && c !== CHAR_MINUS && c !== CHAR_QUESTION && c !== CHAR_COLON && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET && c !== CHAR_SHARP && c !== CHAR_AMPERSAND && c !== CHAR_ASTERISK && c !== CHAR_EXCLAMATION && c !== CHAR_VERTICAL_LINE && c !== CHAR_EQUALS && c !== CHAR_GREATER_THAN && c !== CHAR_SINGLE_QUOTE && c !== CHAR_DOUBLE_QUOTE && c !== CHAR_PERCENT && c !== CHAR_COMMERCIAL_AT && c !== CHAR_GRAVE_ACCENT;
    }
    function isPlainSafeLast(c) {
      return !isWhitespace(c) && c !== CHAR_COLON;
    }
    function codePointAt(string, pos) {
      var first = string.charCodeAt(pos), second;
      if (first >= 55296 && first <= 56319 && pos + 1 < string.length) {
        second = string.charCodeAt(pos + 1);
        if (second >= 56320 && second <= 57343) {
          return (first - 55296) * 1024 + second - 56320 + 65536;
        }
      }
      return first;
    }
    function needIndentIndicator(string) {
      var leadingSpaceRe = /^\n* /;
      return leadingSpaceRe.test(string);
    }
    var STYLE_PLAIN = 1;
    var STYLE_SINGLE = 2;
    var STYLE_LITERAL = 3;
    var STYLE_FOLDED = 4;
    var STYLE_DOUBLE = 5;
    function chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType, quotingType, forceQuotes, inblock) {
      var i;
      var char = 0;
      var prevChar = null;
      var hasLineBreak = false;
      var hasFoldableLine = false;
      var shouldTrackWidth = lineWidth !== -1;
      var previousLineBreak = -1;
      var plain = isPlainSafeFirst(codePointAt(string, 0)) && isPlainSafeLast(codePointAt(string, string.length - 1));
      if (singleLineOnly || forceQuotes) {
        for (i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {
          char = codePointAt(string, i);
          if (!isPrintable(char)) {
            return STYLE_DOUBLE;
          }
          plain = plain && isPlainSafe(char, prevChar, inblock);
          prevChar = char;
        }
      } else {
        for (i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {
          char = codePointAt(string, i);
          if (char === CHAR_LINE_FEED) {
            hasLineBreak = true;
            if (shouldTrackWidth) {
              hasFoldableLine = hasFoldableLine || // Foldable line = too long, and not more-indented.
              i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== " ";
              previousLineBreak = i;
            }
          } else if (!isPrintable(char)) {
            return STYLE_DOUBLE;
          }
          plain = plain && isPlainSafe(char, prevChar, inblock);
          prevChar = char;
        }
        hasFoldableLine = hasFoldableLine || shouldTrackWidth && (i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== " ");
      }
      if (!hasLineBreak && !hasFoldableLine) {
        if (plain && !forceQuotes && !testAmbiguousType(string)) {
          return STYLE_PLAIN;
        }
        return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;
      }
      if (indentPerLevel > 9 && needIndentIndicator(string)) {
        return STYLE_DOUBLE;
      }
      if (!forceQuotes) {
        return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;
      }
      return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;
    }
    function writeScalar(state, string, level, iskey, inblock) {
      state.dump = function() {
        if (string.length === 0) {
          return state.quotingType === QUOTING_TYPE_DOUBLE ? '""' : "''";
        }
        if (!state.noCompatMode) {
          if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {
            return state.quotingType === QUOTING_TYPE_DOUBLE ? '"' + string + '"' : "'" + string + "'";
          }
        }
        var indent = state.indent * Math.max(1, level);
        var lineWidth = state.lineWidth === -1 ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);
        var singleLineOnly = iskey || state.flowLevel > -1 && level >= state.flowLevel;
        function testAmbiguity(string2) {
          return testImplicitResolving(state, string2);
        }
        switch (chooseScalarStyle(
          string,
          singleLineOnly,
          state.indent,
          lineWidth,
          testAmbiguity,
          state.quotingType,
          state.forceQuotes && !iskey,
          inblock
        )) {
          case STYLE_PLAIN:
            return string;
          case STYLE_SINGLE:
            return "'" + string.replace(/'/g, "''") + "'";
          case STYLE_LITERAL:
            return "|" + blockHeader(string, state.indent) + dropEndingNewline(indentString(string, indent));
          case STYLE_FOLDED:
            return ">" + blockHeader(string, state.indent) + dropEndingNewline(indentString(foldString(string, lineWidth), indent));
          case STYLE_DOUBLE:
            return '"' + escapeString(string, lineWidth) + '"';
          default:
            throw new YAMLException("impossible error: invalid scalar style");
        }
      }();
    }
    function blockHeader(string, indentPerLevel) {
      var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : "";
      var clip = string[string.length - 1] === "\n";
      var keep = clip && (string[string.length - 2] === "\n" || string === "\n");
      var chomp = keep ? "+" : clip ? "" : "-";
      return indentIndicator + chomp + "\n";
    }
    function dropEndingNewline(string) {
      return string[string.length - 1] === "\n" ? string.slice(0, -1) : string;
    }
    function foldString(string, width) {
      var lineRe = /(\n+)([^\n]*)/g;
      var result = function() {
        var nextLF = string.indexOf("\n");
        nextLF = nextLF !== -1 ? nextLF : string.length;
        lineRe.lastIndex = nextLF;
        return foldLine(string.slice(0, nextLF), width);
      }();
      var prevMoreIndented = string[0] === "\n" || string[0] === " ";
      var moreIndented;
      var match;
      while (match = lineRe.exec(string)) {
        var prefix = match[1], line = match[2];
        moreIndented = line[0] === " ";
        result += prefix + (!prevMoreIndented && !moreIndented && line !== "" ? "\n" : "") + foldLine(line, width);
        prevMoreIndented = moreIndented;
      }
      return result;
    }
    function foldLine(line, width) {
      if (line === "" || line[0] === " ")
        return line;
      var breakRe = / [^ ]/g;
      var match;
      var start = 0, end, curr = 0, next = 0;
      var result = "";
      while (match = breakRe.exec(line)) {
        next = match.index;
        if (next - start > width) {
          end = curr > start ? curr : next;
          result += "\n" + line.slice(start, end);
          start = end + 1;
        }
        curr = next;
      }
      result += "\n";
      if (line.length - start > width && curr > start) {
        result += line.slice(start, curr) + "\n" + line.slice(curr + 1);
      } else {
        result += line.slice(start);
      }
      return result.slice(1);
    }
    function escapeString(string) {
      var result = "";
      var char = 0;
      var escapeSeq;
      for (var i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {
        char = codePointAt(string, i);
        escapeSeq = ESCAPE_SEQUENCES[char];
        if (!escapeSeq && isPrintable(char)) {
          result += string[i];
          if (char >= 65536)
            result += string[i + 1];
        } else {
          result += escapeSeq || encodeHex(char);
        }
      }
      return result;
    }
    function writeFlowSequence(state, level, object) {
      var _result = "", _tag = state.tag, index, length, value;
      for (index = 0, length = object.length; index < length; index += 1) {
        value = object[index];
        if (state.replacer) {
          value = state.replacer.call(object, String(index), value);
        }
        if (writeNode(state, level, value, false, false) || typeof value === "undefined" && writeNode(state, level, null, false, false)) {
          if (_result !== "")
            _result += "," + (!state.condenseFlow ? " " : "");
          _result += state.dump;
        }
      }
      state.tag = _tag;
      state.dump = "[" + _result + "]";
    }
    function writeBlockSequence(state, level, object, compact) {
      var _result = "", _tag = state.tag, index, length, value;
      for (index = 0, length = object.length; index < length; index += 1) {
        value = object[index];
        if (state.replacer) {
          value = state.replacer.call(object, String(index), value);
        }
        if (writeNode(state, level + 1, value, true, true, false, true) || typeof value === "undefined" && writeNode(state, level + 1, null, true, true, false, true)) {
          if (!compact || _result !== "") {
            _result += generateNextLine(state, level);
          }
          if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
            _result += "-";
          } else {
            _result += "- ";
          }
          _result += state.dump;
        }
      }
      state.tag = _tag;
      state.dump = _result || "[]";
    }
    function writeFlowMapping(state, level, object) {
      var _result = "", _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, pairBuffer;
      for (index = 0, length = objectKeyList.length; index < length; index += 1) {
        pairBuffer = "";
        if (_result !== "")
          pairBuffer += ", ";
        if (state.condenseFlow)
          pairBuffer += '"';
        objectKey = objectKeyList[index];
        objectValue = object[objectKey];
        if (state.replacer) {
          objectValue = state.replacer.call(object, objectKey, objectValue);
        }
        if (!writeNode(state, level, objectKey, false, false)) {
          continue;
        }
        if (state.dump.length > 1024)
          pairBuffer += "? ";
        pairBuffer += state.dump + (state.condenseFlow ? '"' : "") + ":" + (state.condenseFlow ? "" : " ");
        if (!writeNode(state, level, objectValue, false, false)) {
          continue;
        }
        pairBuffer += state.dump;
        _result += pairBuffer;
      }
      state.tag = _tag;
      state.dump = "{" + _result + "}";
    }
    function writeBlockMapping(state, level, object, compact) {
      var _result = "", _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, explicitPair, pairBuffer;
      if (state.sortKeys === true) {
        objectKeyList.sort();
      } else if (typeof state.sortKeys === "function") {
        objectKeyList.sort(state.sortKeys);
      } else if (state.sortKeys) {
        throw new YAMLException("sortKeys must be a boolean or a function");
      }
      for (index = 0, length = objectKeyList.length; index < length; index += 1) {
        pairBuffer = "";
        if (!compact || _result !== "") {
          pairBuffer += generateNextLine(state, level);
        }
        objectKey = objectKeyList[index];
        objectValue = object[objectKey];
        if (state.replacer) {
          objectValue = state.replacer.call(object, objectKey, objectValue);
        }
        if (!writeNode(state, level + 1, objectKey, true, true, true)) {
          continue;
        }
        explicitPair = state.tag !== null && state.tag !== "?" || state.dump && state.dump.length > 1024;
        if (explicitPair) {
          if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
            pairBuffer += "?";
          } else {
            pairBuffer += "? ";
          }
        }
        pairBuffer += state.dump;
        if (explicitPair) {
          pairBuffer += generateNextLine(state, level);
        }
        if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {
          continue;
        }
        if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
          pairBuffer += ":";
        } else {
          pairBuffer += ": ";
        }
        pairBuffer += state.dump;
        _result += pairBuffer;
      }
      state.tag = _tag;
      state.dump = _result || "{}";
    }
    function detectType(state, object, explicit) {
      var _result, typeList, index, length, type, style;
      typeList = explicit ? state.explicitTypes : state.implicitTypes;
      for (index = 0, length = typeList.length; index < length; index += 1) {
        type = typeList[index];
        if ((type.instanceOf || type.predicate) && (!type.instanceOf || typeof object === "object" && object instanceof type.instanceOf) && (!type.predicate || type.predicate(object))) {
          if (explicit) {
            if (type.multi && type.representName) {
              state.tag = type.representName(object);
            } else {
              state.tag = type.tag;
            }
          } else {
            state.tag = "?";
          }
          if (type.represent) {
            style = state.styleMap[type.tag] || type.defaultStyle;
            if (_toString.call(type.represent) === "[object Function]") {
              _result = type.represent(object, style);
            } else if (_hasOwnProperty.call(type.represent, style)) {
              _result = type.represent[style](object, style);
            } else {
              throw new YAMLException("!<" + type.tag + '> tag resolver accepts not "' + style + '" style');
            }
            state.dump = _result;
          }
          return true;
        }
      }
      return false;
    }
    function writeNode(state, level, object, block, compact, iskey, isblockseq) {
      state.tag = null;
      state.dump = object;
      if (!detectType(state, object, false)) {
        detectType(state, object, true);
      }
      var type = _toString.call(state.dump);
      var inblock = block;
      var tagStr;
      if (block) {
        block = state.flowLevel < 0 || state.flowLevel > level;
      }
      var objectOrArray = type === "[object Object]" || type === "[object Array]", duplicateIndex, duplicate;
      if (objectOrArray) {
        duplicateIndex = state.duplicates.indexOf(object);
        duplicate = duplicateIndex !== -1;
      }
      if (state.tag !== null && state.tag !== "?" || duplicate || state.indent !== 2 && level > 0) {
        compact = false;
      }
      if (duplicate && state.usedDuplicates[duplicateIndex]) {
        state.dump = "*ref_" + duplicateIndex;
      } else {
        if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {
          state.usedDuplicates[duplicateIndex] = true;
        }
        if (type === "[object Object]") {
          if (block && Object.keys(state.dump).length !== 0) {
            writeBlockMapping(state, level, state.dump, compact);
            if (duplicate) {
              state.dump = "&ref_" + duplicateIndex + state.dump;
            }
          } else {
            writeFlowMapping(state, level, state.dump);
            if (duplicate) {
              state.dump = "&ref_" + duplicateIndex + " " + state.dump;
            }
          }
        } else if (type === "[object Array]") {
          if (block && state.dump.length !== 0) {
            if (state.noArrayIndent && !isblockseq && level > 0) {
              writeBlockSequence(state, level - 1, state.dump, compact);
            } else {
              writeBlockSequence(state, level, state.dump, compact);
            }
            if (duplicate) {
              state.dump = "&ref_" + duplicateIndex + state.dump;
            }
          } else {
            writeFlowSequence(state, level, state.dump);
            if (duplicate) {
              state.dump = "&ref_" + duplicateIndex + " " + state.dump;
            }
          }
        } else if (type === "[object String]") {
          if (state.tag !== "?") {
            writeScalar(state, state.dump, level, iskey, inblock);
          }
        } else if (type === "[object Undefined]") {
          return false;
        } else {
          if (state.skipInvalid)
            return false;
          throw new YAMLException("unacceptable kind of an object to dump " + type);
        }
        if (state.tag !== null && state.tag !== "?") {
          tagStr = encodeURI(
            state.tag[0] === "!" ? state.tag.slice(1) : state.tag
          ).replace(/!/g, "%21");
          if (state.tag[0] === "!") {
            tagStr = "!" + tagStr;
          } else if (tagStr.slice(0, 18) === "tag:yaml.org,2002:") {
            tagStr = "!!" + tagStr.slice(18);
          } else {
            tagStr = "!<" + tagStr + ">";
          }
          state.dump = tagStr + " " + state.dump;
        }
      }
      return true;
    }
    function getDuplicateReferences(object, state) {
      var objects = [], duplicatesIndexes = [], index, length;
      inspectNode(object, objects, duplicatesIndexes);
      for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {
        state.duplicates.push(objects[duplicatesIndexes[index]]);
      }
      state.usedDuplicates = new Array(length);
    }
    function inspectNode(object, objects, duplicatesIndexes) {
      var objectKeyList, index, length;
      if (object !== null && typeof object === "object") {
        index = objects.indexOf(object);
        if (index !== -1) {
          if (duplicatesIndexes.indexOf(index) === -1) {
            duplicatesIndexes.push(index);
          }
        } else {
          objects.push(object);
          if (Array.isArray(object)) {
            for (index = 0, length = object.length; index < length; index += 1) {
              inspectNode(object[index], objects, duplicatesIndexes);
            }
          } else {
            objectKeyList = Object.keys(object);
            for (index = 0, length = objectKeyList.length; index < length; index += 1) {
              inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);
            }
          }
        }
      }
    }
    function dump(input, options) {
      options = options || {};
      var state = new State(options);
      if (!state.noRefs)
        getDuplicateReferences(input, state);
      var value = input;
      if (state.replacer) {
        value = state.replacer.call({ "": value }, "", value);
      }
      if (writeNode(state, 0, value, true, true))
        return state.dump + "\n";
      return "";
    }
    module2.exports.dump = dump;
  }
});

// node_modules/js-yaml/index.js
var require_js_yaml = __commonJS({
  "node_modules/js-yaml/index.js"(exports, module2) {
    "use strict";
    var loader = require_loader();
    var dumper = require_dumper();
    function renamed(from, to) {
      return function() {
        throw new Error("Function yaml." + from + " is removed in js-yaml 4. Use yaml." + to + " instead, which is now safe by default.");
      };
    }
    module2.exports.Type = require_type();
    module2.exports.Schema = require_schema();
    module2.exports.FAILSAFE_SCHEMA = require_failsafe();
    module2.exports.JSON_SCHEMA = require_json();
    module2.exports.CORE_SCHEMA = require_core();
    module2.exports.DEFAULT_SCHEMA = require_default();
    module2.exports.load = loader.load;
    module2.exports.loadAll = loader.loadAll;
    module2.exports.dump = dumper.dump;
    module2.exports.YAMLException = require_exception();
    module2.exports.types = {
      binary: require_binary(),
      float: require_float(),
      map: require_map(),
      null: require_null(),
      pairs: require_pairs(),
      set: require_set(),
      timestamp: require_timestamp(),
      bool: require_bool(),
      int: require_int(),
      merge: require_merge(),
      omap: require_omap(),
      seq: require_seq(),
      str: require_str()
    };
    module2.exports.safeLoad = renamed("safeLoad", "load");
    module2.exports.safeLoadAll = renamed("safeLoadAll", "loadAll");
    module2.exports.safeDump = renamed("safeDump", "dump");
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteChainPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian12 = require("obsidian");

// src/NCEditor.ts
var import_obsidian = require("obsidian");
var NCEditor = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = this.plugin.app;
    this.nretry = 1;
  }
  async set_frontmatter(tfile, key, value, nretry = this.nretry) {
    let kv = {};
    kv[key] = value;
    let flag = await this.set_multi_frontmatter(tfile, kv, nretry);
    return flag;
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  _set_(data, key, value) {
    let items = key.trim().split(".");
    if (!items) {
      return;
    }
    let curr = data;
    for (let item of items.slice(0, items.length - 1)) {
      let kv2 = item.match(/^(.*?)(\[-?\d+\])?$/);
      if (!kv2) {
        return;
      }
      let k2 = kv2[1];
      if (kv2[2]) {
        let i = parseInt(kv2[2].slice(1, kv2[2].length - 1));
        if (!(k2 in curr)) {
          curr[k2] = [{}];
          curr = curr[k2][0];
        } else {
          if (Array.isArray(curr[k2])) {
            let tmp = {};
            if (i < 0) {
              curr[k2].splice(-i - 1, 0, tmp);
            } else if (i < curr[k2].length) {
              curr[k2][i] = tmp;
            } else {
              curr[k2].push(tmp);
            }
            curr = tmp;
          } else {
            curr[k2] = [{}];
            curr = curr[k2][0];
          }
        }
      } else {
        if (!(k2 in curr)) {
          curr[k2] = {};
          curr = curr[k2];
        } else {
          if (typeof curr[k2] != "object") {
            curr[k2] = {};
            curr = curr[k2];
          } else {
            curr = curr[k2];
          }
        }
      }
    }
    let kv = items[items.length - 1].match(/^(.*?)(\[-?\d+\])?$/);
    if (!kv) {
      return;
    }
    let k = kv[1];
    if (kv[2]) {
      let i = parseInt(kv[2].slice(1, kv[2].length - 1));
      if (k in curr) {
        if (Array.isArray(curr[k])) {
          if (i < 0) {
            curr[k].splice(-i - 1, 0, value);
          } else if (i < curr[k].length) {
            curr[k][i] = value;
          } else {
            curr[k].push(value);
          }
        } else {
          curr[k] = value;
        }
      } else {
        curr[k] = [value];
      }
    } else {
      curr[k] = value;
    }
  }
  async set_multi_frontmatter(tfile, kv, nretry = this.nretry) {
    if (Array.isArray(tfile)) {
      for (let item of tfile) {
        this.set_multi_frontmatter(item, kv, nretry);
      }
      return true;
    }
    if (typeof tfile == "string") {
      tfile = this.plugin.chain.get_tfile(tfile);
    }
    if (!tfile || !(tfile instanceof import_obsidian.TFile)) {
      return false;
    }
    let flag = false;
    if (nretry > 1) {
      flag = this.check_frontmatter(tfile, kv);
    }
    while (!flag && nretry > 0) {
      await this.app.fileManager.processFrontMatter(tfile, (fm) => {
        for (let k in kv) {
          this._set_(fm, k, kv[k]);
        }
      });
      await sleep(100);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  get_frontmatter(tfile, key) {
    try {
      if (!tfile) {
        return null;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        if (meta.frontmatter[key]) {
          return meta.frontmatter[key];
        }
        let keys = key.split(".");
        let cfm = meta.frontmatter;
        for (let k of keys) {
          let items = k.match(/^(.*?)(\[-?\d+\])?$/);
          if (!items) {
            return null;
          }
          if (items[1]) {
            cfm = cfm[items[1]];
          }
          if (!cfm) {
            return null;
          }
          if (Array.isArray(cfm) && items[2]) {
            let i = parseInt(items[2].slice(1, items[2].length - 1));
            if (i < 0) {
              i = i + cfm.length;
            }
            cfm = cfm[i];
          }
        }
        return cfm;
      }
    } catch (error) {
      return null;
    }
  }
  get_vault_name() {
    let items = this.plugin.app.vault.adapter.basePath.split("\\");
    items = items[items.length - 1].split("/");
    return items[items.length - 1];
  }
  get_frontmatter_config(tfile, key) {
    if (tfile instanceof import_obsidian.TFile) {
      if (tfile.extension == "md") {
        let config = this.get_frontmatter(tfile, key);
        if (config) {
          return config;
        }
      } else {
        let file = this.plugin.chain.get_tfile(
          tfile.path.slice(0, tfile.path.length - tfile.extension.length) + "md"
        );
        if (file) {
          let config = this.get_frontmatter(file, key);
          if (config) {
            return config;
          }
        }
      }
    } else {
      let file = this.plugin.chain.get_tfile(tfile.path + "/" + tfile.name + ".md");
      if (file) {
        let config = this.get_frontmatter(file, key);
        if (config) {
          return config;
        }
      }
    }
    let dir = tfile.parent;
    while (dir) {
      let cfile;
      if (dir.parent) {
        cfile = this.plugin.chain.get_tfile(
          dir.path + "/" + dir.name + ".md"
        );
      } else {
        cfile = this.plugin.chain.get_tfile(
          this.get_vault_name()
        );
      }
      let config = this.get_frontmatter(cfile, key);
      if (config) {
        return config;
      }
      dir = dir.parent;
    }
    return null;
  }
  regexp_link(tfile, mode) {
    if (mode === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  async replace(tfile, regex, target) {
    if (typeof regex === "string") {
      await this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      await this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
  async remove_metadata(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      tfile = tfile.slice(match[0].length).trim();
    }
    return tfile;
  }
  async extract_code_block(tfile, btype) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let reg = new RegExp(`\`\`\`${btype}\\n([\\s\\S]*?)
\`\`\``, "g");
    ;
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[1].trim());
    }
    return cssCodeBlocks;
  }
  async extract_templater_block(tfile, reg = /<%\*\s*([\s\S]*?)\s*-?%>/g) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[0].trim());
    }
    let tpls = await this.extract_code_block(tfile, "js //templater");
    for (let tpl of tpls) {
      cssCodeBlocks.push(`<%*
${tpl}
-%>`);
    }
    return cssCodeBlocks;
  }
  async extract_yaml_block(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      return match[0];
    }
    return "";
  }
  _extract_block_id_(para) {
    let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
    let match = reg.exec(para);
    if (match) {
      return match[0].trim();
    } else {
      return "";
    }
  }
  _generate_random_string_(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let result = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      result += characters[randomIndex];
    }
    return result;
  }
  async extract_all_blocks(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let ctx = tfile;
    let blocks = [];
    let head = await this.plugin.editor.extract_yaml_block(ctx);
    if (head != "") {
      blocks.push(["YAML", head]);
      ctx = ctx.slice(head.length);
    }
    let kvgets = {
      "\u7A7A\u767D\u6BB5\u843D": /^(\s*\n)*/,
      "\u4EE3\u7801\u5757": /^[ \t]*```[\s\S]*?\n[ \t]*```[ \t]*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "tpl\u4EE3\u7801\u5757": /^<%\*[\s\S]*?\n-?\*?%>[ \t]*\n(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u4EFB\u52A1": /^[ \t]*- \[.\].*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u65E0\u5E8F\u5217\u8868": /^[ \t]*- .*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6709\u5E8F\u5217\u8868": /^[ \t]*\d\. .*\n?(\s+[ \t]*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u5F15\u7528": /^(>.*\n)+(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6807\u9898": /^#+ .*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6BB5\u843D": /^(.*\n?)(\s*\^[a-zA-Z0-9]+\r?[\n$])?/
    };
    while (ctx.length > 0) {
      let flag = true;
      for (let key of Object.keys(kvgets)) {
        let reg = kvgets[key];
        let match = reg.exec(ctx);
        if (match) {
          let curr = match[0];
          if (curr.length > 0) {
            let bid = this._extract_block_id_(curr);
            if (key == "\u6BB5\u843D" && blocks.length > 0 && blocks[blocks.length - 1][0] == "\u6BB5\u843D") {
              blocks[blocks.length - 1][1] = blocks[blocks.length - 1][1] + curr;
              blocks[blocks.length - 1][2] = bid;
            } else {
              blocks.push([key, curr, bid]);
            }
            flag = false;
            ctx = ctx.slice(curr.length);
            break;
          }
        }
      }
      if (flag) {
        break;
      }
    }
    if (ctx.length > 0) {
      let bid = this._extract_block_id_(ctx);
      blocks.push(["\u6BB5\u843D", ctx, bid]);
    }
    return blocks;
  }
  async append_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else if (!block[2]) {
        let bid = this._generate_random_string_(6);
        if (["\u4EFB\u52A1", "\u65E0\u5E8F\u5217\u8868", "\u6709\u5E8F\u5217\u8868"].contains(block[0])) {
          items.push(block[1].slice(0, -1) + " ^" + bid + "\n");
        } else {
          if (block[1].endsWith("\n")) {
            items.push(block[1] + "^" + bid + "\n");
          } else {
            items.push(block[1] + "\n^" + bid + "\n");
          }
        }
      } else {
        items.push(block[1]);
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async remove_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else {
        let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
        let match = reg.exec(block[1]);
        if (match) {
          items.push(block[1].replace(reg, "\n"));
        } else {
          items.push(block[1]);
        }
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async get_current_section() {
    var _a, _b;
    let view = this.app.workspace.getActiveFileView();
    let editor = view.editor;
    let tfile = view.file;
    if (!view || !editor || !tfile) {
      return null;
    }
    let cursor = editor.getCursor();
    let cache = this.app.metadataCache.getFileCache(tfile);
    if (!cache) {
      return;
    }
    if (!cursor) {
      let ctx = await this.app.vault.cachedRead(tfile);
      let items = (_a = cache == null ? void 0 : cache.sections) == null ? void 0 : _a.map(
        (section2) => ctx.slice(section2.position.start.offset, section2.position.end.offset)
      );
      if (!items) {
        return null;
      }
      let section = await this.plugin.dialog_suggest(items, cache.sections);
      return section;
    } else {
      let sections = (_b = cache == null ? void 0 : cache.sections) == null ? void 0 : _b.filter(
        (x) => {
          return x.position.start.line <= cursor.line && x.position.end.line >= cursor.line;
        }
      )[0];
      return sections;
    }
  }
  async set_frontmatter_align_file(src, dst, field) {
    if (field) {
      let value = this.get_frontmatter(src, field);
      if (value) {
        await this.set_frontmatter(dst, field, value, 1);
      }
    }
  }
};

// src/NoteChain.ts
var import_obsidian4 = require("obsidian");
init_utils();

// src/NCModal.ts
var import_obsidian3 = require("obsidian");
var NoteContentModal = class extends import_obsidian3.Modal {
  constructor(app, content, plugin) {
    super(app);
    this.content = content;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.modalEl.style.display = "flex";
    this.modalEl.style.overflow = "auto";
    const container = contentEl.createDiv({ cls: "note-content-container" });
    container.addClass("markdown-rendered");
    container.style.display = "table-cell";
    container.style.verticalAlign = "middle";
    container.style.padding = "20px";
    const component = new import_obsidian3.Component();
    import_obsidian3.MarkdownRenderer.render(this.app, this.content, container, "", component);
    this.addClickListener(container);
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  addClickListener(container) {
    container.addEventListener("click", (event) => {
      let target = event.target;
      if (target.tagName === "A" && target.hasClass("internal-link")) {
        event.preventDefault();
        let href = target.getAttribute("href");
        if (href) {
          this.openNoteInMainView(href);
        }
      }
    });
  }
  async openNoteInMainView(linkText) {
    try {
      await this.app.workspace.openLinkText(linkText, "", false, { active: true });
      this.close();
    } catch (error) {
      new import_obsidian3.Notice(`Error opening note: ${error.message}`);
    }
  }
};
var NoteEditorModal = class extends import_obsidian3.Modal {
  // 
  constructor(app, filePath, isEditMode = false) {
    super(app);
    this.filePath = filePath;
    this.isEditMode = isEditMode;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    if (this.isEditMode) {
      let file = this.app.vault.getAbstractFileByPath(this.filePath);
      if (file) {
        const leaf = this.app.workspace.getLeaf(true);
        await leaf.openFile(file, { state: { mode: "source" } });
        this.close();
      } else {
        new import_obsidian3.Notice(`File not found: ${this.filePath}`);
      }
    } else {
      new import_obsidian3.Notice("Not in edit mode.");
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/NoteChain.ts
var NoteChain = class {
  constructor(plugin, editor, prev = "PrevNote", next = "NextNote") {
    this.plugin = plugin;
    this.app = plugin.app;
    if (editor) {
      this.editor = editor;
    } else {
      this.editor = new NCEditor(plugin);
    }
    this.NoteEditorModal = NoteEditorModal;
    this.prev = prev;
    this.next = next;
    this.init_children();
  }
  async open_note_in_modal(notePath) {
    try {
      let file = this.get_tfile(notePath);
      if (file instanceof import_obsidian4.TFile) {
        let content = await this.app.vault.read(file);
        let modal = new NoteContentModal(this.app, content, this.plugin);
        modal.open();
        return modal;
      } else {
        let modal = new NoteContentModal(this.app, notePath, this.plugin);
        modal.open();
        return modal;
      }
    } catch (error) {
      new import_obsidian4.Notice(`Error opening note in modal: ${error.message}`);
    }
  }
  init_children() {
    var _a;
    this.children = {};
    for (let f of this.get_all_folders()) {
      let tfiles = f.children;
      if ((_a = this.plugin.explorer) == null ? void 0 : _a.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[f.path] = this.sort_tfiles_by_chain(tfiles);
    }
  }
  refresh_folder(tfolder) {
    if (tfolder == null ? void 0 : tfolder.children) {
      let tfiles = tfolder.children;
      if (this.plugin.explorer.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[tfolder.path] = this.sort_tfiles_by_chain(
        tfiles
      );
    }
  }
  refresh_tfile(tfile) {
    var _a;
    if ((_a = tfile.parent) == null ? void 0 : _a.children) {
      this.refresh_folder(tfile.parent);
    }
  }
  get tp_find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get tp_suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get tp_prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  get_all_folders() {
    let folders = this.app.vault.getAllFolders();
    let folder = this.app.vault.getFolderByPath("/");
    if (folder && !folders.contains(folder)) {
      folders.push(folder);
    }
    return folders;
  }
  get_all_tfiles(sort_mode = "") {
    let files = this.app.vault.getMarkdownFiles();
    if (!(sort_mode === "")) {
      this.sort_tfiles(files, sort_mode = sort_mode);
    }
    return files;
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async cmd_move_file_to_another_folder(tfile = this.current_note) {
    if (tfile == null) {
      return;
    }
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.plugin.dialog_suggest(
        this.plugin.utils.array_prefix_id(
          folders.map((f) => f.path)
        ),
        folders
      );
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await this.app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.userIgnoreFilters) {
      for (let x of this.app.vault.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note(notes = null, slice = 0) {
    if (notes == null) {
      notes = this.sort_tfiles(
        this.app.vault.getFiles(),
        ["mtime", "x"]
      ).filter((f) => this.filter_user_ignore(f));
    }
    try {
      let msg = this.plugin.utils.array_prefix_id(notes.map((f) => f.path.slice(slice)));
      let note = await this.plugin.dialog_suggest(msg, notes);
      return note;
    } catch (error) {
      return null;
    }
  }
  open_note(tfile, new_tab = false, revealFolder = false, collapse = true) {
    if (tfile) {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
      if (new_tab || !view || !view.leaf) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else if (view.leaf.pinned) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        view.leaf.openFile(tfile);
      }
      if (revealFolder) {
        if (collapse) {
          this.plugin.explorer.file_explorer.tree.setCollapseAll(true);
        }
        this.plugin.explorer.file_explorer.revealInFolder(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path, only_first = true) {
    try {
      path = path.split("|")[0].replace("[[", "").replace("]]", "");
      let tfile = this.app.vault.getFileByPath(path);
      if (tfile) {
        return tfile;
      }
      let tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase());
      if (!tfiles) {
        tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase() + ".md");
        if (!tfiles) {
          return null;
        } else {
          path = path + ".md";
        }
      }
      let ctfiles = tfiles.filter((x) => x.name == path);
      if (ctfiles.length > 0) {
        if (only_first) {
          return ctfiles[0];
        } else {
          return ctfiles;
        }
      }
      if (tfiles.length > 0) {
        if (only_first) {
          return tfiles[0];
        } else {
          return tfiles;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  }
  get_tags(tfile = this.current_note) {
    var _a;
    if (!tfile) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    let tags = [];
    if (mcache == null ? void 0 : mcache.tags) {
      for (let curr of mcache.tags) {
        if (!tags.contains(curr.tag)) {
          tags.push(curr.tag);
        }
      }
    }
    if ((_a = mcache == null ? void 0 : mcache.frontmatter) == null ? void 0 : _a.tags) {
      if (Array.isArray(mcache.frontmatter.tags)) {
        for (let curr of mcache.frontmatter.tags) {
          let tag = "#" + curr;
          if (!tags.contains(tag)) {
            tags.push(tag);
          }
        }
      } else if (typeof mcache.frontmatter.tags === "string") {
        let tag = `#` + mcache.frontmatter.tags;
        if (!tags.contains(tag)) {
          tags.push(tag);
        }
      }
    }
    return tags;
  }
  get_recent_tfiles(only_md = true) {
    var _a;
    let recent = this.app.plugins.getPlugin("recent-files-obsidian");
    if (recent) {
      let files = recent.data.recentFiles.map(
        (x) => this.get_tfile(x.path)
      ).filter((x) => x);
      return files;
    } else {
      let recent2 = [];
      let files = (_a = this.app.workspace.recentFileTracker) == null ? void 0 : _a.lastOpenFiles;
      if (files && files.length > 0) {
        recent2 = files.map((x) => this.get_tfile(x)).filter((x) => x);
      }
      let tfile = this.app.workspace.getActiveFile();
      if (tfile) {
        recent2.unshift(tfile);
      }
      if (only_md) {
        recent2 = recent2.filter((x) => x.extension == "md");
      }
      return recent2;
    }
  }
  get_last_daily_note(recent_first = true) {
    let pattern = /^\d{4}-\d{2}-\d{2}$/;
    if (recent_first) {
      let recent = this.get_recent_tfiles();
      for (let tfile of recent) {
        if (tfile.basename.match(pattern)) {
          return tfile;
        }
      }
    }
    let t = (0, import_obsidian4.moment)();
    for (let i = 0; i < 20; i++) {
      let xt = t.clone().add(-i, "days");
      let fname = xt.format("YYYY-MM-DD");
      let tfile = this.get_tfile(fname);
      if (tfile) {
        return tfile;
      }
    }
    let files = this.app.vault.getMarkdownFiles().filter(
      (x) => x.basename.match(pattern)
    );
    files = this.sort_tfiles(files, "name");
    if (files.length > 0) {
      return files[files.length - 1];
    }
    return null;
  }
  get_neighbor_leaf(offset = 1) {
    let app = this.plugin.app;
    let leaves = app.workspace.getLeavesOfType("markdown");
    let activeLeaf = app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
    if (activeLeaf) {
      let idx = leaves.map((x) => x.view == activeLeaf).indexOf(true);
      idx = idx + offset;
      if (idx < 0 || idx > leaves.length - 1) {
        return null;
      }
      return leaves[idx];
    }
  }
  get_last_activate_leaf(skip_conote = true) {
    let leaves = this.app.workspace.getLeavesOfType("markdown");
    leaves = leaves.filter((x) => x.getViewState().state.file);
    leaves = leaves.sort((a, b) => b.activeTime - a.activeTime);
    for (let leaf2 of leaves) {
      let file = leaf2.getViewState().state.file;
      if (skip_conote && this.get_tags(file).contains("#conote")) {
        continue;
      }
      return leaf2;
    }
    let leaf = null;
    for (let i of [1, -1, 0]) {
      leaf = this.plugin.chain.get_neighbor_leaf(i);
      if (leaf) {
        return leaf;
      }
    }
    return null;
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_selected_files(current_if_no_selected = true) {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map(
      (x) => this.get_tfile(x)
    ).filter(
      (x) => x.extension == "md"
    );
    if (tfiles.length > 0) {
      return tfiles;
    } else if (current_if_no_selected && this.current_note) {
      return [this.current_note];
    } else {
      return [];
    }
  }
  get_inlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let res = [];
    let inlinks = this.app.metadataCache.getBacklinksForFile(tfile);
    for (let [k, v] of inlinks.data) {
      let curr = this.app.vault.getFileByPath(k);
      if (curr) {
        res.push(curr);
      }
    }
    return res;
  }
  get_outlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (!mcache) {
      return [];
    }
    let res = [];
    if (mcache.links) {
      for (let link of mcache.links) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (mcache.frontmatterLinks) {
      for (let link of mcache.frontmatterLinks) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (!only_md && mcache.embeds) {
      for (let link of mcache.embeds) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2)) {
          res.push(tfile2);
        }
      }
    }
    return res;
  }
  get_links(tfile = this.current_note, only_md = true) {
    let inlinks = this.get_inlinks(tfile, only_md);
    let outlinks = this.get_outlinks(tfile, only_md);
    for (let link of inlinks) {
      if (!outlinks.contains(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_group_inlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_inlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_outlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_outlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_links(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_links(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_brothers(tfile = this.current_note) {
    if (tfile && tfile.parent) {
      return this.get_tfiles_of_folder(tfile.parent, false);
    } else {
      return [];
    }
  }
  get_uncles(tfile) {
    if (tfile && tfile.parent && tfile.parent.parent) {
      let folder = tfile.parent.parent;
      return folder.children.filter(
        (x) => x instanceof import_obsidian4.TFile
      );
    }
    return [];
  }
  get_tfiles_of_folder(tfolder, with_children = false) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c instanceof import_obsidian4.TFile && c.extension === "md") {
        notes.push(c);
      } else if (c instanceof import_obsidian4.TFolder && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  indexOfFolder(tfile, tfiles) {
    let fnote = this.get_tfile(tfile.name + ".md");
    if (!fnote) {
      return -1;
    }
    let msg = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNote"
    );
    if (!msg || typeof msg != "string") {
      return -1;
    }
    let anchor = this.get_tfile(msg);
    if (!anchor) {
      return -1;
    }
    let idx = tfiles.indexOf(anchor);
    let offset = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNoteOffset"
    );
    if (typeof offset == "string") {
      idx = idx + parseFloat(offset);
    } else {
      idx = idx + 0.5;
    }
    return idx;
  }
  tfile_to_string(tfile) {
    let curr = this.current_note;
    let msg = "";
    if (tfile.parent == (curr == null ? void 0 : curr.parent)) {
      msg = tfile.basename;
    } else {
      msg = tfile.path;
    }
    if (tfile == this.current_note) {
      return `\u{1F3E0} ${msg}`;
    } else {
      return msg;
    }
  }
  async suggester_notes(tfile = this.current_note, curr_first = false, smode = "") {
    if (tfile) {
      tfile == this.current_note;
    }
    let kv = [
      this.plugin.strings.item_get_brothers,
      this.plugin.strings.item_notechain,
      this.plugin.strings.item_uncle_notes,
      this.plugin.strings.item_same_folder,
      this.plugin.strings.item_inlinks_outlinks,
      this.plugin.strings.item_inlins,
      this.plugin.strings.item_outlinks,
      this.plugin.strings.item_all_noes,
      this.plugin.strings.item_recent
    ];
    if (curr_first) {
      kv.unshift(this.plugin.strings.item_currentnote);
    } else {
      kv.push(this.plugin.strings.item_currentnote);
    }
    let mode = "";
    if (kv.contains(smode)) {
      mode = smode;
    } else {
      mode = await this.plugin.dialog_suggest(this.plugin.utils.array_prefix_id(kv), kv);
    }
    if (mode === this.plugin.strings.item_currentnote) {
      return [tfile];
    } else if (mode === this.plugin.strings.item_get_brothers) {
      return this.get_brothers(tfile);
    } else if (mode === this.plugin.strings.item_same_folder) {
      if (tfile == null ? void 0 : tfile.parent) {
        return this.get_tfiles_of_folder(tfile.parent, true);
      }
    } else if (mode === this.plugin.strings.item_inlinks_outlinks) {
      return this.get_links(tfile);
    } else if (mode === this.plugin.strings.item_inlins) {
      return this.get_inlinks(tfile);
    } else if (mode === this.plugin.strings.item_outlinks) {
      return this.get_outlinks(tfile);
    } else if (mode === this.plugin.strings.item_all_noes) {
      return this.get_all_tfiles();
    } else if (mode === this.plugin.strings.item_recent) {
      return this.get_recent_tfiles();
    } else if (mode === this.plugin.strings.item_uncle_notes) {
      if (tfile) {
        return this.get_uncles(tfile);
      }
    } else if (mode === this.plugin.strings.item_notechain) {
      return this.get_chain(
        tfile,
        Number(this.plugin.settings.PrevChain),
        Number(this.plugin.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_prev_note(tfile = this.current_note) {
    if (!tfile) {
      return;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let next = this.editor.get_frontmatter(f, this.next);
        if (typeof next != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == next;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.prev);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  get_next_note(tfile = this.current_note) {
    if (!tfile) {
      return null;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      let prev = tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let prev2 = this.editor.get_frontmatter(f, this.prev);
        if (typeof prev2 != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == prev2;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.next);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let note = this.get_prev_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let note = this.get_next_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async chain_set_prev(tfile, prev) {
    if (tfile == null || tfile == prev) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile.basename}`;
    if (prev == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        `[[${prev.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_next(tfile, next) {
    if (tfile == null || tfile == next) {
      return;
    }
    if (this.get_next_note(tfile) == next) {
      return;
    }
    let msg = `Note Chain: \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    if (next == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        `[[${next.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_prev_next(tfile, prev, next) {
    if (tfile == null || prev == next || tfile == prev || tfile == next) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      await this.chain_set_next(tfile, next);
      return;
    }
    if (this.get_next_note(tfile) == next) {
      await this.chain_set_prev(tfile, prev);
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    let fm = {};
    fm[this.prev] = prev ? `[[${prev.basename}]]` : null;
    fm[this.next] = next ? `[[${next.basename}]]` : null;
    await this.plugin.editor.set_multi_frontmatter(tfile, fm);
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_link_prev_next(prev, next) {
    await this.chain_set_prev(next, prev);
    await this.chain_set_next(prev, next);
  }
  async chain_concat_tfiles(tfiles) {
    let prev = this.get_prev_note(tfiles[0]);
    if (tfiles.contains(prev)) {
      await this.chain_set_prev(tfiles[0], null);
    }
    let next = this.get_next_note(tfiles[tfiles.length - 1]);
    if (tfiles.contains(next)) {
      await this.chain_set_next(tfiles[tfiles.length - 1], null);
    }
    if (tfiles.length <= 1) {
      return;
    }
    let N = tfiles.length;
    await this.chain_set_next(tfiles[0], tfiles[1]);
    await this.chain_set_prev(tfiles[N - 1], tfiles[N - 2]);
    for (let i = 1; i < tfiles.length - 1; i++) {
      await this.chain_set_prev_next(tfiles[i], tfiles[i - 1], tfiles[i + 1]);
    }
  }
  async chain_pop_node(tfile) {
    let notes = this.get_neighbors(tfile);
    await this.chain_link_prev_next(notes[0], notes[1]);
  }
  async chain_insert_node_as_head(tfile, anchor) {
    let head = this.get_first_note(anchor);
    await this.chain_link_prev_next(tfile, head);
  }
  async chain_insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    await this.chain_link_prev_next(tail, tfile);
  }
  async chain_insert_node_after(tfile, anchor) {
    let anchor_next = this.get_next_note(anchor);
    if (anchor_next == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[1] == anchor) {
      await this.chain_concat_tfiles(
        [tfile_neighbor[0], anchor, tfile, anchor_next]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor, tfile, anchor_next]);
    }
  }
  async chain_insert_node_before(tfile, anchor) {
    let anchor_prev = this.get_prev_note(anchor);
    if (anchor_prev == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[0] == anchor) {
      await this.chain_concat_tfiles(
        [anchor_prev, tfile, anchor, tfile_neighbor[1]]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor_prev, tfile, anchor]);
    }
  }
  async chain_insert_folder_after(tfile, anchor) {
    if (!tfile.parent || tfile.parent.parent != anchor.parent) {
      return;
    }
    let note = this.get_tfile(tfile.parent.name);
    if (!note) {
      return;
    }
    await this.plugin.editor.set_multi_frontmatter(
      note,
      {
        "FolderPrevNote": `[[${anchor.basename}]]`,
        "FolderPrevNoteOffset": 0.5
      }
    );
  }
  async chain_suggester_tfiles(tfile = this.current_note, mode = "suggester") {
    let notes = this.get_brothers(tfile);
    if (notes.length == 0) {
      return;
    }
    let files = await this.suggester_sort(notes);
    await this.chain_concat_tfiles(files);
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name" || field === "alphabetical") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime" || field === "byModifiedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "ctime" || field === "byCreatedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "alphabeticalReverse") {
        return files.sort(
          (b, a) => a.name.localeCompare(b.name)
        );
      } else if (field === "byModifiedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "byCreatedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    let res = [];
    let ctfiles = [];
    while (notes.length > 0) {
      let note = notes[0];
      if (note instanceof import_obsidian4.TFile) {
        let xchain = this.get_chain(note, -1, -1);
        for (let x of xchain) {
          if (notes.contains(x)) {
            ctfiles.push(x);
            notes.remove(x);
          }
        }
      }
    }
    res.push(...ctfiles);
    let canvas = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension == "canvas");
    res = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension != "canvas");
    let folders = tfiles.filter((f) => f instanceof import_obsidian4.TFolder);
    if (folders.length > 0) {
      let indexOf = function(f) {
        if (f instanceof import_obsidian4.TFile) {
          return res.indexOf(f);
        } else if (f instanceof import_obsidian4.TFolder) {
          return idxs[folders.indexOf(f)];
        } else {
          return -1;
        }
      };
      let idxs = folders.map(
        (f) => this.indexOfFolder(f, ctfiles)
      );
      res.push(...folders);
      res = res.sort((a, b) => indexOf(a) - indexOf(b));
    }
    for (let tfile of canvas) {
      let rname = res.map((x) => x instanceof import_obsidian4.TFolder ? x.name : x.basename);
      let cname = tfile.basename;
      let idx = rname.indexOf(cname);
      if (idx < 0) {
        idx = rname.indexOf(cname.split(".").slice(0, -1).join("."));
      }
      if (idx < 0) {
        res.push(tfile);
      } else {
        res.splice(idx + 1, 0, tfile);
      }
    }
    return res;
  }
  sort_tfiles_folder_first(tfiles) {
    let A = tfiles.filter((f) => f instanceof import_obsidian4.TFolder).sort((a, b) => a.name.localeCompare(b.name));
    let B = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    return this.plugin.utils.concat_array([A, B]);
  }
  sort_tfiles_by_field(tfiles, field) {
    let res = tfiles.sort(
      (a, b) => {
        let av = this.editor.get_frontmatter(a, field);
        let bv = this.editor.get_frontmatter(b, field);
        if (typeof av != typeof bv) {
          return 0;
        }
        if (typeof av == "number" && typeof bv == "number") {
          return av - bv;
        }
        if (typeof av == "string" && typeof bv == "string") {
          let v = av.localeCompare(bv);
          return v;
        }
        return 0;
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "chain": "chain",
      "name (a to z)": "name",
      "ctime (old to new)": "ctime",
      "mtime (old to new)": "mtime",
      "name (z to a)": ["name", "x"],
      "ctime (new to old)": ["ctime", "x"],
      "mtime (new to old)": ["mtime", "x"]
    };
    let field = await this.plugin.dialog_suggest(
      Object.keys(kv),
      Object.values(kv)
    );
    if (field == null) {
      return [];
    }
    if (field == "chain") {
      tfiles = this.sort_tfiles(tfiles, "name");
    }
    return this.sort_tfiles(tfiles, field);
  }
  view_sort_by_chain() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    if (!view) {
      return;
    }
    view.sort();
    if (view.ready) {
      for (let path in view.fileItems) {
        let item = view.fileItems[path];
        if (item.vChildren) {
          let files = item.vChildren._children.map((f) => f.file);
          files = this.sort_tfiles_by_chain(files);
          let children = item.vChildren._children.sort(
            (a, b) => files.indexOf(a.file) - files.indexOf(b.file)
          );
          item.vChildren.setChildren(children);
        }
      }
      view.tree.infinityScroll.compute();
    }
  }
  async get_file_links(tfile, xlinks = true, inlinks = true, outlinks = true, onlymd = false) {
    let items = {};
    if (!tfile) {
      return items;
    }
    items["\u{1F3E0} " + tfile.basename] = this.app.vault.adapter.getFullPath(tfile.path);
    if (xlinks) {
      let tmp;
      tmp = this.editor.get_frontmatter(tfile, "github");
      if (tmp) {
        if (tmp.contains("github.com")) {
          items["\u{1F310}github"] = tmp;
        } else {
          items["\u{1F310}github"] = `https://github.com/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "huggingface");
      if (tmp) {
        if (tmp.contains("huggingface.co")) {
          items["\u{1F310}huggingface\u{1F917}"] = tmp;
        } else {
          items["\u{1F310}huggingface\u{1F917}"] = `https://huggingface.co/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "arxiv");
      if (tmp == null ? void 0 : tmp.ID) {
        items["\u{1F310}arxiv"] = `https://arxiv.org/abs/` + (tmp == null ? void 0 : tmp.ID);
      }
      let text = await this.app.vault.cachedRead(tfile);
      const regex = /\[[^(\[\])]*?\]\(.*?\)/g;
      const matches = text.match(regex);
      if (matches) {
        for (const match of matches) {
          let key = match.slice(1, match.indexOf("]("));
          let value = match.slice(match.indexOf("](")).slice(2, -1);
          if (value === "") {
            continue;
          }
          if (key === "") {
            key = value;
          }
          if (value.startsWith("http")) {
            key = "\u{1F310} " + key;
          } else if (value.startsWith("file:///")) {
            value = value.slice(8);
            key = "\u{1F4C1} " + key;
          } else {
            key = "\u{1F517} " + key;
          }
          items[key] = value;
        }
      }
    }
    if (inlinks) {
      let links = this.get_inlinks(tfile, false);
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u2139\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    if (outlinks) {
      let links = this.get_outlinks(tfile, false);
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    items["\u{1F492} vault"] = this.app.vault.adapter.getFullPath(".");
    return items;
  }
};

// src/NCTextarea.ts
var NCTextarea = class {
  constructor(plugin) {
    this.yamljs = require_js_yaml();
    this.plugin = plugin;
    this.app = plugin.app;
    this.registerMarkdownCodeBlockProcessor();
  }
  arrayBufferToBase64(buffer) {
    let binary = "";
    let bytes = new Uint8Array(buffer);
    let len = bytes.byteLength;
    for (let i = 0; i < len; i++) {
      binary += String.fromCharCode(bytes[i]);
    }
    return window.btoa(binary);
  }
  async registerMarkdownCodeBlockProcessor(field = "textarea") {
    let nc = this.plugin;
    nc.registerMarkdownCodeBlockProcessor(field, async (source, el, ctx) => {
      var _a, _b, _c;
      source = source.trim();
      let config;
      if (source == "") {
        config = {};
      } else {
        config = nc.textarea.yamljs.load(source);
      }
      let container = el.createEl("div", { cls: "textarea-container" });
      let area = null;
      if (config["textarea"] != false) {
        let cls = "code_block_textarea";
        if ((_a = config.textarea) == null ? void 0 : _a.cls) {
          cls = config["textarea"]["cls"];
        }
        area = container.createEl("textarea", { cls });
        area.style.width = "100%";
        area.style.height = "200px";
        let style = (_b = config.textarea) == null ? void 0 : _b.style;
        if (style && typeof style == "object") {
          for (let name in style) {
            if (name == "backgroundImage") {
              let img = nc.chain.get_tfile(style[name]);
              if (img) {
                let data = await nc.app.vault.readBinary(img);
                let text = this.arrayBufferToBase64(data);
                let bs64 = `data:image/png;base64,${text}`;
                area.style[name] = `url('${bs64}')`;
                continue;
              }
            }
            area.style[name] = style[name];
          }
        }
      }
      for (let k in config) {
        if (k.startsWith("buttons")) {
          let btns = config[k];
          if (btns && Array.isArray(btns)) {
            let buttonContainer = container.createEl("div", { cls: "code_block_textarea_btn_container" });
            buttonContainer.style.display = "flex";
            buttonContainer.style.justifyContent = "flex-start";
            buttonContainer.style.marginTop = "10px";
            for (let btn of btns) {
              let name = btn[0];
              let fname = btn[1];
              if (!name || !fname) {
                continue;
              }
              let cls = "code_block_textarea_btn";
              if (btn[2]) {
                cls = btn[2];
              }
              let ufunc = nc.textarea[fname];
              if (!ufunc) {
                ufunc = await nc.utils.get_str_func(nc.app, fname);
              }
              if (ufunc) {
                let xbtn = buttonContainer.createEl("button", { text: name, cls });
                xbtn.addEventListener("click", () => {
                  ufunc(area, source, el, ctx);
                });
                continue;
              }
              let c = (_c = nc.app.commands) == null ? void 0 : _c.findCommand(fname);
              if (c) {
                let xbtn = buttonContainer.createEl("button", { text: name, cls });
                xbtn.addEventListener("click", () => {
                  nc.app.commands.executeCommandById(fname);
                });
                continue;
              }
              let tfile = nc.chain.get_tfile(fname);
              if (tfile) {
                let xbtn = buttonContainer.createEl("button", { text: name, cls });
                xbtn.addEventListener("click", () => {
                  nc.utils.parse_templater(
                    nc.app,
                    fname,
                    true,
                    {
                      area,
                      source,
                      el,
                      ctx
                    }
                  );
                });
                continue;
              }
            }
            container.appendChild(buttonContainer);
          }
        }
      }
      if (area && config["focus"] != false) {
        area.focus();
      }
    });
  }
  clear_area(area) {
    area.value = "";
  }
  copy_area(area) {
    area.select();
    navigator.clipboard.writeText(area.value);
  }
  log_area(area) {
    console.log("\u5F53\u524DTextarea\u4E3A\uFF1A");
    console.log(area);
  }
};

// src/NCFileExplorer.ts
var import_obsidian5 = require("obsidian");
var getSortedFolderItems = function(org_sort) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = org_sort.call(this, e);
        let tfiles = plugin.chain.children[e.path];
        if (tfiles) {
          res = res.sort((a, b) => tfiles.indexOf(a.file) - tfiles.indexOf(b.file));
        }
        return res;
      } catch (e2) {
        return org_sort.call(this, e2);
      }
    } else {
      return org_sort.call(this, e);
    }
  };
};
var getTtitle = function(org_getTtile) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = plugin.explorer.get_display_text(this.file);
        return res;
      } catch (e2) {
        return org_getTtile.call(this);
      }
    } else {
      return org_getTtile.call(this);
    }
  };
};
var NCFileExplorer = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.chain = plugin.chain;
    this.app = plugin.app;
    this.register();
  }
  async register() {
    await this.waitForFileExplorer();
    this.getSortedFolderItems = this.file_explorer.constructor.prototype.getSortedFolderItems;
    this.getSortedFolderItems_new = getSortedFolderItems(this.getSortedFolderItems);
    this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems_new;
    try {
      let item = this.file_explorer.fileItems[this.plugin.chain.get_all_tfiles()[0].path];
      if (item) {
        this.getTitle = item.constructor.prototype.getTitle;
        this.getTitle_new = getTtitle(this.getTitle);
        item.constructor.prototype.getTitle = this.getTitle_new;
      }
      this.sort(0, true);
      this.set_display_text();
      this.set_fileitem_style();
    } catch (error) {
    }
  }
  async unregister() {
    if (this.getSortedFolderItems) {
      this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems;
    }
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      await this._set_display_text_(item, this.get_origin_text(item.file));
      item.el.style.background = null;
      item.el.style.border = null;
    }
  }
  async waitForFileExplorer() {
    while (!this.file_explorer.fileItems) {
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    return this.file_explorer.fileItems;
  }
  get file_explorer() {
    var _a;
    let a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    );
    let view = (_a = a[0]) == null ? void 0 : _a.view;
    return view;
  }
  async sort(nsleep = 0, init = false) {
    var _a;
    if ((_a = this.file_explorer) == null ? void 0 : _a.sort) {
      if (nsleep > 0) {
        await sleep(nsleep);
      }
      if (init) {
        this.plugin.chain.init_children();
      }
      if (Object.keys(this.plugin.chain.children).length == 0) {
        setTimeout(() => {
          this.sort(nsleep, true);
        }, 3e3);
      } else {
        this.file_explorer.sort();
      }
    }
  }
  get_field_of_display_text(tfile) {
    if (this.plugin.settings.field_of_display_text) {
      let item = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_display_text);
      if (typeof item != "string") {
        return "";
      }
      return item;
    }
    return "";
  }
  get_origin_text(tfile) {
    if (tfile instanceof import_obsidian5.TFile) {
      if (tfile.extension == "md") {
        return tfile.basename;
      } else if (tfile.extension == "canvas") {
        return tfile.basename;
      } else {
        return tfile.name;
      }
    } else {
      return tfile.name;
    }
  }
  get_item(tfile, field) {
    var _a, _b;
    if (!field) {
      return "";
    }
    let fields = field.split("|");
    let item = "";
    for (let f of fields) {
      if (f == "$0") {
        return this.get_origin_text(tfile);
      }
      if (f.startsWith("?")) {
        break;
      }
      if (tfile instanceof import_obsidian5.TFile) {
        let s = this.plugin.editor.get_frontmatter(tfile, f);
        if (typeof s === "number") {
          item = `${s}`;
        } else if (typeof s != "string" || s == "") {
          continue;
        }
        item = s;
        break;
      }
    }
    if (((_a = fields.last()) == null ? void 0 : _a.startsWith("?")) && item) {
      return ((_b = fields.last()) == null ? void 0 : _b.slice(1).replace(/\$1/g, item)) || "";
    }
    return item;
  }
  get_display_text(tfile) {
    let str = this.get_field_of_display_text(tfile);
    if (!str && this.plugin.settings.field_of_confluence_tab_format) {
      str = `<${this.plugin.settings.field_of_confluence_tab_format}><$0>`;
    } else {
      str = `<${this.plugin.settings.field_of_confluence_tab_format}>${str}`;
    }
    if (!str || str == "$0" || str == "<$0>") {
      return this.get_origin_text(tfile);
    }
    let mstr = str.replace(/\<(.+?)?\>/g, (match, field) => {
      return this.get_item(tfile, field);
    });
    mstr = mstr;
    if (mstr == "") {
      return this.get_origin_text(tfile);
    } else {
      return mstr;
    }
  }
  _set_display_text_(item, txt) {
    if (item && txt) {
      if (typeof txt == "string") {
        item.innerEl.setText(txt);
      }
    }
  }
  set_display_text() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let txt = this.get_display_text(item.file);
      this._set_display_text_(item, txt);
    }
  }
  async get_fileitem_style(tfile) {
    if (this.plugin.settings.field_of_background_color) {
      let style = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_background_color);
      if (typeof style == "string") {
        let func = await this.plugin.utils.get_str_func(this.app, style);
        if (func) {
          return func;
        }
      }
      return style;
    }
    return null;
  }
  async set_fileitem_style() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let style = await this.get_fileitem_style(item.file);
      await this.set_fileitem_style_of_file(item.file, style);
    }
  }
  async set_fileitem_style_of_file(tfile, style = null) {
    if (!tfile) {
      return;
    }
    if (!style) {
      style = await this.get_fileitem_style(tfile);
    }
    let items = this.file_explorer.fileItems;
    let item = items[tfile.path];
    if (item) {
      if (typeof style == "function") {
        style = await style(tfile);
        if (!style) {
          return;
        }
      }
      if (style == null) {
        item.el.style.background = null;
        item.el.style.border = null;
      } else if (typeof style == "string") {
        item.el.style.background = style;
      } else if (typeof style == "object") {
        for (let k in style) {
          item.el.style[k] = style[k];
        }
      } else if (typeof style == "function") {
        await style(tfile);
      }
    }
  }
};

// src/strings.ts
var Strings = class {
  constructor() {
    let lang = window.localStorage.getItem("language");
    if (lang) {
      this.language = lang;
    } else {
      this.language = "en";
    }
  }
  get cmd_mermaid_flowchart_link() {
    if (this.language == "zh") {
      return "Mermaid\u94FE\u63A5\u5361\u7247";
    } else {
      return "Mermaid of linked notes";
    }
  }
  get cmd_mermaid_flowchart_folder() {
    if (this.language == "zh") {
      return "Mermaid\u76EE\u5F55\u5361\u7247";
    } else {
      return "Mermaid of folder notes";
    }
  }
  get cmd_mermaid_flowchart_auto() {
    if (this.language == "zh") {
      return "Mermaid\u5361\u7247";
    } else {
      return "Mermaid of notes";
    }
  }
  get cmd_file_open_with_system_app() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u4F7F\u7528\u7CFB\u7EDF\u7A0B\u5E8F\u6253\u5F00\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - open with system app (desktop only)";
    }
  }
  get cmd_file_show_in_system_explorer() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u5728\u7CFB\u7EDF\u6D4F\u89C8\u7684\u67E5\u770B\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - show in system explorer (desktop only)";
    }
  }
  get cmd_file_rename() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u91CD\u547D\u540D\u6587\u4EF6";
    } else {
      return "File - rename file";
    }
  }
  get cmd_longform2notechain() {
    if (this.language == "zh") {
      return "\u6839\u636ELongForm\u91CD\u7F6E\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Reset note chain by longform";
    }
  }
  get cmd_longform4notechain() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\uFF0C\u91CD\u7F6ELongForm\u573A\u666F";
    } else {
      return "Reset longform scenes by note chain";
    }
  }
  get cmd_sort_file_explorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6392\u5E8F";
    } else {
      return "Sort file explorer by note chain";
    }
  }
  get cmd_open_notes_smarter() {
    if (this.language == "zh") {
      return "\u667A\u80FD\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note smarter";
    }
  }
  get cmd_open_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note";
    }
  }
  get cmd_open_prev_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note";
    }
  }
  get chain_move_up_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node up";
    }
  }
  get chain_move_down_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node down";
    }
  }
  get cmd_open_next_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note";
    }
  }
  get cmd_reveal_note() {
    if (this.language == "zh") {
      return "\u5B9A\u4F4D\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Reveal current file in navigation";
    }
  }
  get cmd_open_and_reveal_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u5E76\u5B9A\u4F4D\u7B14\u8BB0";
    } else {
      return "Open and reveal note";
    }
  }
  get cmd_open_prev_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note of right leaf";
    }
  }
  get cmd_open_next_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note of right leaf";
    }
  }
  get cmd_execute_template_modal() {
    if (this.language == "zh") {
      return "\u6267\u884C\u811A\u672C\u7B14\u8BB0";
    } else {
      return "Execute Templater modal";
    }
  }
  get cmd_toogle_css_block_in_note() {
    if (this.language == "zh") {
      return "\u542F\u7528/\u5173\u95ED css \u4EE3\u7801\u5757";
    } else {
      return "Toogle css block in note";
    }
  }
  get cmd_set_frontmatter() {
    if (this.language == "zh") {
      return "\u6240\u9009\u7B14\u8BB0\u8BBE\u7F6E\u5C5E\u6027";
    } else {
      return "Set fronmatter for selected notes";
    }
  }
  get cmd_move_next_level() {
    if (this.language == "zh") {
      return "\u63D0\u9AD8\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Increase the indentation level";
    }
  }
  get cmd_move_none_level() {
    if (this.language == "zh") {
      return "\u5220\u9664\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Remove the indentation level";
    }
  }
  get cmd_move_prev_level() {
    if (this.language == "zh") {
      return "\u964D\u4F4E\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Decrease the indentation level";
    }
  }
  get cmd_insert_command_id() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u547D\u4EE4ID";
    } else {
      return "Insert command id";
    }
  }
  get filemenu_create_next_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get filemenu_move_as_next_note() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Move as next note";
    }
  }
  get filemenu_move_as_next_notes() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0\uFF08\u9009\u4E2D\u7B14\u8BB0\uFF09";
    } else {
      return "Move as next notes(selected)";
    }
  }
  get clear_inlinks() {
    if (this.language == "zh") {
      return "\u6E05\u7406\u7B14\u8BB0\u5165\u94FE";
    } else {
      return "Clear inlinks of current file";
    }
  }
  get move_file_to_another_folder() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u5F53\u524D\u6587\u4EF6";
    } else {
      return "Move current file to another folder";
    }
  }
  get replace_notes_with_regx() {
    if (this.language == "zh") {
      return "\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u7B14\u8BB0\u5185\u5BB9";
    } else {
      return "Replace by regex";
    }
  }
  get chain_insert_node() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u8282\u70B9";
    } else {
      return "Insert node of chain";
    }
  }
  get chain_set_seq_note() {
    if (this.language == "zh") {
      return "\u91CD\u5851\u5F53\u524D\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Rebuild the chain of current folder";
    }
  }
  get create_new_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u65B0\u7B14\u8BB0";
    } else {
      return "Create new note";
    }
  }
  get setting_isSortFileExplorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\u6392\u5E8F\u76EE\u5F55";
    } else {
      return "Sort by chain in file explorer?";
    }
  }
  get setting_isFolderFirst() {
    if (this.language == "zh") {
      return "\u6392\u5E8F\u65F6\u76EE\u5F55\u65F6\u6587\u4EF6\u5939\u4F18\u5148\uFF1F";
    } else {
      return "Sort folder first in file explorer?";
    }
  }
  get setting_PrevChain() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of prev notes to show?";
    }
  }
  get setting_NextChain() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of next notes to show?";
    }
  }
  get setting_suggesterNotesMode() {
    if (this.language == "zh") {
      return `${this.chain_insert_node}\uFF1A\u9ED8\u8BA4\u6A21\u5F0F`;
    } else {
      return `${this.chain_insert_node}:Default mode`;
    }
  }
  get setting_auto_notechain() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u81EA\u52A8\u91CD\u5851\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\uFF1F";
    } else {
      return "Auto build notechain of folder while open new file?";
    }
  }
  get setting_refreshDataView() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Dataview\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh dataview while open new file?";
    }
  }
  get setting_refreshTasks() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Tasks\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh tasks while open new file?";
    }
  }
  get setting_wordcout() {
    if (this.language == "zh") {
      return "\u7EDF\u8BA1\u6BCF\u65E5\u5B57\u6570";
    } else {
      return "Register daily word count?";
    }
  }
  get setting_avata() {
    if (this.language == "zh") {
      return "\u5934\u50CF";
    } else {
      return "Avata";
    }
  }
  get setting_wordcout_xfolder() {
    if (this.language == "zh") {
      return "\u8DF3\u8FC7\u4EE5\u4E0B\u76EE\u5F55";
    } else {
      return "Ignore these folders";
    }
  }
  get setting_notice_while_modify_chain() {
    if (this.language == "zh") {
      return "\u4FEE\u6539\u7B14\u8BB0\u94FE\u65F6\u663E\u793A\u901A\u77E5\uFF1F";
    } else {
      return "Notice while modify note chain?";
    }
  }
  get setting_field_of_display_text() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u663E\u793A\u6587\u4EF6\u540D";
    } else {
      return "Display text for notes in file-explorer?";
    }
  }
  get setting_confluence_tab_format() {
    if (this.language == "zh") {
      return "\u4F7F\u7528Confluence\u7F29\u8FDB\u683C\u5F0F";
    } else {
      return "Use confluence indentation format";
    }
  }
  get setting_field_of_background_color() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u5143\u7D20\u98CE\u683C";
    } else {
      return "File-item style for notes in file-explorer?";
    }
  }
  get item_insert_suggester() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u6A21\u5F0F\uFF08\u76F8\u5BF9\u4E8E\u951A\u70B9\uFF09";
    } else {
      return "Insert mode(relate to anchor).";
    }
  }
  get item_insert_node_after() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Next note";
    }
  }
  get item_insert_node_before() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Prev note";
    }
  }
  get item_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934";
    } else {
      return "Head of chain";
    }
  }
  get item_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E";
    } else {
      return "Tail of thain";
    }
  }
  get item_insert_folder_after() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5939\u540E\u7F6E";
    } else {
      return "Folder as next";
    }
  }
  get item_get_brothers() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in same folder";
    }
  }
  get item_same_folder() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0+\u5B50\u76EE\u5F55";
    } else {
      return "Notes in same folder(recursive)";
    }
  }
  get item_inlinks_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE+\u5165\u94FE";
    } else {
      return "outLinks + inLinks";
    }
  }
  get item_inlins() {
    if (this.language == "zh") {
      return "\u5165\u94FE";
    } else {
      return "inlinks";
    }
  }
  get item_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE";
    } else {
      return "outlinks";
    }
  }
  get item_all_noes() {
    if (this.language == "zh") {
      return "\u6240\u6709\u7B14\u8BB0";
    } else {
      return "All notes";
    }
  }
  get item_recent() {
    if (this.language == "zh") {
      return "\u8FD1\u671F\u7B14\u8BB0";
    } else {
      return "Recent";
    }
  }
  get item_uncle_notes() {
    if (this.language == "zh") {
      return "\u4E0A\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in grandpa folder";
    }
  }
  get item_notechain() {
    if (this.language == "zh") {
      return "\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Note chain";
    }
  }
  get item_currentnote() {
    if (this.language == "zh") {
      return "\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Current note";
    }
  }
  get item_chain_insert_node_after() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get item_chain_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create tail note";
    }
  }
  get item_chain_insert_node_before() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Create prev note";
    }
  }
  get item_chain_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create head note";
    }
  }
  get item_item_chain_insert_null() {
    if (this.language == "zh") {
      return "\u65E0\u94FE\u63A5";
    } else {
      return "Create note not in chain";
    }
  }
  get prompt_notename() {
    if (this.language == "zh") {
      return "\u8F93\u5165\u7B14\u8BB0\u540D";
    } else {
      return "Input note name";
    }
  }
};
var strings = new Strings();

// src/WordCount.ts
var import_obsidian6 = require("obsidian");
var WordCount = class {
  constructor(plugin, app) {
    this.plugin = plugin;
    this.app = app;
    this.nretry = 100;
    this.events = new Array();
    this.register();
  }
  filter(tfile) {
    var _a;
    if (!tfile) {
      return false;
    }
    if (tfile.deleted) {
      return false;
    }
    if (tfile.extension != "md") {
      return false;
    }
    let xfolders = this.plugin.settings.wordcountxfolder.split("\n").filter((x) => x != "");
    for (let item of xfolders) {
      if (tfile.path.startsWith(item)) {
        return false;
      } else if (item == "/") {
        if (((_a = tfile.parent) == null ? void 0 : _a.path) == "/") {
          return false;
        }
      }
    }
    return true;
  }
  // 
  count_words(ctx, ignore = /[\s!"#$%&'()*+,./:;<=>?@[\]^_`{|}]/g) {
    let N = ctx.replace(ignore, "").length;
    let enregex = /[a-zA-Z0-9-]+/g;
    let matches = ctx.match(enregex);
    if (matches) {
      let elen = 0;
      matches.forEach((x) => elen = elen + x.length);
      N = N - elen + matches.length;
    }
    return N;
  }
  async set_mtime_value(tfile, key, val) {
    var _a, _b;
    let activeView = this.app.workspace.getActiveViewOfType(import_obsidian6.MarkdownView);
    let editorState = {};
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        editorState.cursor = editor.getCursor();
        editorState.selection = editor.getSelection();
        editorState.sanchor = editor.getCursor("anchor");
        editorState.shead = editor.getCursor("head");
        editorState.scrollInfo = editor.getScrollInfo();
      }
    }
    let aline = ((_a = editorState == null ? void 0 : editorState.cursor) == null ? void 0 : _a.line) !== void 0 ? (_b = activeView == null ? void 0 : activeView.editor) == null ? void 0 : _b.getLine(editorState.cursor.line) : void 0;
    if (aline && aline.startsWith("|") && aline.endsWith("|")) {
      return;
    }
    await this.app.fileManager.processFrontMatter(
      tfile,
      (fm) => {
        let t = import_obsidian6.moment.unix(tfile.stat.mtime / 1e3);
        let mtime = t.format("YYYY-MM-DD");
        if (fm[key] == null) {
          if (val > 0) {
            fm[key] = {};
            if (mtime == (0, import_obsidian6.moment)().format("YYYY-MM-DD") && mtime != import_obsidian6.moment.unix(tfile.stat.ctime / 1e3).format("YYYY-MM-DD")) {
              fm[key][t.add(-1, "days").format("YYYY-MM-DD")] = val;
            } else {
              fm[key][mtime] = val;
            }
          }
        } else {
          let ts = Object.keys(fm[key]).sort((b, a) => a.localeCompare(b)).filter((x) => !(x == mtime));
          if (ts.length == 0) {
            if (val > 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              fm[key][mtime] = val;
            }
          } else {
            if (val - fm[key][ts[0]] != 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              delete fm[key][mtime];
            }
          }
        }
      }
    );
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        if (editorState.selection && editorState.sanchor && editorState.shead) {
          try {
            await editor.setSelection(editorState.sanchor, editorState.shead);
          } catch (error) {
            new import_obsidian6.Notice(`Error setting selection:${error}`, 3e3);
          }
        } else if (editorState.cursor) {
          await editor.setCursor(editorState.cursor);
        }
        if (editorState.scrollInfo) {
          await editor.scrollTo(editorState.scrollInfo.left, editorState.scrollInfo.top);
        }
      }
    }
  }
  get_new_words(tfile, day = (0, import_obsidian6.moment)().format("YYYY-MM-DD")) {
    var _a;
    let meta = this.app.metadataCache.getFileCache(tfile);
    let values = (_a = meta == null ? void 0 : meta.frontmatter) == null ? void 0 : _a.words;
    if (values) {
      let keys = Object.keys(values).sort((a, b) => a.localeCompare(b));
      let idx = keys.indexOf(day);
      if (idx < 0) {
        return 0;
      } else if (idx == 0) {
        return values[day];
      } else {
        return values[day] - values[keys[idx - 1]];
      }
    }
  }
  async update_word_count(tfile) {
    if (!this.filter(tfile)) {
      return;
    }
    let ctx = await this.app.vault.cachedRead(tfile);
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (mcache == null ? void 0 : mcache.frontmatterPosition) {
      ctx = ctx.slice(mcache.frontmatterPosition.end.offset);
    }
    let N = this.count_words(ctx);
    await this.set_mtime_value(tfile, "words", N);
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  async update_word_count_of_vault() {
    let tfiles = this.app.vault.getMarkdownFiles().filter((x) => this.filter(x));
    let i = 0;
    for (let tfile of tfiles) {
      new import_obsidian6.Notice(`${i}/${tfiles.length}:${tfile.name}`, 3e3);
      await this.update_word_count(tfile);
      i = i + 1;
    }
  }
  register() {
    if (this.plugin.settings.wordcout) {
      this.regeister_editor_change();
      this.regeister_active_leaf_change();
    } else {
      this.unregister();
    }
  }
  regeister_editor_change() {
    let e = this.app.workspace.on("editor-change", async (editor, info) => {
      var _a;
      if (((_a = info.file) == null ? void 0 : _a.extension) != "md") {
        return;
      }
      if (this.timerId !== null) {
        clearTimeout(this.timerId);
      }
      if (info.file) {
        this.timerId = setTimeout(() => {
          this.update_word_count(info.file);
        }, 3e3);
      }
    });
    this.plugin.registerEvent(e);
    this.events.push(e);
  }
  regeister_active_leaf_change() {
    let e = this.app.workspace.on("active-leaf-change", async (leaf) => {
      var _a, _b;
      let tfile = (leaf == null ? void 0 : leaf.view).file;
      if (!(leaf == null ? void 0 : leaf.view)) {
        return;
      }
      if (!(((_b = (_a = leaf.view) == null ? void 0 : _a.file) == null ? void 0 : _b.extension) == "md")) {
        return;
      }
      await this.update_word_count(tfile);
      if (this.curr_active_file == null) {
        this.curr_active_file = tfile;
        return;
      }
      if (this.curr_active_file != tfile) {
        await this.update_word_count(this.curr_active_file);
        this.curr_active_file = tfile;
      }
    });
    this.plugin.registerEvent(e);
    this.events.push(e);
  }
  unregister() {
    for (let e of this.events) {
      e.e.offref(e);
    }
    this.events = this.events.slice(-1, 0);
  }
  get_words_of_tfiles(files = null) {
    if (!files) {
      files = this.plugin.chain.get_all_tfiles();
    }
    return files.map(
      (x) => this.plugin.editor.get_frontmatter(x, "words")
    ).filter((x) => x);
  }
  sum_words_of_tifles(files = null, begt = 10, endt = 0) {
    files = this.get_words_of_tfiles(files);
    if (typeof begt == "number") {
      begt = (0, import_obsidian6.moment)().add(-begt, "days").format("YYYY-MM-DD");
    }
    if (typeof endt == "number") {
      endt = (0, import_obsidian6.moment)().add(-endt, "days").format("YYYY-MM-DD");
    }
    let startDate = new Date(begt);
    let endDate = new Date(endt);
    let dailyWordCounts = {};
    for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
      let dateStr = date.toISOString().split("T")[0];
      dailyWordCounts[dateStr] = 0;
    }
    files.forEach((file) => {
      let lastWordCount = 0;
      let earliestDate = new Date(Object.keys(file).sort()[0]);
      if (earliestDate < startDate) {
        lastWordCount = file[earliestDate.toISOString().split("T")[0]];
      }
      for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
        let dateStr = date.toISOString().split("T")[0];
        if (file.hasOwnProperty(dateStr)) {
          lastWordCount = file[dateStr];
        }
        dailyWordCounts[dateStr] += lastWordCount;
      }
    });
    return dailyWordCounts;
  }
  diff_words_of_tifles(dailyWordCounts, first_as_zero = true) {
    let dailyNewWordCounts = {};
    let previousTotal = 0;
    let first = "";
    for (let date in dailyWordCounts) {
      if (first === "") {
        first = date;
      }
      let currentTotal = dailyWordCounts[date];
      dailyNewWordCounts[date] = currentTotal - previousTotal;
      previousTotal = currentTotal;
    }
    if (first_as_zero && first !== "") {
      dailyNewWordCounts[first] = 0;
    }
    return dailyNewWordCounts;
  }
};

// src/graph.ts
var import_obsidian7 = require("obsidian");
var NoteNode = class {
  constructor(tfile, plugin) {
    this.tfile = tfile;
    this.note2id = {};
    this.id = 0;
    this.plugin = plugin;
  }
  //  IDXXXX
  get_id(tfile) {
    if (tfile.basename in this.note2id) {
      return this.note2id[tfile.basename];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[tfile.basename] = newId;
    this.id = this.id + 1;
    return newId;
  }
  // IDXXXX["tfile.basename"]
  get_node(tfile) {
    let id = this.get_id(tfile);
    return `${id}("${tfile.basename}")`;
  }
  get_mehrmaid_node(node, avata = "") {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    if (node.startsWith("subgraph ")) {
      return node.slice("subgraph ".length);
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    let tfile = this.plugin.chain.get_tfile(node);
    if (tfile) {
      if (avata == "") {
        avata = this.plugin.settings.avata;
      }
      let meta = this.plugin.editor.get_frontmatter(tfile, avata);
      if (meta) {
        if (meta.startsWith("#")) {
          node = `![[${tfile.basename}${meta}|no-head]]`;
        } else {
          node = meta.replace("SELF", `[[${tfile.basename}]]`);
        }
      }
    }
    return `${newId}("${node}")`;
  }
  get_canvas_node(node) {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    return newId;
  }
  notes2class() {
    let msg = "\n";
    for (let tfile in this.note2id) {
      msg = msg + `	class ${this.note2id[tfile]} internal-link;
`;
    }
    return msg;
  }
};
var MermaidGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  get_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  subgraph_chain(node, tfiles, subgraph = "", line = "<-->") {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    while (i < items.length - 1) {
      let prev = node.get_node(items[i]);
      let next = node.get_node(items[i + 1]);
      msg = msg + `${stab}${prev}${line}${next}
`;
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  subgraph_links(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    let sid = node.get_node(node.tfile);
    while (i < items.length) {
      let id = node.get_node(items[i]);
      if (tfiles_first) {
        msg = msg + `${stab}${id}${line}${sid}
`;
      } else {
        msg = msg + `${stab}${sid}${line}${id}
`;
      }
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  // [src,dst,io]
  edges_of_tfiles(tfiles, merge_inout = true) {
    let inlinks = {};
    let outlinks = {};
    for (let tfile of tfiles) {
      outlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_outlinks(tfile, true);
      inlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_inlinks(tfile, true);
    }
    let edges = [];
    for (let tfile of tfiles) {
      let i = tfiles.indexOf(tfile);
      for (let outlink of outlinks[i]) {
        if (tfiles.contains(outlink)) {
          if (tfiles.indexOf(outlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (inlinks[i].contains(outlink)) {
              edges.push([tfile, outlink, true]);
            } else {
              edges.push([tfile, outlink, false]);
            }
          } else {
            edges.push([tfile, outlink, false]);
          }
        }
      }
      for (let inlink of inlinks[i]) {
        if (tfiles.contains(inlink)) {
          if (tfiles.indexOf(inlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (!outlinks[i].contains(inlink)) {
              edges.push([inlink, tfile, false]);
            }
          } else {
            edges.push([inlink, tfile, false]);
          }
        }
      }
    }
    return edges;
  }
  subgraph_cross(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let edges = this.edges_of_tfiles(tfiles);
    for (let edge of edges) {
      let sid = node.get_node(edge[0]);
      let did = node.get_node(edge[1]);
      if (edge[2]) {
        msg = msg + `${stab}${sid}<-.->${did}
`;
      } else {
        msg = msg + `${stab}${sid}-.->${did}
`;
      }
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  get_flowchart(tfile, N = 2, c_chain = "#F05454", c_inlink = "#776B5D", c_outlink = "#222831", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let node = new NoteNode(tfile, this.plugin);
    let nc = this.plugin;
    let msg = "```mermaid\nflowchart TD\n";
    let chain = nc.chain.get_chain(tfile, N, N);
    msg = msg + this.subgraph_chain(node, chain, "\u7B14\u8BB0\u94FE");
    let inlinks = nc.chain.get_inlinks(tfile, true).filter((x) => !chain.contains(x));
    let outlinks = nc.chain.get_outlinks(tfile, true).filter((x) => !chain.contains(x));
    msg = msg + this.subgraph_links(node, inlinks, "\u5165\u94FE", "-->", true);
    msg = msg + this.subgraph_links(node, outlinks, "\u51FA\u94FE", "-->");
    msg = msg + node.notes2class();
    msg = msg + [
      "classDef \u7B14\u8BB0\u94FEC fill:" + c_chain,
      "classDef \u5165\u94FEC fill:" + c_inlink,
      "classDef \u51FA\u94FEC fill:" + c_outlink,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      "class \u7B14\u8BB0\u94FE \u7B14\u8BB0\u94FEC",
      "class \u5165\u94FE \u5165\u94FEC",
      "class \u51FA\u94FE \u51FA\u94FEC",
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  flowchart_folder(tfile, subgraph = "Folder", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_brothers(tfile);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_notechain(tfile, N = 10, subgraph = "NoteChain", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_chain(tfile, N, N);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_cross(anchor, tfiles, subgraph = "", color = "#F05454", c_anchor = "#40A578") {
    let node = new NoteNode(tfiles[0], this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    msg = msg + this.subgraph_cross(node, tfiles, subgraph);
    msg = msg + node.notes2class();
    msg = msg + [
      `classDef ${subgraph}C fill:${color}`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      `class ${subgraph} ${subgraph}C`,
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(anchor)} internal-link;`,
      `class ${node.get_id(anchor)} Anchor;`
    );
    return msg;
  }
  get_subgrah_names(group_name, tfiles, name = "group") {
    let nc = this.plugin;
    let items = {};
    for (let cfile of tfiles) {
      let cgroup = nc.editor.get_frontmatter(cfile, name);
      if (cgroup && Array.isArray(cgroup)) {
        for (let cg of cgroup) {
          let tmp = cg.split("/");
          if (tmp[0] == group_name) {
            if (tmp.length == 1) {
              items[tfiles.indexOf(cfile)] = "";
            } else {
              items[tfiles.indexOf(cfile)] = tmp[1];
            }
            break;
          }
        }
      }
    }
    return items;
  }
  flowchart_groups(anchor, name = "group") {
    let nc = this.plugin;
    let tfiles = nc.chain.get_brothers(anchor);
    tfiles = nc.chain.get_group_links(tfiles, 1);
    let node = nc.mermaid.get_note_node(anchor);
    let group = nc.editor.get_frontmatter(anchor, name);
    if (!group || !Array.isArray(group)) {
      return [];
    }
    let res = [];
    for (let g of group) {
      g = g.split("/")[0];
      let items = this.get_subgrah_names(g, tfiles, name);
      let subs = new Set(Object.values(items));
      let msg = `\`\`\`mermaid
---
title: ${g}
---
flowchart TD
`;
      for (let sub of subs) {
        if (sub == "") {
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n" + node.get_node(tfiles[idx]);
            }
          }
        } else {
          msg = msg + "\nsubgraph " + sub + "\n";
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n	" + node.get_node(tfiles[idx]);
            }
          }
          msg = msg + "\nend";
        }
      }
      msg = msg + "\n" + this.subgraph_cross(node, Object.keys(items).map((x) => tfiles[x]));
      msg = msg + "\n" + node.notes2class();
      msg = msg + "\n```";
      res.push(msg);
    }
    return res;
  }
  get_relationship_graph(tfile, N = 1, key = "link", show_all_node = true) {
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    let tfiles = nc.chain.get_group_links([tfile], N);
    if (show_all_node) {
      for (let tfile2 of tfiles) {
        msg += `${node.get_node(tfile2)}
`;
      }
    }
    let processedFiles = /* @__PURE__ */ new Set();
    for (let currentFile of tfiles) {
      if (processedFiles.has(currentFile))
        continue;
      processedFiles.add(currentFile);
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links) {
        for (let [relation, linkedNote] of Object.entries(links)) {
          if (linkedNote instanceof Array) {
            for (let item of linkedNote) {
              let linkedTFile = nc.chain.get_tfile(item);
              if (linkedTFile instanceof import_obsidian7.TFile) {
                msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
              }
            }
          } else {
            let linkedTFile = nc.chain.get_tfile(linkedNote);
            if (linkedTFile instanceof import_obsidian7.TFile) {
              msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
            }
          }
        }
      }
    }
    msg = msg + node.notes2class();
    msg += "```";
    let c_anchor = "#40A578";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  get_mehrmaid_graph(tfile, N = 1, key = "mermaid", c_anchor = "#d4c4b7", field = "avata") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mehrmaid\nflowchart TD\n";
    let tfiles;
    if (N == -1) {
      tfiles = nc.chain.get_brothers(tfile);
    } else {
      tfiles = nc.chain.get_group_links([tfile], N);
    }
    tfiles = nc.chain.sort_tfiles_by_chain(tfiles);
    for (let currentFile of tfiles) {
      let src2 = `[[${currentFile.basename}]]`;
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links && Array.isArray(links)) {
        for (let link of links) {
          if (link["edge"] != null && link["node"] != null) {
            let cedge = link["edge"];
            let cnode = link["node"];
            if (cedge == "") {
              cedge = "";
            } else {
              cedge = `|"${cedge}"|`;
            }
            let line = "-->";
            if (link["line"]) {
              line = link["line"];
            }
            if (line[0] == "<" && line[line.length - 1] != ">") {
              line = line.slice(1) + ">";
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(item, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(cnode, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
              }
            } else {
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(item, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(cnode, field)}
`;
              }
            }
          } else {
            if (link["group"]) {
              msg += `subgraph ${link["group"]}
	${node.get_mehrmaid_node(src2, field)}
end
`;
              if (link["color"]) {
                msg += `classDef ${link["group"]}Class fill:${link["color"]}
`;
                msg += `class ${link["group"]} ${link["group"]}Class
`;
              }
            }
          }
        }
      }
    }
    let src = `[[${tfile.basename}]]`;
    msg += `${node.get_mehrmaid_node(src)}
`;
    if (c_anchor) {
      msg += `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_mehrmaid_node(src)} Anchor;
`;
    }
    msg += "```";
    return msg;
  }
};
var CanvasGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  gen_random_string(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      randomString += characters.charAt(randomIndex);
    }
    return randomString;
  }
  new_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  gen_node(NN, tfile, x = 0, y = 0, width = 400, height = 400) {
    let rsp = {};
    if (typeof tfile == "string") {
      rsp["type"] = "text";
      rsp["text"] = tfile;
      rsp["id"] = NN.get_canvas_node(rsp["text"]);
    } else {
      rsp["type"] = "file";
      if (tfile instanceof import_obsidian7.TFolder) {
        rsp["file"] = tfile.path + "/" + tfile.name + ".md";
      } else {
        rsp["file"] = tfile.path;
      }
      rsp["id"] = NN.get_canvas_node(rsp["file"]);
    }
    rsp["x"] = x;
    rsp["y"] = y;
    rsp["height"] = height;
    rsp["width"] = width;
    return rsp;
  }
  rc_of_sequence(i, r, c) {
    let row = Math.floor((i - 1) / c) + 1;
    let col = row % 2 === 1 ? (i - 1) % c + 1 : c - (i - 1) % c;
    return [row, col];
  }
  async note_to_canvas(tfile, nrow = 1, ncol = 1, width = 400, height = 400, wmarin = 100, hmargin = 100, write = true) {
    let content = await this.plugin.app.vault.read(tfile);
    let titles = [...content.matchAll(/^(#+)\s+(.+)/gm)];
    if (nrow * ncol < titles.length) {
      ncol = Math.ceil(titles.length / nrow);
    }
    let nodes = [];
    let i = 0;
    let NN = this.new_note_node(tfile);
    for (let match of titles) {
      i = i + 1;
      let title = `![[${tfile.basename}#${match[2]}]]`;
      let pos = this.rc_of_sequence(i, nrow, ncol);
      let node = this.gen_node(
        NN = NN,
        title,
        pos[1] * (width + wmarin),
        pos[0] * (height + hmargin),
        width = width,
        height = height
      );
      nodes.push(node);
    }
    let res = {
      "nodes": nodes,
      "edges": []
    };
    if (write) {
      let path = this.path_md2canvas(tfile);
      await this.write_canvas_file(res, path);
    }
    return res;
  }
  async write_canvas_file(canvas, path) {
    let msg = JSON.stringify(canvas);
    let canvasFile = this.plugin.app.vault.getAbstractFileByPath(path);
    if (canvasFile) {
      await this.plugin.app.vault.modify(canvasFile, msg);
    } else {
      await this.plugin.app.vault.create(path, msg);
    }
  }
  path_md2canvas(tfile) {
    return tfile.path.replace(".md", ".canvas");
  }
};

// src/setting.ts
var import_obsidian8 = require("obsidian");
var DEFAULT_SETTINGS = {
  PrevChain: "10",
  NextChain: "10",
  field_of_display_text: "notechain.display",
  field_of_confluence_tab_format: "notechain.level",
  field_of_background_color: "notechain.style",
  auto_notechain: false,
  notice_while_modify_chain: false,
  refreshDataView: true,
  refreshTasks: true,
  isSortFileExplorer: true,
  isFolderFirst: true,
  suggesterNotesMode: "",
  wordcout: true,
  wordcountxfolder: "",
  modal_default_width: 800,
  modal_default_height: 600,
  avata: "avata"
};
var NCSettingTab = class extends import_obsidian8.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isSortFileExplorer).addToggle(
      (text) => text.setValue(this.plugin.settings.isSortFileExplorer).onChange(async (value) => {
        this.plugin.settings.isSortFileExplorer = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isFolderFirst).addToggle(
      (text) => text.setValue(this.plugin.settings.isFolderFirst).onChange(async (value) => {
        this.plugin.settings.isFolderFirst = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_PrevChain).addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_suggesterNotesMode).addDropdown((dropdown) => dropdown.addOption("item_get_brothers", this.plugin.strings.item_get_brothers).addOption("item_uncle_notes", this.plugin.strings.item_uncle_notes).addOption("item_notechain", this.plugin.strings.item_notechain).addOption("item_same_folder", this.plugin.strings.item_same_folder).addOption("item_inlinks_outlinks", this.plugin.strings.item_inlinks_outlinks).addOption("item_inlins", this.plugin.strings.item_inlins).addOption("item_outlinks", this.plugin.strings.item_outlinks).addOption("item_all_noes", this.plugin.strings.item_all_noes).addOption("item_recent", this.plugin.strings.item_recent).addOption("", "").setValue(this.plugin.settings.suggesterNotesMode).onChange(async (value) => {
      this.plugin.settings.suggesterNotesMode = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_NextChain).addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_auto_notechain).addToggle(
      (text) => text.setValue(this.plugin.settings.auto_notechain).onChange(async (value) => {
        this.plugin.settings.auto_notechain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_display_text).addText((text) => text.setValue(this.plugin.settings.field_of_display_text).onChange(async (value) => {
      this.plugin.settings.field_of_display_text = value;
      this.plugin.explorer.set_display_text();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_confluence_tab_format).addText((text) => text.setValue(this.plugin.settings.field_of_confluence_tab_format).onChange(async (value) => {
      this.plugin.settings.field_of_confluence_tab_format = value;
      this.plugin.explorer.set_display_text();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_background_color).addText((text) => text.setValue(this.plugin.settings.field_of_background_color).onChange(async (value) => {
      this.plugin.settings.field_of_background_color = value;
      this.plugin.explorer.set_fileitem_style();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_notice_while_modify_chain).addToggle(
      (text) => text.setValue(this.plugin.settings.notice_while_modify_chain).onChange(async (value) => {
        this.plugin.settings.notice_while_modify_chain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshDataView).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshTasks).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout).addToggle(
      (text) => text.setValue(this.plugin.settings.wordcout).onChange(async (value) => {
        this.plugin.settings.wordcout = value;
        await this.plugin.saveSettings();
        this.plugin.wordcout.register();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout_xfolder).addTextArea(
      (text) => text.setValue(this.plugin.settings.wordcountxfolder).onChange(async (value) => {
        this.plugin.settings.wordcountxfolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_avata).addTextArea(
      (text) => text.setValue(this.plugin.settings.avata).onChange(async (value) => {
        this.plugin.settings.avata = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/commands.ts
var import_obsidian9 = require("obsidian");
var cmd_longform2notechain = (plugin) => ({
  id: "longform2notechain",
  name: plugin.strings.cmd_longform2notechain,
  icon: "git-pull-request-create-arrow",
  callback: async () => {
    let curr = plugin.chain.current_note;
    if (curr == null) {
      return;
    }
    plugin.app.fileManager.processFrontMatter(
      curr,
      async (fm) => {
        if (curr == null) {
          return;
        }
        if (fm["longform"] == null) {
          return;
        }
        let scenes = plugin.utils.concat_array(fm.longform.scenes);
        let ignoredFiles = plugin.utils.concat_array(fm.longform.ignoredFiles);
        ignoredFiles = ignoredFiles.filter((f) => !scenes.contains(f));
        let notes = plugin.utils.concat_array([scenes, ignoredFiles]);
        notes = notes.map((f) => plugin.chain.get_tfile(f));
        if (curr.parent == null) {
          return;
        }
        ;
        let tfiles = plugin.chain.get_tfiles_of_folder(curr.parent).filter((f) => !notes.contains(f));
        notes = plugin.utils.concat_array([tfiles, notes]);
        await plugin.chain.chain_concat_tfiles(notes);
        plugin.explorer.sort();
      }
    );
  }
});
var cmd_longform4notechain = (plugin) => ({
  id: "longform4notechain",
  name: plugin.strings.cmd_longform4notechain,
  icon: "git-pull-request-draft",
  callback: async () => {
    let nc = plugin;
    let curr = plugin.chain.current_note;
    if (curr == null || curr.parent == null) {
      return;
    }
    let path = curr.parent.path + "/" + curr.parent.name + ".md";
    let dst = await nc.chain.get_tfile(path);
    if (dst == null) {
      dst = await plugin.app.vault.create(
        curr.parent.path + "/" + curr.parent.name + ".md",
        ""
      );
    }
    await nc.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (fm["longform"] == null) {
          fm["longform"] = {
            "format": "scenes",
            "title": dst.parent.name,
            "workflow": "Default Workflow",
            "sceneFolder": "/",
            "scenes": [],
            "ignoredFiles": []
          };
        }
      }
    );
    await plugin.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (dst == null) {
          return;
        }
        if (dst.parent == null) {
          return;
        }
        ;
        if (fm["longform"] == null) {
          return;
        }
        let notes = plugin.chain.get_tfiles_of_folder(dst.parent);
        notes = plugin.chain.sort_tfiles_by_chain(notes);
        fm.longform.scenes = notes.map((f) => f.basename);
      }
    );
    await nc.chain.open_note(dst);
  }
});
var cmd_sort_file_explorer = (plugin) => ({
  id: "sort_file_explorer",
  name: plugin.strings.cmd_sort_file_explorer,
  icon: "arrow-down-wide-narrow",
  callback: async () => {
    await plugin.explorer.sort(0, true);
  }
});
var cmd_open_notes_smarter = (plugin) => ({
  id: "open_notes_smarter",
  name: plugin.strings.cmd_open_notes_smarter,
  icon: "binoculars",
  callback: () => {
    plugin.open_note_smarter();
  }
});
var cmd_open_note = (plugin) => ({
  id: "suggestor_open_note",
  name: plugin.strings.cmd_open_note,
  icol: "square-arrow-out-up-right",
  callback: () => {
    plugin.chain.sugguster_open_note();
  }
});
var cmd_open_prev_note = (plugin) => ({
  id: "open_prev_notes",
  name: plugin.strings.cmd_open_prev_note,
  icon: "file-output",
  callback: () => {
    plugin.chain.open_prev_notes();
  }
});
var cmd_open_next_note = (plugin) => ({
  id: "open_next_notes",
  name: plugin.strings.cmd_open_next_note,
  icon: "file-input",
  callback: () => {
    plugin.chain.open_next_notes();
  }
});
var clear_inlinks = (plugin) => ({
  id: "clear_inlinks",
  name: plugin.strings.clear_inlinks,
  icon: "unlink",
  callback: () => {
    plugin.clear_inlinks();
  }
});
var move_file_to_another_folder = (plugin) => ({
  id: "move_file_to_another_folder",
  name: plugin.strings.move_file_to_another_folder,
  icon: "folder-tree",
  callback: () => {
    plugin.chain.cmd_move_file_to_another_folder();
  }
});
var replace_notes_with_regx = (plugin) => ({
  id: "replace_notes_with_regx",
  name: plugin.strings.replace_notes_with_regx,
  icon: "regex",
  callback: () => {
    plugin.replace_notes_with_regx();
  }
});
var chain_insert_node = (plugin) => ({
  id: "chain_insert_node",
  name: plugin.strings.chain_insert_node,
  icon: "git-branch-plus",
  callback: async () => {
    await plugin.cmd_chain_insert_node();
    await plugin.explorer.sort(500);
  }
});
var chain_set_seq_note = (plugin) => ({
  id: "chain_set_seq_note",
  name: plugin.strings.chain_set_seq_note,
  icon: "wind-arrow-down",
  callback: async () => {
    await plugin.chain.chain_suggester_tfiles();
    plugin.explorer.sort();
  }
});
var chain_move_up_node = (plugin) => ({
  id: "chain_move_up_node",
  name: plugin.strings.chain_move_up_node,
  icon: "arrow-up-from-line",
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_prev_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_before(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var chain_move_down_node = (plugin) => ({
  id: "chain_move_donw_node",
  name: plugin.strings.chain_move_down_node,
  icon: "arrow-down-from-line",
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_next_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_after(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var create_new_note = (plugin) => ({
  id: "create_new_note",
  name: plugin.strings.create_new_note,
  icon: "file-plus",
  callback: async () => {
    let targets = {};
    targets[plugin.strings.item_chain_insert_node_after] = "chain_insert_node_after";
    targets[plugin.strings.item_chain_insert_node_as_tail] = "chain_insert_node_as_tail";
    targets[plugin.strings.item_chain_insert_node_before] = "chain_insert_node_before";
    targets[plugin.strings.item_chain_insert_node_as_head] = "chain_insert_node_as_head";
    targets[plugin.strings.item_item_chain_insert_null] = "null";
    let target = await plugin.dialog_suggest(
      plugin.utils.array_prefix_id(Object.keys(targets)),
      Object.values(targets),
      true
    );
    if (!target) {
      return;
    }
    let name = await plugin.dialog_prompt(plugin.strings.prompt_notename);
    if (name) {
      let curr = plugin.chain.current_note;
      if (curr && curr.parent) {
        let path = curr.parent.path + "/" + name + ".md";
        let dst = await plugin.chain.get_tfile(path);
        if (dst == null) {
          dst = await plugin.app.vault.create(
            curr.parent.path + "/" + name + ".md",
            ""
          );
          if (!(target === "null")) {
            await plugin.chain[target](dst, curr);
            if (target == "chain_insert_node_after" || target == "chain_insert_node_before") {
              await plugin.editor.set_frontmatter_align_file(
                curr,
                dst,
                plugin.settings.field_of_confluence_tab_format
              );
            }
          }
          await plugin.chain.open_note(dst);
          await plugin.explorer.sort();
        }
      }
    }
  }
});
var cmd_reveal_note = (plugin) => ({
  id: "cmd_reveal_note",
  name: plugin.strings.cmd_reveal_note,
  icon: "locate",
  callback: async () => {
    let nc = plugin;
    let note = nc.chain.current_note;
    if (note) {
      await plugin.app.commands.executeCommandById("file-explorer:open");
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_and_reveal_note = (plugin) => ({
  id: "cmd_open_and_reveal_note",
  name: plugin.strings.cmd_open_and_reveal_note,
  icon: "map-pin-house",
  callback: async () => {
    let nc = plugin;
    let note = await nc.chain.sugguster_note();
    if (note) {
      await nc.chain.open_note(note);
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_prev_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_prev_note_of_right_leaf",
  name: plugin.strings.cmd_open_prev_note_of_right_leaf,
  icon: "file-output",
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let prev = nc.chain.get_prev_note(leaf.view.file);
      if (prev) {
        await leaf.openFile(prev, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_open_next_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_next_note_of_right_leaf",
  name: plugin.strings.cmd_open_next_note_of_right_leaf,
  icon: "file-input",
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let next = nc.chain.get_next_note(leaf.view.file);
      if (next) {
        await leaf.openFile(next, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_file_open_with_system_app = (plugin) => ({
  id: "cmd_file_open_with_system_app",
  name: plugin.strings.cmd_file_open_with_system_app,
  icon: "book-open",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.openPath(item);
      }
    }
  }
});
var cmd_file_show_in_system_explorer = (plugin) => ({
  id: "cmd_file_show_in_system_explorer",
  name: plugin.strings.cmd_file_show_in_system_explorer,
  icon: "book-open-text",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.showItemInFolder(item);
      }
    }
  }
});
var cmd_file_rename = (plugin) => ({
  id: "cmd_file_rename",
  name: plugin.strings.cmd_file_rename,
  icon: "pen-line",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = {};
      let links = nc.chain.get_inlinks(tfile, false);
      for (let i of links) {
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = i;
        } else {
          items["\u2139\uFE0F " + i.name] = i;
        }
      }
      links = nc.chain.get_outlinks(tfile, false);
      for (let i of links) {
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = i;
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = i;
        }
      }
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let note = items[key];
        let res = await nc.dialog_prompt("New Name", "", note.basename);
        if (res && !(res === note.basename) && !(res === "")) {
          let npath = note.parent.path + "/" + res + "." + note.extension;
          let dst = nc.chain.get_tfile(res + "." + note.extension);
          if (dst) {
            new import_obsidian9.Notice("Exist:" + res + note.extension, 3e3);
          } else {
            nc.app.fileManager.renameFile(note, npath);
          }
        }
      }
    }
  }
});
var cmd_mermaid_flowchart_link = (plugin) => ({
  id: "cmd_mermaid_flowchart_link",
  name: plugin.strings.cmd_mermaid_flowchart_link,
  icon: "file-heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_flowchart(null,2);\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_folder = (plugin) => ({
  id: "cmd_mermaid_flowchart_folder",
  name: plugin.strings.cmd_mermaid_flowchart_folder,
  icon: "folder-heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.flowchart_folder(null,'Folder');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_auto = (plugin) => ({
  id: "cmd_mermaid_flowchart_auto",
  name: plugin.strings.cmd_mermaid_flowchart_auto,
  icon: "heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_mehrmaid_graph(null,4,'mermaid');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_execute_template_modal = (plugin) => ({
  id: "cmd_execute_template_modal",
  name: plugin.strings.cmd_execute_template_modal,
  icon: "file-terminal",
  callback: async () => {
    let tpl = plugin.app.plugins.plugins["templater-obsidian"];
    if (!tpl) {
      return;
    }
    let folder = plugin.app.vault.getFolderByPath(tpl.settings.templates_folder);
    let slice = 0;
    let tfiles;
    if (folder) {
      slice = folder.path.length + 1;
      tfiles = plugin.chain.get_tfiles_of_folder(folder, true);
      tfiles = plugin.chain.sort_tfiles_by_chain(tfiles);
    } else {
      tfiles = plugin.chain.get_all_tfiles();
    }
    let tfile = await plugin.chain.sugguster_note(tfiles, slice);
    if (tfile) {
      let res = await plugin.utils.parse_templater(plugin.app, tfile.basename);
      let txt = res.join("\n").trim();
      let view = plugin.app.workspace.getActiveFileView();
      if (view) {
        view.editor.replaceSelection(txt);
      }
    }
  }
});
var cmd_toogle_css_block_in_note = (plugin) => ({
  id: "cmd_toogle_css_block_in_note",
  name: plugin.strings.cmd_toogle_css_block_in_note,
  icon: "atom",
  callback: async () => {
    await plugin.utils.toogle_note_css(plugin.app, document, "/");
  }
});
var cmd_set_frontmatter = (plugin) => ({
  id: "cmd_set_frontmatter",
  name: plugin.strings.cmd_set_frontmatter,
  icon: "database",
  callback: async () => {
    let files = plugin.chain.get_selected_files(true);
    if (files.length == 0) {
      return;
    }
    let field = await plugin.dialog_prompt("Frontmatter name");
    if (!field) {
      return;
    }
    let prev = plugin.editor.get_frontmatter(files[0], field);
    if (prev) {
      if (Array.isArray(prev)) {
        prev = prev.map((x) => x.toString()).join("\n");
      } else {
        prev = prev.toString();
      }
    } else {
      prev = "";
    }
    let value = await plugin.dialog_prompt("Frontmatter value", "", prev);
    value = value.trim();
    if (!value) {
      return;
    }
    value = value.replace(/\\n/g, "\n").replace(/\\t/g, "	");
    value = value.split("\n");
    value = value.map((x) => {
      if (x.match(/^-?\d+$/)) {
        return parseInt(x);
      } else if (x.match(/^-?\d+(\.\d*)?$/)) {
        return parseFloat(x);
      } else {
        return x;
      }
    });
    if (value.length == 1) {
      value = value[0];
    }
    for (let tfile of files) {
      await plugin.editor.set_frontmatter(tfile, field, value, 1);
    }
  }
});
var cmd_move_next_level = (plugin) => ({
  id: "move_next_level",
  name: plugin.strings.cmd_move_next_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "L" }],
  icon: "arrow-right-from-line",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (!level) {
        await plugin.editor.set_frontmatter(tfile, key, "	", 1);
      } else {
        await plugin.editor.set_frontmatter(tfile, key, level + "	", 1);
      }
    }
  }
});
var cmd_move_none_level = (plugin) => ({
  id: "move_none_level",
  name: plugin.strings.cmd_move_none_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "K" }],
  icon: "align-justify",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (level) {
        await plugin.editor.set_frontmatter(tfile, key, "", 1);
      }
    }
  }
});
var cmd_move_prev_level = (plugin) => ({
  id: "move_prev_level",
  name: plugin.strings.cmd_move_prev_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "J" }],
  icon: "arrow-left-from-line",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (level) {
        await plugin.editor.set_frontmatter(tfile, key, level.slice(1), 1);
      }
    }
  }
});
var cmd_insert_command_id = (plugin) => ({
  id: "insert_command_id",
  name: plugin.strings.cmd_insert_command_id,
  icon: "terminal",
  callback: async () => {
    var _a;
    let editor = (_a = plugin.app.workspace.getActiveFileView()) == null ? void 0 : _a.editor;
    if (!editor) {
      return;
    }
    let ids = {};
    Object.keys(
      plugin.app.commands.commands
    ).forEach(
      (x) => {
        ids[plugin.app.commands.commands[x].name] = x;
      }
    );
    let names = Object.keys(ids);
    let msg = plugin.utils.array_prefix_id(names);
    let cmd = await plugin.dialog_suggest(msg, names);
    if (cmd) {
      editor.replaceSelection(ids[cmd]);
    }
  }
});
var commandBuilders = [
  cmd_open_note,
  cmd_reveal_note,
  cmd_open_and_reveal_note,
  cmd_open_prev_note,
  cmd_open_next_note,
  cmd_open_prev_note_of_right_leaf,
  cmd_open_next_note_of_right_leaf,
  cmd_open_notes_smarter,
  cmd_longform2notechain,
  cmd_longform4notechain,
  cmd_sort_file_explorer,
  clear_inlinks,
  replace_notes_with_regx,
  move_file_to_another_folder,
  chain_insert_node,
  chain_set_seq_note,
  create_new_note,
  chain_move_up_node,
  chain_move_down_node,
  cmd_file_rename,
  cmd_mermaid_flowchart_link,
  cmd_mermaid_flowchart_folder,
  cmd_mermaid_flowchart_auto,
  cmd_execute_template_modal,
  cmd_toogle_css_block_in_note,
  cmd_set_frontmatter,
  cmd_move_next_level,
  cmd_move_none_level,
  cmd_move_prev_level,
  cmd_insert_command_id
];
var commandBuildersDesktop = [
  cmd_file_open_with_system_app,
  cmd_file_show_in_system_explorer
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
  if (plugin.app.isMobile == false) {
    commandBuildersDesktop.forEach((c) => {
      plugin.addCommand(c(plugin));
    });
  }
}

// src/gui/inputSuggester.ts
var import_obsidian10 = require("obsidian");
var InputSuggester = class extends import_obsidian10.FuzzySuggestModal {
  constructor(app, displayItems, items, options = {}, new_value = false) {
    super(app);
    this.displayItems = displayItems;
    this.items = items;
    this.new_value = new_value;
    this.promise = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.inputEl.addEventListener("keydown", (event) => {
      var _a;
      if (event.code !== "Tab") {
        return;
      }
      const self = this;
      const { values, selectedItem } = self.chooser;
      const { value } = this.inputEl;
      this.inputEl.value = (_a = values[selectedItem].item) != null ? _a : value;
    });
    if (options.placeholder)
      this.setPlaceholder(options.placeholder);
    if (options.limit)
      this.limit = options.limit;
    if (options.emptyStateText)
      this.emptyStateText = options.emptyStateText;
    this.open();
  }
  static Suggest(app, displayItems, items, options = {}, new_value = false) {
    const newSuggester = new InputSuggester(
      app,
      displayItems,
      items,
      options,
      new_value
    );
    return newSuggester.promise;
  }
  getItemText(item) {
    if (item === this.inputEl.value)
      return item;
    return this.displayItems[this.items.indexOf(item)];
  }
  getItems() {
    if (this.inputEl.value === "" || !this.new_value)
      return this.items;
    return [...this.items, this.inputEl.value];
  }
  selectSuggestion(value, evt) {
    this.resolved = true;
    super.selectSuggestion(value, evt);
  }
  onChooseItem(item, evt) {
    this.resolved = true;
    this.resolvePromise(item);
  }
  onClose() {
    super.onClose();
    if (!this.resolved)
      this.rejectPromise("no input given.");
  }
};
async function dialog_suggest(displayItems, items, placeholder = "", new_value = false) {
  try {
    return await InputSuggester.Suggest(
      this.app,
      displayItems,
      items,
      {
        placeholder
      },
      new_value
    );
  } catch (error) {
    return null;
  }
}

// src/gui/inputPrompt.ts
var import_obsidian11 = require("obsidian");
var InputPrompt = class extends import_obsidian11.Modal {
  constructor(app, header, placeholder, value) {
    super(app);
    this.header = header;
    this.didSubmit = false;
    this.submitClickCallback = (evt) => this.submit();
    this.cancelClickCallback = (evt) => this.cancel();
    this.submitEnterCallback = (evt) => {
      if (!evt.isComposing && evt.key === "Enter") {
        evt.preventDefault();
        this.submit();
      }
    };
    this.placeholder = placeholder != null ? placeholder : "";
    this.input = value != null ? value : "";
    this.waitForClose = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.display();
    this.open();
  }
  static Prompt(app, header, placeholder, value) {
    const newPromptModal = new InputPrompt(
      app,
      header,
      placeholder,
      value
    );
    return newPromptModal.waitForClose;
  }
  display() {
    this.containerEl.addClass("quickAddModal", "qaInputPrompt");
    this.contentEl.empty();
    this.titleEl.textContent = this.header;
    const mainContentContainer = this.contentEl.createDiv();
    this.inputComponent = this.createInputField(
      mainContentContainer,
      this.placeholder,
      this.input
    );
    this.createButtonBar(mainContentContainer);
  }
  createInputField(container, placeholder, value) {
    const textComponent = new import_obsidian11.TextComponent(container);
    textComponent.inputEl.style.width = "100%";
    textComponent.setPlaceholder(placeholder != null ? placeholder : "").setValue(value != null ? value : "").onChange((value2) => this.input = value2).inputEl.addEventListener("keydown", this.submitEnterCallback);
    return textComponent;
  }
  createButton(container, text, callback) {
    const btn = new import_obsidian11.ButtonComponent(container);
    btn.setButtonText(text).onClick(callback);
    return btn;
  }
  createButtonBar(mainContentContainer) {
    const buttonBarContainer = mainContentContainer.createDiv();
    this.createButton(
      buttonBarContainer,
      "Ok",
      this.submitClickCallback
    ).setCta().buttonEl.style.marginRight = "0";
    this.createButton(
      buttonBarContainer,
      "Cancel",
      this.cancelClickCallback
    );
    buttonBarContainer.style.display = "flex";
    buttonBarContainer.style.flexDirection = "row-reverse";
    buttonBarContainer.style.justifyContent = "flex-start";
    buttonBarContainer.style.marginTop = "1rem";
    buttonBarContainer.style.gap = "0.5rem";
  }
  submit() {
    this.didSubmit = true;
    this.close();
  }
  cancel() {
    this.close();
  }
  resolveInput() {
    if (!this.didSubmit)
      this.rejectPromise("No input given.");
    else
      this.resolvePromise(this.input);
  }
  removeInputListener() {
    this.inputComponent.inputEl.removeEventListener(
      "keydown",
      this.submitEnterCallback
    );
  }
  onOpen() {
    super.onOpen();
    this.inputComponent.inputEl.focus();
    this.inputComponent.inputEl.select();
  }
  onClose() {
    super.onClose();
    this.resolveInput();
    this.removeInputListener();
  }
};
async function dialog_prompt(header = "Input", placeholder = "", value = "") {
  try {
    return await InputPrompt.Prompt(
      this.app,
      header,
      placeholder,
      value
    );
  } catch (e) {
    return null;
  }
}

// main.ts
var NoteChainPlugin = class extends import_obsidian12.Plugin {
  async onload() {
    this.dialog_suggest = dialog_suggest;
    this.dialog_prompt = dialog_prompt;
    this.status = "waiting";
    this.app.workspace.onLayoutReady(
      async () => {
        await this._onload_();
        this._after_loading_();
      }
    );
  }
  async _after_loading_() {
    var _a, _b;
    while (!((_a = this.app.plugins) == null ? void 0 : _a.plugins["note-chain"])) {
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    this.app.commands.executeCommandById(
      "dataview:dataview-force-refresh-views"
    );
    let target = await this.app.plugins.getPlugin("obsidian-tasks-plugin");
    target && target.cache.notifySubscribers();
    return (_b = this.app.plugins) == null ? void 0 : _b.plugins["note-chain"];
  }
  async _onload_() {
    this.status = "loading";
    this.debug = true;
    await this.loadSettings();
    this.utils = (init_utils(), __toCommonJS(utils_exports));
    this.ob = require("obsidian");
    this.editor = new NCEditor(this);
    this.chain = new NoteChain(this, this.editor);
    this.explorer = new NCFileExplorer(this);
    this.mermaid = new MermaidGraph(this);
    this.canvas = new CanvasGraph(this);
    this.strings = new Strings();
    addCommands(this);
    this.addSettingTab(new NCSettingTab(this.app, this));
    this.registerEvent(
      this.app.workspace.on("file-open", this.ufunc_on_file_open.bind(this))
    );
    this.registerEvent(this.app.vault.on(
      "delete",
      async (file) => {
        await this.chain.chain_pop_node(file);
        await this.explorer.sort();
      }
    ));
    this.registerEvent(this.app.vault.on(
      "create",
      async () => {
        await sleep(500);
        this.explorer.sort(0, true);
      }
    ));
    this.registerEvent(this.app.vault.on(
      "rename",
      async (file, oldPath) => {
        let oldFolder = this.app.vault.getFolderByPath(
          oldPath.slice(0, oldPath.lastIndexOf("/"))
        );
        oldFolder && this.chain.refresh_folder(oldFolder);
        this.chain.refresh_tfile(file);
        this.explorer.sort();
        this.explorer.set_fileitem_style_of_file(file);
      }
    ));
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian12.TFile) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_create_next_note).setIcon("file-plus").onClick(async () => {
              let filename = await this.dialog_prompt("File name");
              if (!filename) {
                return;
              }
              let dst = file.parent ? file.parent.path + "/" + filename + ".md" : filename + ".md";
              if (this.chain.get_tfile(dst)) {
                new import_obsidian12.Notice("Exists:" + file.path, 3e3);
              } else {
                let tfile = await this.app.vault.create(dst, "");
                await this.chain.chain_insert_node_after(tfile, file);
                await this.editor.set_frontmatter_align_file(
                  file,
                  tfile,
                  this.settings.field_of_confluence_tab_format
                );
                await this.chain.open_note(tfile, false, false);
              }
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian12.TFile && file.extension == "md") {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              let anchor = await this.chain.sugguster_note();
              if (anchor) {
                await this.chain.chain_insert_node_after(file, anchor);
                await this.editor.set_frontmatter_align_file(
                  anchor,
                  file,
                  this.settings.field_of_confluence_tab_format
                );
                if (file.parent != anchor.parent) {
                  let dst = anchor.parent.path + "/" + file.name;
                  await this.app.fileManager.renameFile(file, dst);
                }
                this.explorer.sort();
              }
            });
          });
        } else if (file instanceof import_obsidian12.TFolder) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              var _a;
              let notes = (_a = file.parent) == null ? void 0 : _a.children;
              if (notes) {
                let anchor = await this.dialog_suggest(
                  (f) => f.name,
                  notes.filter((x) => x instanceof import_obsidian12.TFile)
                );
                let note = this.chain.get_tfile(file.path + "/" + file.name + ".md");
                if (!note) {
                  note = await this.app.vault.create(
                    file.path + "/" + file.name + ".md",
                    ""
                  );
                }
                await this.editor.set_multi_frontmatter(
                  note,
                  {
                    "FolderPrevNote": `[[${anchor.basename}]]`,
                    "FolderPrevNoteOffset": 0.5
                  }
                );
                this.chain.refresh_tfile(file);
                await this.explorer.sort(0, false);
              }
            });
          });
        }
        let selector = document.querySelectorAll(
          ".tree-item-self.is-selected"
        );
        let items = Object.values(selector).map((x) => {
          var _a;
          return (_a = x.dataset) == null ? void 0 : _a.path;
        });
        let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
        if (tfiles.length > 1) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_notes).setIcon("hand").onClick(async () => {
              tfiles = this.chain.sort_tfiles_by_chain(tfiles);
              let notes = this.chain.get_all_tfiles();
              notes = notes.filter((x) => !tfiles.contains(x));
              let anchor = await this.chain.sugguster_note(notes);
              if (!anchor) {
                return;
              }
              for (let tfile of tfiles) {
                if (tfile.parent.path != anchor.parent.path) {
                  let dst = anchor.parent.path + "/" + tfile.name;
                  await this.app.fileManager.renameFile(tfile, dst);
                }
                await this.chain.chain_pop_node(tfile);
              }
              tfiles.unshift(anchor);
              let anchor_next = this.chain.get_next_note(anchor);
              if (anchor_next) {
                tfiles.push(anchor_next);
              }
              await this.chain.chain_concat_tfiles(tfiles);
              for (let dst of tfiles.slice(1, tfiles.length - 1)) {
                await this.editor.set_frontmatter_align_file(
                  anchor,
                  dst,
                  this.settings.field_of_confluence_tab_format
                );
              }
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.metadataCache.on(
        "changed",
        async (file, data, cache) => {
          if (file == this.chain.current_note) {
            clearTimeout(this.timerId);
          }
          let timerId = setTimeout(async () => {
            if (file.parent) {
              this.chain.children[file.parent.path] = this.chain.sort_tfiles_by_chain(
                file.parent.children
              );
            }
            this.explorer.sort(0, false);
            if (this.settings.field_of_display_text) {
              let txt = this.explorer.get_display_text(file);
              let items = this.explorer.file_explorer.fileItems;
              this.explorer._set_display_text_(items[file.path], txt);
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              this.explorer._set_display_text_(canvas, txt);
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_display_text);
                let prev = file.note_chain_display_field;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let txt2 = this.explorer.get_display_text(item.file);
                      this.explorer._set_display_text_(item, txt2);
                    }
                  }
                }
                file.note_chain_display_field = field;
              }
            }
            if (this.settings.field_of_background_color) {
              let style = await this.explorer.get_fileitem_style(file);
              await this.explorer.set_fileitem_style_of_file(file, style);
              let items = this.explorer.file_explorer.fileItems;
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              if (canvas) {
                await this.explorer.set_fileitem_style_of_file(canvas.file, style);
              }
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_background_color);
                let prev = file.note_chain_bgcolor;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let style2 = await this.explorer.get_fileitem_style(item.file);
                      await this.explorer.set_fileitem_style_of_file(item.file, style2);
                    }
                  }
                }
                file.note_chain_bgcolor = field;
              }
            }
          }, 500);
          if (file == this.chain.current_note) {
            this.timerId = this.timerId;
          }
        }
      )
    );
    this.wordcout = new WordCount(this, this.app);
    this.textarea = new NCTextarea(this);
    this.status = "loaded";
  }
  async onunload() {
    await this.explorer.unregister();
    await this.explorer.sort();
  }
  async ufunc_on_file_open(file) {
    var _a, _b;
    if (this.settings.refreshDataView) {
      this.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (this.settings.refreshTasks) {
      let target = await this.app.plugins.getPlugin("obsidian-tasks-plugin");
      target && target.cache.notifySubscribers();
    }
    if (this.settings.auto_notechain) {
      let notes = this.chain.get_brothers(file);
      if (notes.length == 0) {
        return;
      }
      let xfolders = this.settings.wordcountxfolder.split("\n").filter((x) => x != "");
      for (let item of xfolders) {
        if (file.path.startsWith(item)) {
          return false;
        } else if (item == "/") {
          if (((_a = file.parent) == null ? void 0 : _a.path) == "/") {
            return false;
          }
        }
      }
      if ((_b = this.explorer) == null ? void 0 : _b.file_explorer) {
        notes = this.chain.sort_tfiles(notes, this.explorer.file_explorer.sortOrder);
        notes = this.chain.sort_tfiles(notes, "chain");
        await this.chain.chain_concat_tfiles(notes);
        this.explorer.sort();
      }
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode = "suggester") {
    if (tfile == null) {
      return;
    }
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode === "suggester") {
        mode = await this.dialog_suggest(
          ["delete links", "replace links", "delete paragraph with links"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.dialog_prompt("Enter the regular expression to replace.");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.dialog_prompt("Enter the target string.");
        if (target == null) {
          return;
        }
        target = target.replace(
          /\\n/g,
          "\n"
        );
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
      }
    }
  }
  async cmd_chain_insert_node() {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
    if (tfiles.length > 1) {
      tfiles = this.chain.sort_tfiles_by_chain(tfiles);
      let notes2 = this.chain.get_all_tfiles();
      notes2 = notes2.filter((x) => !tfiles.contains(x));
      let anchor = await this.chain.sugguster_note(notes2);
      if (!anchor) {
        return;
      }
      for (let tfile of tfiles) {
        if (tfile.parent.path != anchor.parent.path) {
          let dst = anchor.parent.path + "/" + tfile.name;
          await this.app.fileManager.renameFile(tfile, dst);
        }
        await this.chain.chain_pop_node(tfile);
      }
      tfiles.unshift(anchor);
      let anchor_next = this.chain.get_next_note(anchor);
      if (anchor_next) {
        tfiles.push(anchor_next);
      }
      await this.chain.chain_concat_tfiles(tfiles);
      return;
    }
    let curr = this.chain.current_note;
    if (curr == null) {
      return;
    }
    let smode = this.strings[this.settings.suggesterNotesMode];
    let notes = await this.chain.suggester_notes(curr, false, smode);
    if (!notes) {
      return;
    }
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.dialog_suggest(
      this.utils.array_prefix_id(
        notes.map((file) => this.tfile_to_string(file, [], ""))
      ),
      notes
    );
    if (!note) {
      return;
    }
    let sitems = [
      this.strings.item_insert_node_after,
      this.strings.item_insert_node_before,
      this.strings.item_insert_node_as_head,
      this.strings.item_insert_node_as_tail,
      this.strings.item_insert_folder_after
    ];
    let mode = await this.dialog_suggest(
      this.utils.array_prefix_id(sitems),
      sitems,
      false,
      this.strings.item_insert_suggester
    );
    if (!mode) {
      return;
    }
    if (mode === this.strings.item_insert_node_as_head) {
      await this.chain.chain_insert_node_as_head(curr, note);
    } else if (mode === this.strings.item_insert_node_as_tail) {
      await this.chain.chain_insert_node_as_tail(curr, note);
    } else if (mode === this.strings.item_insert_node_before) {
      await this.chain.chain_insert_node_before(curr, note);
      await this.editor.set_frontmatter_align_file(
        note,
        curr,
        this.settings.field_of_confluence_tab_format
      );
    } else if (mode === this.strings.item_insert_node_after) {
      await this.chain.chain_insert_node_after(curr, note);
      await this.editor.set_frontmatter_align_file(
        note,
        curr,
        this.settings.field_of_confluence_tab_format
      );
    } else if (mode === this.strings.item_insert_folder_after) {
      await this.chain.chain_insert_folder_after(curr, note);
    } else {
      return;
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let items = new Array();
    if (tfile == this.chain.current_note) {
      items.push("\u{1F3E0}" + tfile.basename);
    } else {
      items.push(tfile.basename);
    }
    for (let field of fields) {
      try {
        items.push(this.editor.get_frontmatter(tfile, field));
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    if (notes.length > 0) {
      let note = await this.dialog_suggest(
        this.utils.array_prefix_id(
          notes.map((file) => this.chain.tfile_to_string(file))
        ),
        notes
      );
      if (note) {
        await this.chain.open_note(note);
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9jb21tb24uanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2V4Y2VwdGlvbi5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvc25pcHBldC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvc2NoZW1hLmpzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL3N0ci5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9zZXEuanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvbWFwLmpzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9zY2hlbWEvZmFpbHNhZmUuanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvbnVsbC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9ib29sLmpzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL2ludC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9mbG9hdC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvc2NoZW1hL2pzb24uanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3NjaGVtYS9jb3JlLmpzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi90eXBlL3RpbWVzdGFtcC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9tZXJnZS5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9iaW5hcnkuanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3R5cGUvb21hcC5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9wYWlycy5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9saWIvdHlwZS9zZXQuanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL3NjaGVtYS9kZWZhdWx0LmpzIiwgIm5vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9sb2FkZXIuanMiLCAibm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2R1bXBlci5qcyIsICJub2RlX21vZHVsZXMvanMteWFtbC9pbmRleC5qcyIsICJtYWluLnRzIiwgInNyYy9OQ0VkaXRvci50cyIsICJzcmMvTm90ZUNoYWluLnRzIiwgInNyYy9OQ01vZGFsLnRzIiwgInNyYy9OQ1RleHRhcmVhLnRzIiwgInNyYy9OQ0ZpbGVFeHBsb3Jlci50cyIsICJzcmMvc3RyaW5ncy50cyIsICJzcmMvV29yZENvdW50LnRzIiwgInNyYy9ncmFwaC50cyIsICJzcmMvc2V0dGluZy50cyIsICJzcmMvY29tbWFuZHMudHMiLCAic3JjL2d1aS9pbnB1dFN1Z2dlc3Rlci50cyIsICJzcmMvZ3VpL2lucHV0UHJvbXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBvbiB9IGZyb20gJ2V2ZW50cyc7XHJcbmltcG9ydCB7IGdldCB9IGZyb20gJ2h0dHAnO1xyXG5pbXBvcnQgeyBcclxuXHRBcHAsXHJcbiAgICBURmlsZSxcclxuICAgIE5vdGljZSxcclxuICAgIFRGb2xkZXIsXHJcbiAgICBUQWJzdHJhY3RGaWxlXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9wbHVnaW5zKGFwcDpBcHAsbmFtZTpzdHJpbmcpe1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5X3ByZWZpeF9pZChpdGVtczpBcnJheTxhbnk+LG9mZnNldD0xKXtcclxuICAgIGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgIGxldCBOID0gaXRlbXMubGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoO1xyXG4gICAgZm9yKGxldCBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtcclxuICAgICAgICBsZXQgaWQgPSAgKGkgKyBvZmZzZXQpLnRvU3RyaW5nKCkucGFkU3RhcnQoTiwgJzAnKTtcclxuICAgICAgICByZXMucHVzaChgJHtpZH0gXHVEODNEXHVERDI1ICR7aXRlbXNbaV19YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0X2FycmF5KGl0ZW1zOkFycmF5PGFueT4pe1xyXG4gICAgaWYoaXRlbXM9PW51bGwpe3JldHVybiBbXTt9XHJcbiAgICBpZih0eXBlb2YgaXRlbXMgPT09ICdzdHJpbmcnKXtyZXR1cm4gW2l0ZW1zXTt9XHJcbiAgICBpZighKGl0ZW1zIGluc3RhbmNlb2YgQXJyYXkpKXtyZXR1cm4gW2l0ZW1zXTt9XHJcblxyXG4gICAgbGV0IHJlcyA9IFtdIGFzIGFueSBbXTtcclxuICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcbiAgICAgICAgaWYodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgcmVzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfWVsc2UgaWYoaXRlbSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdCh0aGlzLmNvbmNhdF9hcnJheShpdGVtKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn0gIFxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrX3ZhbHVlKHQ6YW55LGs6YW55LHY6YW55LGR0Om51bWJlcixUOm51bWJlcil7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICB3aGlsZSh0W2tdPT1udWxsIHx8ICEodFtrXT09PXYpKXtcclxuICAgICAgICBhd2FpdCBzbGVlcChkdCk7XHJcbiAgICAgICAgaSA9IGR0K2R0O1xyXG4gICAgICAgIGlmKGk+VCl7YnJlYWs7fVxyXG4gICAgfVxyXG4gICAgaWYodFtrXSAmJiB0W2tdPT09dil7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfdHBfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuXHJcblx0bGV0IHRlbXBsYXRlciA9IChhcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFwidGVtcGxhdGVyLW9ic2lkaWFuXCJcclxuXHQpO1xyXG4gICAgaWYoIXRlbXBsYXRlcil7cmV0dXJuIG51bGx9XHJcblx0bGV0IGl0ZW1zID0gdGFyZ2V0LnNwbGl0KFwiLlwiKTtcclxuXHRpZihpdGVtc1swXS5sb2NhbGVDb21wYXJlKFwidHBcIikhPTAgfHwgaXRlbXMubGVuZ3RoIT0zKXtyZXR1cm4gdW5kZWZpbmVkO31cclxuXHRcclxuXHRsZXQgbW9kdWxlcyA9IHRlbXBsYXRlci50ZW1wbGF0ZXIuZnVuY3Rpb25zX2dlbmVyYXRvci5cclxuXHRcdGludGVybmFsX2Z1bmN0aW9ucy5tb2R1bGVzX2FycmF5LmZpbHRlcihcclxuXHRcdFx0KGl0ZW06YW55KT0+KGl0ZW0ubmFtZS5sb2NhbGVDb21wYXJlKGl0ZW1zWzFdKT09MClcclxuXHRcdCk7XHJcblxyXG5cdGlmKG1vZHVsZXMubGVuZ3RoPT0wKXtyZXR1cm4gdW5kZWZpbmVkfVxyXG5cdFxyXG5cdHJldHVybiBtb2R1bGVzWzBdLnN0YXRpY19mdW5jdGlvbnMuZ2V0KGl0ZW1zWzJdKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF90cF91c2VyX2Z1bmMoYXBwOkFwcCx0YXJnZXQ6c3RyaW5nKSB7XHJcblx0Ly8gXHU4M0I3XHU1M0Q2ICB0ZW1wbGF0ZXIgXHU1MUZEXHU2NTcwXHJcblx0Ly8gZ2V0X3RwX2Z1bmMoXCJ0cC5zeXN0ZW0ucHJvbXB0XCIpXHJcbiAgICBpZighdGFyZ2V0Lm1hdGNoKC9edHBcXC51c2VyXFwuXFx3KyQvKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHRsZXQgdGVtcGxhdGVyID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIlxyXG5cdCk7XHJcbiAgICBpZighdGVtcGxhdGVyKXtyZXR1cm4gbnVsbH1cclxuXHJcblx0bGV0IGl0ZW1zID0gdGFyZ2V0LnNwbGl0KFwiLlwiKTtcclxuXHRpZihpdGVtc1swXS5sb2NhbGVDb21wYXJlKFwidHBcIikhPTAgfHwgaXRlbXNbMV0ubG9jYWxlQ29tcGFyZShcInVzZXJcIikhPTAgfHwgaXRlbXMubGVuZ3RoIT0zKXtyZXR1cm4gdW5kZWZpbmVkO31cclxuXHRcclxuICAgIGxldCBmdW5jcyAgPSBhd2FpdCB0ZW1wbGF0ZXIudGVtcGxhdGVyLlxyXG4gICAgICAgIGZ1bmN0aW9uc19nZW5lcmF0b3IuXHJcbiAgICAgICAgdXNlcl9mdW5jdGlvbnMuXHJcbiAgICAgICAgdXNlcl9zY3JpcHRfZnVuY3Rpb25zLlxyXG4gICAgICAgIGdlbmVyYXRlX3VzZXJfc2NyaXB0X2Z1bmN0aW9ucygpO1xyXG4gICAgcmV0dXJuIGZ1bmNzLmdldChpdGVtc1syXSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9jdXN0b21qc19mdW5jKHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuICAgIGlmKCF0YXJnZXQubWF0Y2goL14oY0pTfGN1c3RvbUpTfGN1c3RvbWpzfGN1c3RvbUpzKShcXC5cXHcrKSskLykpe1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoJy4nKVxyXG4gICAgaWYod2luZG93Lmhhc093blByb3BlcnR5KCdjSlMnKSl7XHJcbiAgICAgICAgbGV0IGNKUyA9ICh3aW5kb3cgYXMgYW55KVsnY0pTJ11cclxuICAgICAgICBsZXQgdG1wID0gYXdhaXQgY0pTKClcclxuICAgICAgICBmb3IobGV0IGZpZWxkIG9mIGl0ZW1zLnNsaWNlKDEpKXtcclxuICAgICAgICAgICAgdG1wID0gdG1wW2ZpZWxkXVxyXG4gICAgICAgICAgICBpZighdG1wKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRtcFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X3N0cl9mdW5jKGFwcDpBcHAsdGFyZ2V0OnN0cmluZykge1xyXG5cclxuICAgIGxldCB1ZnVuYyA9IGF3YWl0IGdldF90cF9mdW5jKGFwcCx0YXJnZXQpXHJcbiAgICBpZih1ZnVuYyl7cmV0dXJuIHVmdW5jfVxyXG5cclxuICAgIHVmdW5jID0gYXdhaXQgZ2V0X3RwX3VzZXJfZnVuYyhhcHAsdGFyZ2V0KVxyXG4gICAgaWYodWZ1bmMpe3JldHVybiB1ZnVuY31cclxuXHJcbiAgICB1ZnVuYyA9IGF3YWl0IGdldF9jdXN0b21qc19mdW5jKHRhcmdldClcclxuICAgIGlmKHVmdW5jKXtyZXR1cm4gdWZ1bmN9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZW1wbGF0ZXIkMShhcHA6QXBwLHRlbXBsYXRlOnN0cmluZ3xURmlsZSwgYWN0aXZlX2ZpbGU6VEZpbGV8bnVsbCwgdGFyZ2V0X2ZpbGU6VEZpbGV8bnVsbCxleHRyYT1udWxsKSB7XHJcblx0Y29uc3QgY29uZmlnID0ge1xyXG5cdFx0dGVtcGxhdGVfZmlsZTogdGVtcGxhdGUsXHJcblx0XHRhY3RpdmVfZmlsZTogYWN0aXZlX2ZpbGUsXHJcblx0XHR0YXJnZXRfZmlsZTogdGFyZ2V0X2ZpbGUsXHJcbiAgICAgICAgZXh0cmE6IGV4dHJhLFxyXG5cdFx0cnVuX21vZGU6IFwiRHluYW1pY1Byb2Nlc3NvclwiLFxyXG5cdH07XHJcblx0Y29uc3QgcGx1Z2lucyA9IChhcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnM7XHJcblx0Y29uc3QgZXhpc3RzID0gcGx1Z2luc1tcInRlbXBsYXRlci1vYnNpZGlhblwiXTtcclxuXHRpZiAoIWV4aXN0cykge1xyXG5cdFx0bmV3IE5vdGljZShcIlRlbXBsYXRlciBpcyBub3QgaW5zdGFsbGVkLiBQbGVhc2UgaW5zdGFsbCBpdC5cIik7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG5cdC8vIEB0cy1pZ25vcmVcclxuXHRjb25zdCB7dGVtcGxhdGVyfSA9IHBsdWdpbnNbXCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIl07XHJcblx0Y29uc3QgZnVuY3Rpb25zID0gYXdhaXQgdGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IuaW50ZXJuYWxfZnVuY3Rpb25zLmdlbmVyYXRlX29iamVjdChjb25maWcpO1xyXG5cdGZ1bmN0aW9ucy51c2VyID0ge307XHJcblx0Y29uc3QgdXNlclNjcmlwdEZ1bmN0aW9ucyA9IGF3YWl0IHRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLnVzZXJfZnVuY3Rpb25zLnVzZXJfc2NyaXB0X2Z1bmN0aW9ucy5nZW5lcmF0ZV91c2VyX3NjcmlwdF9mdW5jdGlvbnMoY29uZmlnKTtcclxuXHR1c2VyU2NyaXB0RnVuY3Rpb25zLmZvckVhY2goKHZhbHVlOmFueSxrZXk6YW55KT0+e1xyXG5cdFx0ZnVuY3Rpb25zLnVzZXJba2V5XSA9IHZhbHVlO1xyXG5cdH1cclxuXHQpO1xyXG5cdGlmICh0ZW1wbGF0ZSkge1xyXG5cdFx0Y29uc3QgdXNlclN5c3RlbUZ1bmN0aW9ucyA9IGF3YWl0IHRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLnVzZXJfZnVuY3Rpb25zLnVzZXJfc3lzdGVtX2Z1bmN0aW9ucy5nZW5lcmF0ZV9zeXN0ZW1fZnVuY3Rpb25zKGNvbmZpZyk7XHJcblx0XHR1c2VyU3lzdGVtRnVuY3Rpb25zLmZvckVhY2goKHZhbHVlOmFueSxrZXk6YW55KT0+e1xyXG5cdFx0XHRmdW5jdGlvbnMudXNlcltrZXldID0gdmFsdWU7XHJcblx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHRyZXR1cm4gYXN5bmMoY29tbWFuZDphbnkpPT57XHJcblx0XHRyZXR1cm4gYXdhaXQgdGVtcGxhdGVyLnBhcnNlci5wYXJzZV9jb21tYW5kcyhjb21tYW5kLCBmdW5jdGlvbnMpO1xyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZV90ZW1wbGF0ZXIoYXBwOkFwcCx0ZW1wbGF0ZTpzdHJpbmd8VEZpbGUsZXh0cmFjdD10cnVlLGV4dHJhPW51bGwpIHtcclxuICAgIGxldCBuYyA9KGFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XHJcbiAgICBpZighbmMpe3JldHVybjt9XHJcbiAgICBcclxuICAgIGxldCBmaWxlID0gbmMuY2hhaW4uZ2V0X3RmaWxlKHRlbXBsYXRlKVxyXG4gICAgaWYoZmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGUgPSBmaWxlXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJsb2NrczpBcnJheTxzdHJpbmc+O1xyXG4gICAgbGV0IHRlbXBsYXRlX2ZpbGUgPSBudWxsO1xyXG4gICAgaWYodGVtcGxhdGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGVfZmlsZSA9IHRlbXBsYXRlXHJcbiAgICAgICAgaWYoZXh0cmFjdCl7XHJcbiAgICAgICAgICAgIGJsb2NrcyA9IGF3YWl0IG5jLmVkaXRvci5leHRyYWN0X3RlbXBsYXRlcl9ibG9jayh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gYXdhaXQgYXBwLnZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGUpXHJcbiAgICAgICAgICAgIGJsb2NrcyA9IFtpdGVtXVxyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIGlmKGV4dHJhY3Qpe1xyXG4gICAgICAgICAgICBibG9ja3MgPSBhd2FpdCBuYy5lZGl0b3IuZXh0cmFjdF90ZW1wbGF0ZXJfYmxvY2sodGVtcGxhdGUpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBibG9ja3MgPSBbdGVtcGxhdGVdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZighdGVtcGxhdGVfZmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGVfZmlsZSA9ICcnXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBhY3RpdmVfZmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG4gICAgXHJcbiAgICBsZXQgbm90ZXMgPSBhcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgaWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG4gICAgbGV0IHRhcmdldF9maWxlID0gIG5vdGVzWzBdO1xyXG4gICAgbGV0IHRlbXBsYXRlRnVuYyA9IGF3YWl0IHRlbXBsYXRlciQxKGFwcCx0ZW1wbGF0ZV9maWxlLGFjdGl2ZV9maWxlLHRhcmdldF9maWxlLGV4dHJhPWV4dHJhKTtcclxuICAgIGlmKHRlbXBsYXRlRnVuYyl7XHJcbiAgICAgICAgbGV0IHJlcyA9IFtdXHJcbiAgICAgICAgZm9yKGxldCBibG9jayBvZiBibG9ja3Mpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGF3YWl0IHRlbXBsYXRlRnVuYyhibG9jayk7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvb2dsZV9ub3RlX2NzcyhhcHA6QXBwLGRvY3VtZW50OmFueSxuYW1lOnN0cmluZyxyZWZyZXNoPWZhbHNlKSB7XHJcbiAgICBsZXQgbmMgPSAoYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuICAgIGxldCB0ZmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShuYW1lKTtcclxuICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgbGV0IHRmaWxlcztcclxuICAgICAgICBpZihuYW1lPT0nLycpe1xyXG4gICAgICAgICAgICB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYWxsX3RmaWxlcygpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBmb2xkZXIgPSBuYy5jaGFpbi5nZXRfYWxsX2ZvbGRlcnMoKS5maWx0ZXIoKHg6VEZvbGRlcik9PngubmFtZT09bmFtZSlcclxuICAgICAgICAgICAgaWYoZm9sZGVyLmxlbmd0aD09MCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGZpbGVzID0gbmMudXRpbHMuY29uY2F0X2FycmF5KFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyLm1hcCgoeDpURm9sZGVyKT0+bmMuY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoeCkpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRmaWxlcy5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRmaWxlID0gYXdhaXQgbmMuY2hhaW4uc3VnZ3VzdGVyX25vdGUodGZpbGVzKVxyXG4gICAgICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZmlsZS5iYXNlbmFtZSk7XHJcbiAgICBpZihsaW5rICYmICFyZWZyZXNoKXtcclxuICAgICAgICBsaW5rLnJlbW92ZSgpXHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsZXQgY3NzID0gYXdhaXQgbmMuZWRpdG9yLmV4dHJhY3RfY29kZV9ibG9jayh0ZmlsZSwnY3NzJylcclxuICAgICAgICBsZXQgaW5uZXIgPSBjc3Muam9pbignXFxuJylcclxuICAgICAgICBpZihsaW5rKXtcclxuICAgICAgICAgICAgbGluay5pbm5lckhUTUwgPSBpbm5lclxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihpbm5lciE9Jycpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcclxuICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUw9aW5uZXI7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSB0ZmlsZS5iYXNlbmFtZTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsICIndXNlIHN0cmljdCc7XG5cblxuZnVuY3Rpb24gaXNOb3RoaW5nKHN1YmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHx8IChzdWJqZWN0ID09PSBudWxsKTtcbn1cblxuXG5mdW5jdGlvbiBpc09iamVjdChzdWJqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09ICdvYmplY3QnKSAmJiAoc3ViamVjdCAhPT0gbnVsbCk7XG59XG5cblxuZnVuY3Rpb24gdG9BcnJheShzZXF1ZW5jZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzZXF1ZW5jZSkpIHJldHVybiBzZXF1ZW5jZTtcbiAgZWxzZSBpZiAoaXNOb3RoaW5nKHNlcXVlbmNlKSkgcmV0dXJuIFtdO1xuXG4gIHJldHVybiBbIHNlcXVlbmNlIF07XG59XG5cblxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCBrZXksIHNvdXJjZUtleXM7XG5cbiAgaWYgKHNvdXJjZSkge1xuICAgIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgY291bnQpIHtcbiAgdmFyIHJlc3VsdCA9ICcnLCBjeWNsZTtcblxuICBmb3IgKGN5Y2xlID0gMDsgY3ljbGUgPCBjb3VudDsgY3ljbGUgKz0gMSkge1xuICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGlzTmVnYXRpdmVaZXJvKG51bWJlcikge1xuICByZXR1cm4gKG51bWJlciA9PT0gMCkgJiYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gMSAvIG51bWJlcik7XG59XG5cblxubW9kdWxlLmV4cG9ydHMuaXNOb3RoaW5nICAgICAgPSBpc05vdGhpbmc7XG5tb2R1bGUuZXhwb3J0cy5pc09iamVjdCAgICAgICA9IGlzT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMudG9BcnJheSAgICAgICAgPSB0b0FycmF5O1xubW9kdWxlLmV4cG9ydHMucmVwZWF0ICAgICAgICAgPSByZXBlYXQ7XG5tb2R1bGUuZXhwb3J0cy5pc05lZ2F0aXZlWmVybyA9IGlzTmVnYXRpdmVaZXJvO1xubW9kdWxlLmV4cG9ydHMuZXh0ZW5kICAgICAgICAgPSBleHRlbmQ7XG4iLCAiLy8gWUFNTCBlcnJvciBjbGFzcy4gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDU4OTg0XG4vL1xuJ3VzZSBzdHJpY3QnO1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGV4Y2VwdGlvbiwgY29tcGFjdCkge1xuICB2YXIgd2hlcmUgPSAnJywgbWVzc2FnZSA9IGV4Y2VwdGlvbi5yZWFzb24gfHwgJyh1bmtub3duIHJlYXNvbiknO1xuXG4gIGlmICghZXhjZXB0aW9uLm1hcmspIHJldHVybiBtZXNzYWdlO1xuXG4gIGlmIChleGNlcHRpb24ubWFyay5uYW1lKSB7XG4gICAgd2hlcmUgKz0gJ2luIFwiJyArIGV4Y2VwdGlvbi5tYXJrLm5hbWUgKyAnXCIgJztcbiAgfVxuXG4gIHdoZXJlICs9ICcoJyArIChleGNlcHRpb24ubWFyay5saW5lICsgMSkgKyAnOicgKyAoZXhjZXB0aW9uLm1hcmsuY29sdW1uICsgMSkgKyAnKSc7XG5cbiAgaWYgKCFjb21wYWN0ICYmIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQpIHtcbiAgICB3aGVyZSArPSAnXFxuXFxuJyArIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQ7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZSArICcgJyArIHdoZXJlO1xufVxuXG5cbmZ1bmN0aW9uIFlBTUxFeGNlcHRpb24ocmVhc29uLCBtYXJrKSB7XG4gIC8vIFN1cGVyIGNvbnN0cnVjdG9yXG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5uYW1lID0gJ1lBTUxFeGNlcHRpb24nO1xuICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgdGhpcy5tYXJrID0gbWFyaztcbiAgdGhpcy5tZXNzYWdlID0gZm9ybWF0RXJyb3IodGhpcywgZmFsc2UpO1xuXG4gIC8vIEluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIC8vIENocm9tZSBhbmQgTm9kZUpTXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRkYsIElFIDEwKyBhbmQgU2FmYXJpIDYrLiBGYWxsYmFjayBmb3Igb3RoZXJzXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2sgfHwgJyc7XG4gIH1cbn1cblxuXG4vLyBJbmhlcml0IGZyb20gRXJyb3JcbllBTUxFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuWUFNTEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBZQU1MRXhjZXB0aW9uO1xuXG5cbllBTUxFeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoY29tcGFjdCkge1xuICByZXR1cm4gdGhpcy5uYW1lICsgJzogJyArIGZvcm1hdEVycm9yKHRoaXMsIGNvbXBhY3QpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFlBTUxFeGNlcHRpb247XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBjb21tb24gPSByZXF1aXJlKCcuL2NvbW1vbicpO1xuXG5cbi8vIGdldCBzbmlwcGV0IGZvciBhIHNpbmdsZSBsaW5lLCByZXNwZWN0aW5nIG1heExlbmd0aFxuZnVuY3Rpb24gZ2V0TGluZShidWZmZXIsIGxpbmVTdGFydCwgbGluZUVuZCwgcG9zaXRpb24sIG1heExpbmVMZW5ndGgpIHtcbiAgdmFyIGhlYWQgPSAnJztcbiAgdmFyIHRhaWwgPSAnJztcbiAgdmFyIG1heEhhbGZMZW5ndGggPSBNYXRoLmZsb29yKG1heExpbmVMZW5ndGggLyAyKSAtIDE7XG5cbiAgaWYgKHBvc2l0aW9uIC0gbGluZVN0YXJ0ID4gbWF4SGFsZkxlbmd0aCkge1xuICAgIGhlYWQgPSAnIC4uLiAnO1xuICAgIGxpbmVTdGFydCA9IHBvc2l0aW9uIC0gbWF4SGFsZkxlbmd0aCArIGhlYWQubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxpbmVFbmQgLSBwb3NpdGlvbiA+IG1heEhhbGZMZW5ndGgpIHtcbiAgICB0YWlsID0gJyAuLi4nO1xuICAgIGxpbmVFbmQgPSBwb3NpdGlvbiArIG1heEhhbGZMZW5ndGggLSB0YWlsLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RyOiBoZWFkICsgYnVmZmVyLnNsaWNlKGxpbmVTdGFydCwgbGluZUVuZCkucmVwbGFjZSgvXFx0L2csICdcdTIxOTInKSArIHRhaWwsXG4gICAgcG9zOiBwb3NpdGlvbiAtIGxpbmVTdGFydCArIGhlYWQubGVuZ3RoIC8vIHJlbGF0aXZlIHBvc2l0aW9uXG4gIH07XG59XG5cblxuZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBtYXgpIHtcbiAgcmV0dXJuIGNvbW1vbi5yZXBlYXQoJyAnLCBtYXggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG5mdW5jdGlvbiBtYWtlU25pcHBldChtYXJrLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMgfHwgbnVsbCk7XG5cbiAgaWYgKCFtYXJrLmJ1ZmZlcikgcmV0dXJuIG51bGw7XG5cbiAgaWYgKCFvcHRpb25zLm1heExlbmd0aCkgb3B0aW9ucy5tYXhMZW5ndGggPSA3OTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluZGVudCAgICAgICE9PSAnbnVtYmVyJykgb3B0aW9ucy5pbmRlbnQgICAgICA9IDE7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5saW5lc0JlZm9yZSAhPT0gJ251bWJlcicpIG9wdGlvbnMubGluZXNCZWZvcmUgPSAzO1xuICBpZiAodHlwZW9mIG9wdGlvbnMubGluZXNBZnRlciAgIT09ICdudW1iZXInKSBvcHRpb25zLmxpbmVzQWZ0ZXIgID0gMjtcblxuICB2YXIgcmUgPSAvXFxyP1xcbnxcXHJ8XFwwL2c7XG4gIHZhciBsaW5lU3RhcnRzID0gWyAwIF07XG4gIHZhciBsaW5lRW5kcyA9IFtdO1xuICB2YXIgbWF0Y2g7XG4gIHZhciBmb3VuZExpbmVObyA9IC0xO1xuXG4gIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKG1hcmsuYnVmZmVyKSkpIHtcbiAgICBsaW5lRW5kcy5wdXNoKG1hdGNoLmluZGV4KTtcbiAgICBsaW5lU3RhcnRzLnB1c2gobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuXG4gICAgaWYgKG1hcmsucG9zaXRpb24gPD0gbWF0Y2guaW5kZXggJiYgZm91bmRMaW5lTm8gPCAwKSB7XG4gICAgICBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMjtcbiAgICB9XG4gIH1cblxuICBpZiAoZm91bmRMaW5lTm8gPCAwKSBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMTtcblxuICB2YXIgcmVzdWx0ID0gJycsIGksIGxpbmU7XG4gIHZhciBsaW5lTm9MZW5ndGggPSBNYXRoLm1pbihtYXJrLmxpbmUgKyBvcHRpb25zLmxpbmVzQWZ0ZXIsIGxpbmVFbmRzLmxlbmd0aCkudG9TdHJpbmcoKS5sZW5ndGg7XG4gIHZhciBtYXhMaW5lTGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGggLSAob3B0aW9ucy5pbmRlbnQgKyBsaW5lTm9MZW5ndGggKyAzKTtcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNCZWZvcmU7IGkrKykge1xuICAgIGlmIChmb3VuZExpbmVObyAtIGkgPCAwKSBicmVhaztcbiAgICBsaW5lID0gZ2V0TGluZShcbiAgICAgIG1hcmsuYnVmZmVyLFxuICAgICAgbGluZVN0YXJ0c1tmb3VuZExpbmVObyAtIGldLFxuICAgICAgbGluZUVuZHNbZm91bmRMaW5lTm8gLSBpXSxcbiAgICAgIG1hcmsucG9zaXRpb24gLSAobGluZVN0YXJ0c1tmb3VuZExpbmVOb10gLSBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vIC0gaV0pLFxuICAgICAgbWF4TGluZUxlbmd0aFxuICAgICk7XG4gICAgcmVzdWx0ID0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgLSBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbicgKyByZXN1bHQ7XG4gIH1cblxuICBsaW5lID0gZ2V0TGluZShtYXJrLmJ1ZmZlciwgbGluZVN0YXJ0c1tmb3VuZExpbmVOb10sIGxpbmVFbmRzW2ZvdW5kTGluZU5vXSwgbWFyay5wb3NpdGlvbiwgbWF4TGluZUxlbmd0aCk7XG4gIHJlc3VsdCArPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSArIDEpLnRvU3RyaW5nKCksIGxpbmVOb0xlbmd0aCkgK1xuICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJztcbiAgcmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJy0nLCBvcHRpb25zLmluZGVudCArIGxpbmVOb0xlbmd0aCArIDMgKyBsaW5lLnBvcykgKyAnXicgKyAnXFxuJztcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNBZnRlcjsgaSsrKSB7XG4gICAgaWYgKGZvdW5kTGluZU5vICsgaSA+PSBsaW5lRW5kcy5sZW5ndGgpIGJyZWFrO1xuICAgIGxpbmUgPSBnZXRMaW5lKFxuICAgICAgbWFyay5idWZmZXIsXG4gICAgICBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vICsgaV0sXG4gICAgICBsaW5lRW5kc1tmb3VuZExpbmVObyArIGldLFxuICAgICAgbWFyay5wb3NpdGlvbiAtIChsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSAtIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gKyBpXSksXG4gICAgICBtYXhMaW5lTGVuZ3RoXG4gICAgKTtcbiAgICByZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgKyBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbic7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnJlcGxhY2UoL1xcbiQvLCAnJyk7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBtYWtlU25pcHBldDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBZQU1MRXhjZXB0aW9uID0gcmVxdWlyZSgnLi9leGNlcHRpb24nKTtcblxudmFyIFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUyA9IFtcbiAgJ2tpbmQnLFxuICAnbXVsdGknLFxuICAncmVzb2x2ZScsXG4gICdjb25zdHJ1Y3QnLFxuICAnaW5zdGFuY2VPZicsXG4gICdwcmVkaWNhdGUnLFxuICAncmVwcmVzZW50JyxcbiAgJ3JlcHJlc2VudE5hbWUnLFxuICAnZGVmYXVsdFN0eWxlJyxcbiAgJ3N0eWxlQWxpYXNlcydcbl07XG5cbnZhciBZQU1MX05PREVfS0lORFMgPSBbXG4gICdzY2FsYXInLFxuICAnc2VxdWVuY2UnLFxuICAnbWFwcGluZydcbl07XG5cbmZ1bmN0aW9uIGNvbXBpbGVTdHlsZUFsaWFzZXMobWFwKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgbWFwW3N0eWxlXS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuICAgICAgICByZXN1bHRbU3RyaW5nKGFsaWFzKV0gPSBzdHlsZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gVHlwZSh0YWcsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChUWVBFX0NPTlNUUlVDVE9SX09QVElPTlMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdVbmtub3duIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiIGlzIG1ldCBpbiBkZWZpbml0aW9uIG9mIFwiJyArIHRhZyArICdcIiBZQU1MIHR5cGUuJyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBUT0RPOiBBZGQgdGFnIGZvcm1hdCBjaGVjay5cbiAgdGhpcy5vcHRpb25zICAgICAgID0gb3B0aW9uczsgLy8ga2VlcCBvcmlnaW5hbCBvcHRpb25zIGluIGNhc2UgdXNlciB3YW50cyB0byBleHRlbmQgdGhpcyB0eXBlIGxhdGVyXG4gIHRoaXMudGFnICAgICAgICAgICA9IHRhZztcbiAgdGhpcy5raW5kICAgICAgICAgID0gb3B0aW9uc1sna2luZCddICAgICAgICAgIHx8IG51bGw7XG4gIHRoaXMucmVzb2x2ZSAgICAgICA9IG9wdGlvbnNbJ3Jlc29sdmUnXSAgICAgICB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICB0aGlzLmNvbnN0cnVjdCAgICAgPSBvcHRpb25zWydjb25zdHJ1Y3QnXSAgICAgfHwgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGE7IH07XG4gIHRoaXMuaW5zdGFuY2VPZiAgICA9IG9wdGlvbnNbJ2luc3RhbmNlT2YnXSAgICB8fCBudWxsO1xuICB0aGlzLnByZWRpY2F0ZSAgICAgPSBvcHRpb25zWydwcmVkaWNhdGUnXSAgICAgfHwgbnVsbDtcbiAgdGhpcy5yZXByZXNlbnQgICAgID0gb3B0aW9uc1sncmVwcmVzZW50J10gICAgIHx8IG51bGw7XG4gIHRoaXMucmVwcmVzZW50TmFtZSA9IG9wdGlvbnNbJ3JlcHJlc2VudE5hbWUnXSB8fCBudWxsO1xuICB0aGlzLmRlZmF1bHRTdHlsZSAgPSBvcHRpb25zWydkZWZhdWx0U3R5bGUnXSAgfHwgbnVsbDtcbiAgdGhpcy5tdWx0aSAgICAgICAgID0gb3B0aW9uc1snbXVsdGknXSAgICAgICAgIHx8IGZhbHNlO1xuICB0aGlzLnN0eWxlQWxpYXNlcyAgPSBjb21waWxlU3R5bGVBbGlhc2VzKG9wdGlvbnNbJ3N0eWxlQWxpYXNlcyddIHx8IG51bGwpO1xuXG4gIGlmIChZQU1MX05PREVfS0lORFMuaW5kZXhPZih0aGlzLmtpbmQpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdVbmtub3duIGtpbmQgXCInICsgdGhpcy5raW5kICsgJ1wiIGlzIHNwZWNpZmllZCBmb3IgXCInICsgdGFnICsgJ1wiIFlBTUwgdHlwZS4nKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGU7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4qL1xuXG52YXIgWUFNTEV4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG52YXIgVHlwZSAgICAgICAgICA9IHJlcXVpcmUoJy4vdHlwZScpO1xuXG5cbmZ1bmN0aW9uIGNvbXBpbGVMaXN0KHNjaGVtYSwgbmFtZSkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgc2NoZW1hW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnRUeXBlKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChwcmV2aW91c1R5cGUsIHByZXZpb3VzSW5kZXgpIHtcbiAgICAgIGlmIChwcmV2aW91c1R5cGUudGFnID09PSBjdXJyZW50VHlwZS50YWcgJiZcbiAgICAgICAgICBwcmV2aW91c1R5cGUua2luZCA9PT0gY3VycmVudFR5cGUua2luZCAmJlxuICAgICAgICAgIHByZXZpb3VzVHlwZS5tdWx0aSA9PT0gY3VycmVudFR5cGUubXVsdGkpIHtcblxuICAgICAgICBuZXdJbmRleCA9IHByZXZpb3VzSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXN1bHRbbmV3SW5kZXhdID0gY3VycmVudFR5cGU7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gY29tcGlsZU1hcCgvKiBsaXN0cy4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBzY2FsYXI6IHt9LFxuICAgICAgICBzZXF1ZW5jZToge30sXG4gICAgICAgIG1hcHBpbmc6IHt9LFxuICAgICAgICBmYWxsYmFjazoge30sXG4gICAgICAgIG11bHRpOiB7XG4gICAgICAgICAgc2NhbGFyOiBbXSxcbiAgICAgICAgICBzZXF1ZW5jZTogW10sXG4gICAgICAgICAgbWFwcGluZzogW10sXG4gICAgICAgICAgZmFsbGJhY2s6IFtdXG4gICAgICAgIH1cbiAgICAgIH0sIGluZGV4LCBsZW5ndGg7XG5cbiAgZnVuY3Rpb24gY29sbGVjdFR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlLm11bHRpKSB7XG4gICAgICByZXN1bHQubXVsdGlbdHlwZS5raW5kXS5wdXNoKHR5cGUpO1xuICAgICAgcmVzdWx0Lm11bHRpWydmYWxsYmFjayddLnB1c2godHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0eXBlLmtpbmRdW3R5cGUudGFnXSA9IHJlc3VsdFsnZmFsbGJhY2snXVt0eXBlLnRhZ10gPSB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGFyZ3VtZW50c1tpbmRleF0uZm9yRWFjaChjb2xsZWN0VHlwZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBTY2hlbWEoZGVmaW5pdGlvbikge1xuICByZXR1cm4gdGhpcy5leHRlbmQoZGVmaW5pdGlvbik7XG59XG5cblxuU2NoZW1hLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiBleHRlbmQoZGVmaW5pdGlvbikge1xuICB2YXIgaW1wbGljaXQgPSBbXTtcbiAgdmFyIGV4cGxpY2l0ID0gW107XG5cbiAgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZCh0eXBlKVxuICAgIGV4cGxpY2l0LnB1c2goZGVmaW5pdGlvbik7XG5cbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZChbIHR5cGUxLCB0eXBlMiwgLi4uIF0pXG4gICAgZXhwbGljaXQgPSBleHBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbik7XG5cbiAgfSBlbHNlIGlmIChkZWZpbml0aW9uICYmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24uaW1wbGljaXQpIHx8IEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbi5leHBsaWNpdCkpKSB7XG4gICAgLy8gU2NoZW1hLmV4dGVuZCh7IGV4cGxpY2l0OiBbIHR5cGUxLCB0eXBlMiwgLi4uIF0sIGltcGxpY2l0OiBbIHR5cGUxLCB0eXBlMiwgLi4uIF0gfSlcbiAgICBpZiAoZGVmaW5pdGlvbi5pbXBsaWNpdCkgaW1wbGljaXQgPSBpbXBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbi5pbXBsaWNpdCk7XG4gICAgaWYgKGRlZmluaXRpb24uZXhwbGljaXQpIGV4cGxpY2l0ID0gZXhwbGljaXQuY29uY2F0KGRlZmluaXRpb24uZXhwbGljaXQpO1xuXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1NjaGVtYS5leHRlbmQgYXJndW1lbnQgc2hvdWxkIGJlIGEgVHlwZSwgWyBUeXBlIF0sICcgK1xuICAgICAgJ29yIGEgc2NoZW1hIGRlZmluaXRpb24gKHsgaW1wbGljaXQ6IFsuLi5dLCBleHBsaWNpdDogWy4uLl0gfSknKTtcbiAgfVxuXG4gIGltcGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAoISh0eXBlIGluc3RhbmNlb2YgVHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdTcGVjaWZpZWQgbGlzdCBvZiBZQU1MIHR5cGVzIChvciBhIHNpbmdsZSBUeXBlIG9iamVjdCkgY29udGFpbnMgYSBub24tVHlwZSBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUubG9hZEtpbmQgJiYgdHlwZS5sb2FkS2luZCAhPT0gJ3NjYWxhcicpIHtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdUaGVyZSBpcyBhIG5vbi1zY2FsYXIgdHlwZSBpbiB0aGUgaW1wbGljaXQgbGlzdCBvZiBhIHNjaGVtYS4gSW1wbGljaXQgcmVzb2x2aW5nIG9mIHN1Y2ggdHlwZXMgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZS5tdWx0aSkge1xuICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1RoZXJlIGlzIGEgbXVsdGkgdHlwZSBpbiB0aGUgaW1wbGljaXQgbGlzdCBvZiBhIHNjaGVtYS4gTXVsdGkgdGFncyBjYW4gb25seSBiZSBsaXN0ZWQgYXMgZXhwbGljaXQuJyk7XG4gICAgfVxuICB9KTtcblxuICBleHBsaWNpdC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCEodHlwZSBpbnN0YW5jZW9mIFR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LicpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUoU2NoZW1hLnByb3RvdHlwZSk7XG5cbiAgcmVzdWx0LmltcGxpY2l0ID0gKHRoaXMuaW1wbGljaXQgfHwgW10pLmNvbmNhdChpbXBsaWNpdCk7XG4gIHJlc3VsdC5leHBsaWNpdCA9ICh0aGlzLmV4cGxpY2l0IHx8IFtdKS5jb25jYXQoZXhwbGljaXQpO1xuXG4gIHJlc3VsdC5jb21waWxlZEltcGxpY2l0ID0gY29tcGlsZUxpc3QocmVzdWx0LCAnaW1wbGljaXQnKTtcbiAgcmVzdWx0LmNvbXBpbGVkRXhwbGljaXQgPSBjb21waWxlTGlzdChyZXN1bHQsICdleHBsaWNpdCcpO1xuICByZXN1bHQuY29tcGlsZWRUeXBlTWFwICA9IGNvbXBpbGVNYXAocmVzdWx0LmNvbXBpbGVkSW1wbGljaXQsIHJlc3VsdC5jb21waWxlZEV4cGxpY2l0KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpzdHInLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6ICcnOyB9XG59KTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpzZXEnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogW107IH1cbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm1hcCcsIHtcbiAga2luZDogJ21hcHBpbmcnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHt9OyB9XG59KTtcbiIsICIvLyBTdGFuZGFyZCBZQU1MJ3MgRmFpbHNhZmUgc2NoZW1hLlxuLy8gaHR0cDovL3d3dy55YW1sLm9yZy9zcGVjLzEuMi9zcGVjLmh0bWwjaWQyODAyMzQ2XG5cblxuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBTY2hlbWEgPSByZXF1aXJlKCcuLi9zY2hlbWEnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBTY2hlbWEoe1xuICBleHBsaWNpdDogW1xuICAgIHJlcXVpcmUoJy4uL3R5cGUvc3RyJyksXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9zZXEnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL21hcCcpXG4gIF1cbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sTnVsbChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGg7XG5cbiAgcmV0dXJuIChtYXggPT09IDEgJiYgZGF0YSA9PT0gJ34nKSB8fFxuICAgICAgICAgKG1heCA9PT0gNCAmJiAoZGF0YSA9PT0gJ251bGwnIHx8IGRhdGEgPT09ICdOdWxsJyB8fCBkYXRhID09PSAnTlVMTCcpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc051bGwob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgPT09IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm51bGwnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE51bGwsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE51bGwsXG4gIHByZWRpY2F0ZTogaXNOdWxsLFxuICByZXByZXNlbnQ6IHtcbiAgICBjYW5vbmljYWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICd+JzsgICAgfSxcbiAgICBsb3dlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdudWxsJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOVUxMJzsgfSxcbiAgICBjYW1lbGNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOdWxsJzsgfSxcbiAgICBlbXB0eTogICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyAgICAgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEJvb2xlYW4oZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gNCAmJiAoZGF0YSA9PT0gJ3RydWUnIHx8IGRhdGEgPT09ICdUcnVlJyB8fCBkYXRhID09PSAnVFJVRScpKSB8fFxuICAgICAgICAgKG1heCA9PT0gNSAmJiAoZGF0YSA9PT0gJ2ZhbHNlJyB8fCBkYXRhID09PSAnRmFsc2UnIHx8IGRhdGEgPT09ICdGQUxTRScpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEJvb2xlYW4oZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVHJ1ZScgfHxcbiAgICAgICAgIGRhdGEgPT09ICdUUlVFJztcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQm9vbGVhbixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQm9vbGVhbixcbiAgcHJlZGljYXRlOiBpc0Jvb2xlYW4sXG4gIHJlcHJlc2VudDoge1xuICAgIGxvd2VyY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ3RydWUnIDogJ2ZhbHNlJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICdUUlVFJyA6ICdGQUxTRSc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVHJ1ZScgOiAnRmFsc2UnOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4uL2NvbW1vbicpO1xudmFyIFR5cGUgICA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxuZnVuY3Rpb24gaXNIZXhDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB8fFxuICAgICAgICAgKCgweDQxLyogQSAqLyA8PSBjKSAmJiAoYyA8PSAweDQ2LyogRiAqLykpIHx8XG4gICAgICAgICAoKDB4NjEvKiBhICovIDw9IGMpICYmIChjIDw9IDB4NjYvKiBmICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzT2N0Q29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzcvKiA3ICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzRGVjQ29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sSW50ZWdlcihkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgaGFzRGlnaXRzID0gZmFsc2UsXG4gICAgICBjaDtcblxuICBpZiAoIW1heCkgcmV0dXJuIGZhbHNlO1xuXG4gIGNoID0gZGF0YVtpbmRleF07XG5cbiAgLy8gc2lnblxuICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7XG4gICAgY2ggPSBkYXRhWysraW5kZXhdO1xuICB9XG5cbiAgaWYgKGNoID09PSAnMCcpIHtcbiAgICAvLyAwXG4gICAgaWYgKGluZGV4ICsgMSA9PT0gbWF4KSByZXR1cm4gdHJ1ZTtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG5cbiAgICAvLyBiYXNlIDIsIGJhc2UgOCwgYmFzZSAxNlxuXG4gICAgaWYgKGNoID09PSAnYicpIHtcbiAgICAgIC8vIGJhc2UgMlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGNoICE9PSAnMCcgJiYgY2ggIT09ICcxJykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cblxuXG4gICAgaWYgKGNoID09PSAneCcpIHtcbiAgICAgIC8vIGJhc2UgMTZcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgICAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmICghaXNIZXhDb2RlKGRhdGEuY2hhckNvZGVBdChpbmRleCkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICdvJykge1xuICAgICAgLy8gYmFzZSA4XG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzT2N0Q29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJhc2UgMTAgKGV4Y2VwdCAwKVxuXG4gIC8vIHZhbHVlIHNob3VsZCBub3Qgc3RhcnQgd2l0aCBgX2A7XG4gIGlmIChjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgaWYgKCFpc0RlY0NvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFNob3VsZCBoYXZlIGRpZ2l0cyBhbmQgc2hvdWxkIG5vdCBlbmQgd2l0aCBgX2BcbiAgaWYgKCFoYXNEaWdpdHMgfHwgY2ggPT09ICdfJykgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sSW50ZWdlcihkYXRhKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGEsIHNpZ24gPSAxLCBjaDtcblxuICBpZiAodmFsdWUuaW5kZXhPZignXycpICE9PSAtMSkge1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXy9nLCAnJyk7XG4gIH1cblxuICBjaCA9IHZhbHVlWzBdO1xuXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBpZiAoY2ggPT09ICctJykgc2lnbiA9IC0xO1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gICAgY2ggPSB2YWx1ZVswXTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJzAnKSByZXR1cm4gMDtcblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ2InKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCAyKTtcbiAgICBpZiAodmFsdWVbMV0gPT09ICd4JykgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgMTYpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ28nKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCA4KTtcbiAgfVxuXG4gIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiZcbiAgICAgICAgIChvYmplY3QgJSAxID09PSAwICYmICFjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmludCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sSW50ZWdlcixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sSW50ZWdlcixcbiAgcHJlZGljYXRlOiBpc0ludGVnZXIsXG4gIHJlcHJlc2VudDoge1xuICAgIGJpbmFyeTogICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcwYicgKyBvYmoudG9TdHJpbmcoMikgOiAnLTBiJyArIG9iai50b1N0cmluZygyKS5zbGljZSgxKTsgfSxcbiAgICBvY3RhbDogICAgICAgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMG8nICArIG9iai50b1N0cmluZyg4KSA6ICctMG8nICArIG9iai50b1N0cmluZyg4KS5zbGljZSgxKTsgfSxcbiAgICBkZWNpbWFsOiAgICAgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqLnRvU3RyaW5nKDEwKTsgfSxcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgaGV4YWRlY2ltYWw6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiA+PSAwID8gJzB4JyArIG9iai50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSA6ICAnLTB4JyArIG9iai50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5zbGljZSgxKTsgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdkZWNpbWFsJyxcbiAgc3R5bGVBbGlhc2VzOiB7XG4gICAgYmluYXJ5OiAgICAgIFsgMiwgICdiaW4nIF0sXG4gICAgb2N0YWw6ICAgICAgIFsgOCwgICdvY3QnIF0sXG4gICAgZGVjaW1hbDogICAgIFsgMTAsICdkZWMnIF0sXG4gICAgaGV4YWRlY2ltYWw6IFsgMTYsICdoZXgnIF1cbiAgfVxufSk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29tbW9uID0gcmVxdWlyZSgnLi4vY29tbW9uJyk7XG52YXIgVHlwZSAgID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgWUFNTF9GTE9BVF9QQVRURVJOID0gbmV3IFJlZ0V4cChcbiAgLy8gMi41ZTQsIDIuNSBhbmQgaW50ZWdlcnNcbiAgJ14oPzpbLStdPyg/OlswLTldWzAtOV9dKikoPzpcXFxcLlswLTlfXSopPyg/OltlRV1bLStdP1swLTldKyk/JyArXG4gIC8vIC4yZTQsIC4yXG4gIC8vIHNwZWNpYWwgY2FzZSwgc2VlbXMgbm90IGZyb20gc3BlY1xuICAnfFxcXFwuWzAtOV9dKyg/OltlRV1bLStdP1swLTldKyk/JyArXG4gIC8vIC5pbmZcbiAgJ3xbLStdP1xcXFwuKD86aW5mfEluZnxJTkYpJyArXG4gIC8vIC5uYW5cbiAgJ3xcXFxcLig/Om5hbnxOYU58TkFOKSkkJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sRmxvYXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICghWUFNTF9GTE9BVF9QQVRURVJOLnRlc3QoZGF0YSkgfHxcbiAgICAgIC8vIFF1aWNrIGhhY2sgdG8gbm90IGFsbG93IGludGVnZXJzIGVuZCB3aXRoIGBfYFxuICAgICAgLy8gUHJvYmFibHkgc2hvdWxkIHVwZGF0ZSByZWdleHAgJiBjaGVjayBzcGVlZFxuICAgICAgZGF0YVtkYXRhLmxlbmd0aCAtIDFdID09PSAnXycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEZsb2F0KGRhdGEpIHtcbiAgdmFyIHZhbHVlLCBzaWduO1xuXG4gIHZhbHVlICA9IGRhdGEucmVwbGFjZSgvXy9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgc2lnbiAgID0gdmFsdWVbMF0gPT09ICctJyA/IC0xIDogMTtcblxuICBpZiAoJystJy5pbmRleE9mKHZhbHVlWzBdKSA+PSAwKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJy5pbmYnKSB7XG4gICAgcmV0dXJuIChzaWduID09PSAxKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLm5hbicpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIHJldHVybiBzaWduICogcGFyc2VGbG9hdCh2YWx1ZSwgMTApO1xufVxuXG5cbnZhciBTQ0lFTlRJRklDX1dJVEhPVVRfRE9UID0gL15bLStdP1swLTldK2UvO1xuXG5mdW5jdGlvbiByZXByZXNlbnRZYW1sRmxvYXQob2JqZWN0LCBzdHlsZSkge1xuICB2YXIgcmVzO1xuXG4gIGlmIChpc05hTihvYmplY3QpKSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICcubmFuJztcbiAgICAgIGNhc2UgJ3VwcGVyY2FzZSc6IHJldHVybiAnLk5BTic7XG4gICAgICBjYXNlICdjYW1lbGNhc2UnOiByZXR1cm4gJy5OYU4nO1xuICAgIH1cbiAgfSBlbHNlIGlmIChOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgPT09IG9iamVjdCkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5JTkYnO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuSW5mJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy0uaW5mJztcbiAgICAgIGNhc2UgJ3VwcGVyY2FzZSc6IHJldHVybiAnLS5JTkYnO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICctLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKSB7XG4gICAgcmV0dXJuICctMC4wJztcbiAgfVxuXG4gIHJlcyA9IG9iamVjdC50b1N0cmluZygxMCk7XG5cbiAgLy8gSlMgc3RyaW5naWZpZXIgY2FuIGJ1aWxkIHNjaWVudGlmaWMgZm9ybWF0IHdpdGhvdXQgZG90czogNWUtMTAwLFxuICAvLyB3aGlsZSBZQU1MIHJlcXVyZXMgZG90OiA1LmUtMTAwLiBGaXggaXQgd2l0aCBzaW1wbGUgaGFja1xuXG4gIHJldHVybiBTQ0lFTlRJRklDX1dJVEhPVVRfRE9ULnRlc3QocmVzKSA/IHJlcy5yZXBsYWNlKCdlJywgJy5lJykgOiByZXM7XG59XG5cbmZ1bmN0aW9uIGlzRmxvYXQob2JqZWN0KSB7XG4gIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IE51bWJlcl0nKSAmJlxuICAgICAgICAgKG9iamVjdCAlIDEgIT09IDAgfHwgY29tbW9uLmlzTmVnYXRpdmVaZXJvKG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sRmxvYXQsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbEZsb2F0LFxuICBwcmVkaWNhdGU6IGlzRmxvYXQsXG4gIHJlcHJlc2VudDogcmVwcmVzZW50WWFtbEZsb2F0LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcbiIsICIvLyBTdGFuZGFyZCBZQU1MJ3MgSlNPTiBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDMyMzFcbi8vXG4vLyBOT1RFOiBKUy1ZQU1MIGRvZXMgbm90IHN1cHBvcnQgc2NoZW1hLXNwZWNpZmljIHRhZyByZXNvbHV0aW9uIHJlc3RyaWN0aW9ucy5cbi8vIFNvLCB0aGlzIHNjaGVtYSBpcyBub3Qgc3VjaCBzdHJpY3QgYXMgZGVmaW5lZCBpbiB0aGUgWUFNTCBzcGVjaWZpY2F0aW9uLlxuLy8gSXQgYWxsb3dzIG51bWJlcnMgaW4gYmluYXJ5IG5vdGFpb24sIHVzZSBgTnVsbGAgYW5kIGBOVUxMYCBhcyBgbnVsbGAsIGV0Yy5cblxuXG4ndXNlIHN0cmljdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhaWxzYWZlJykuZXh0ZW5kKHtcbiAgaW1wbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL251bGwnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2Jvb2wnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2ludCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvZmxvYXQnKVxuICBdXG59KTtcbiIsICIvLyBTdGFuZGFyZCBZQU1MJ3MgQ29yZSBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDQ5MjNcbi8vXG4vLyBOT1RFOiBKUy1ZQU1MIGRvZXMgbm90IHN1cHBvcnQgc2NoZW1hLXNwZWNpZmljIHRhZyByZXNvbHV0aW9uIHJlc3RyaWN0aW9ucy5cbi8vIFNvLCBDb3JlIHNjaGVtYSBoYXMgbm8gZGlzdGluY3Rpb25zIGZyb20gSlNPTiBzY2hlbWEgaXMgSlMtWUFNTC5cblxuXG4ndXNlIHN0cmljdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2pzb24nKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgWUFNTF9EQVRFX1JFR0VYUCA9IG5ldyBSZWdFeHAoXG4gICdeKFswLTldWzAtOV1bMC05XVswLTldKScgICAgICAgICAgKyAvLyBbMV0geWVhclxuICAnLShbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzJdIG1vbnRoXG4gICctKFswLTldWzAtOV0pJCcpOyAgICAgICAgICAgICAgICAgICAvLyBbM10gZGF5XG5cbnZhciBZQU1MX1RJTUVTVEFNUF9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldPyknICAgICAgICAgICAgICAgICAgICsgLy8gWzNdIGRheVxuICAnKD86W1R0XXxbIFxcXFx0XSspJyAgICAgICAgICAgICAgICAgKyAvLyAuLi5cbiAgJyhbMC05XVswLTldPyknICAgICAgICAgICAgICAgICAgICArIC8vIFs0XSBob3VyXG4gICc6KFswLTldWzAtOV0pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNV0gbWludXRlXG4gICc6KFswLTldWzAtOV0pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNl0gc2Vjb25kXG4gICcoPzpcXFxcLihbMC05XSopKT8nICAgICAgICAgICAgICAgICArIC8vIFs3XSBmcmFjdGlvblxuICAnKD86WyBcXFxcdF0qKFp8KFstK10pKFswLTldWzAtOV0/KScgKyAvLyBbOF0gdHogWzldIHR6X3NpZ24gWzEwXSB0el9ob3VyXG4gICcoPzo6KFswLTldWzAtOV0pKT8pKT8kJyk7ICAgICAgICAgICAvLyBbMTFdIHR6X21pbnV0ZVxuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFRpbWVzdGFtcChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGlmIChZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSkgIT09IG51bGwpIHJldHVybiB0cnVlO1xuICBpZiAoWUFNTF9USU1FU1RBTVBfUkVHRVhQLmV4ZWMoZGF0YSkgIT09IG51bGwpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICB2YXIgbWF0Y2gsIHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBmcmFjdGlvbiA9IDAsXG4gICAgICBkZWx0YSA9IG51bGwsIHR6X2hvdXIsIHR6X21pbnV0ZSwgZGF0ZTtcblxuICBtYXRjaCA9IFlBTUxfREFURV9SRUdFWFAuZXhlYyhkYXRhKTtcbiAgaWYgKG1hdGNoID09PSBudWxsKSBtYXRjaCA9IFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpO1xuXG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdEYXRlIHJlc29sdmUgZXJyb3InKTtcblxuICAvLyBtYXRjaDogWzFdIHllYXIgWzJdIG1vbnRoIFszXSBkYXlcblxuICB5ZWFyID0gKyhtYXRjaFsxXSk7XG4gIG1vbnRoID0gKyhtYXRjaFsyXSkgLSAxOyAvLyBKUyBtb250aCBzdGFydHMgd2l0aCAwXG4gIGRheSA9ICsobWF0Y2hbM10pO1xuXG4gIGlmICghbWF0Y2hbNF0pIHsgLy8gbm8gaG91clxuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5KSk7XG4gIH1cblxuICAvLyBtYXRjaDogWzRdIGhvdXIgWzVdIG1pbnV0ZSBbNl0gc2Vjb25kIFs3XSBmcmFjdGlvblxuXG4gIGhvdXIgPSArKG1hdGNoWzRdKTtcbiAgbWludXRlID0gKyhtYXRjaFs1XSk7XG4gIHNlY29uZCA9ICsobWF0Y2hbNl0pO1xuXG4gIGlmIChtYXRjaFs3XSkge1xuICAgIGZyYWN0aW9uID0gbWF0Y2hbN10uc2xpY2UoMCwgMyk7XG4gICAgd2hpbGUgKGZyYWN0aW9uLmxlbmd0aCA8IDMpIHsgLy8gbWlsbGktc2Vjb25kc1xuICAgICAgZnJhY3Rpb24gKz0gJzAnO1xuICAgIH1cbiAgICBmcmFjdGlvbiA9ICtmcmFjdGlvbjtcbiAgfVxuXG4gIC8vIG1hdGNoOiBbOF0gdHogWzldIHR6X3NpZ24gWzEwXSB0el9ob3VyIFsxMV0gdHpfbWludXRlXG5cbiAgaWYgKG1hdGNoWzldKSB7XG4gICAgdHpfaG91ciA9ICsobWF0Y2hbMTBdKTtcbiAgICB0el9taW51dGUgPSArKG1hdGNoWzExXSB8fCAwKTtcbiAgICBkZWx0YSA9ICh0el9ob3VyICogNjAgKyB0el9taW51dGUpICogNjAwMDA7IC8vIGRlbHRhIGluIG1pbGktc2Vjb25kc1xuICAgIGlmIChtYXRjaFs5XSA9PT0gJy0nKSBkZWx0YSA9IC1kZWx0YTtcbiAgfVxuXG4gIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24pKTtcblxuICBpZiAoZGVsdGEpIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIGRlbHRhKTtcblxuICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbFRpbWVzdGFtcChvYmplY3QgLyosIHN0eWxlKi8pIHtcbiAgcmV0dXJuIG9iamVjdC50b0lTT1N0cmluZygpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbFRpbWVzdGFtcCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wLFxuICBpbnN0YW5jZU9mOiBEYXRlLFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxUaW1lc3RhbXBcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sTWVyZ2UoZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJzw8JyB8fCBkYXRhID09PSBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjptZXJnZScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sTWVyZ2Vcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlKi9cblxuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxuXG4vLyBbIDY0LCA2NSwgNjYgXSAtPiBbIHBhZGRpbmcsIENSLCBMRiBdXG52YXIgQkFTRTY0X01BUCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVxcblxccic7XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxCaW5hcnkoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBjb2RlLCBpZHgsIGJpdGxlbiA9IDAsIG1heCA9IGRhdGEubGVuZ3RoLCBtYXAgPSBCQVNFNjRfTUFQO1xuXG4gIC8vIENvbnZlcnQgb25lIGJ5IG9uZS5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgY29kZSA9IG1hcC5pbmRleE9mKGRhdGEuY2hhckF0KGlkeCkpO1xuXG4gICAgLy8gU2tpcCBDUi9MRlxuICAgIGlmIChjb2RlID4gNjQpIGNvbnRpbnVlO1xuXG4gICAgLy8gRmFpbCBvbiBpbGxlZ2FsIGNoYXJhY3RlcnNcbiAgICBpZiAoY29kZSA8IDApIHJldHVybiBmYWxzZTtcblxuICAgIGJpdGxlbiArPSA2O1xuICB9XG5cbiAgLy8gSWYgdGhlcmUgYXJlIGFueSBiaXRzIGxlZnQsIHNvdXJjZSB3YXMgY29ycnVwdGVkXG4gIHJldHVybiAoYml0bGVuICUgOCkgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxCaW5hcnkoZGF0YSkge1xuICB2YXIgaWR4LCB0YWlsYml0cyxcbiAgICAgIGlucHV0ID0gZGF0YS5yZXBsYWNlKC9bXFxyXFxuPV0vZywgJycpLCAvLyByZW1vdmUgQ1IvTEYgJiBwYWRkaW5nIHRvIHNpbXBsaWZ5IHNjYW5cbiAgICAgIG1heCA9IGlucHV0Lmxlbmd0aCxcbiAgICAgIG1hcCA9IEJBU0U2NF9NQVAsXG4gICAgICBiaXRzID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIC8vIENvbGxlY3QgYnkgNio0IGJpdHMgKDMgYnl0ZXMpXG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSA0ID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDE2KSAmIDB4RkYpO1xuICAgICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gOCkgJiAweEZGKTtcbiAgICAgIHJlc3VsdC5wdXNoKGJpdHMgJiAweEZGKTtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgNikgfCBtYXAuaW5kZXhPZihpbnB1dC5jaGFyQXQoaWR4KSk7XG4gIH1cblxuICAvLyBEdW1wIHRhaWxcblxuICB0YWlsYml0cyA9IChtYXggJSA0KSAqIDY7XG5cbiAgaWYgKHRhaWxiaXRzID09PSAwKSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMTYpICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gOCkgJiAweEZGKTtcbiAgICByZXN1bHQucHVzaChiaXRzICYgMHhGRik7XG4gIH0gZWxzZSBpZiAodGFpbGJpdHMgPT09IDE4KSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMTApICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMikgJiAweEZGKTtcbiAgfSBlbHNlIGlmICh0YWlsYml0cyA9PT0gMTIpIHtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiA0KSAmIDB4RkYpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxCaW5hcnkob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHZhciByZXN1bHQgPSAnJywgYml0cyA9IDAsIGlkeCwgdGFpbCxcbiAgICAgIG1heCA9IG9iamVjdC5sZW5ndGgsXG4gICAgICBtYXAgPSBCQVNFNjRfTUFQO1xuXG4gIC8vIENvbnZlcnQgZXZlcnkgdGhyZWUgYnl0ZXMgdG8gNCBBU0NJSSBjaGFyYWN0ZXJzLlxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGlmICgoaWR4ICUgMyA9PT0gMCkgJiYgaWR4KSB7XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDE4KSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMikgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNikgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbYml0cyAmIDB4M0ZdO1xuICAgIH1cblxuICAgIGJpdHMgPSAoYml0cyA8PCA4KSArIG9iamVjdFtpZHhdO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdGFpbCA9IG1heCAlIDM7XG5cbiAgaWYgKHRhaWwgPT09IDApIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDE4KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA2KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbYml0cyAmIDB4M0ZdO1xuICB9IGVsc2UgaWYgKHRhaWwgPT09IDIpIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEwKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzIDw8IDIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gIH0gZWxzZSBpZiAodGFpbCA9PT0gMSkge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzIDw8IDQpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAgJ1tvYmplY3QgVWludDhBcnJheV0nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpiaW5hcnknLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEJpbmFyeSxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQmluYXJ5LFxuICBwcmVkaWNhdGU6IGlzQmluYXJ5LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxCaW5hcnlcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF90b1N0cmluZyAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sT21hcChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIgb2JqZWN0S2V5cyA9IFtdLCBpbmRleCwgbGVuZ3RoLCBwYWlyLCBwYWlyS2V5LCBwYWlySGFzS2V5LFxuICAgICAgb2JqZWN0ID0gZGF0YTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcbiAgICBwYWlySGFzS2V5ID0gZmFsc2U7XG5cbiAgICBpZiAoX3RvU3RyaW5nLmNhbGwocGFpcikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKHBhaXJLZXkgaW4gcGFpcikge1xuICAgICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhaXIsIHBhaXJLZXkpKSB7XG4gICAgICAgIGlmICghcGFpckhhc0tleSkgcGFpckhhc0tleSA9IHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGFpckhhc0tleSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKG9iamVjdEtleXMuaW5kZXhPZihwYWlyS2V5KSA9PT0gLTEpIG9iamVjdEtleXMucHVzaChwYWlyS2V5KTtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sT21hcChkYXRhKSB7XG4gIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpvbWFwJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE9tYXAsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE9tYXBcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChfdG9TdHJpbmcuY2FsbChwYWlyKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHJldHVybiBmYWxzZTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwYWlyKTtcblxuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxQYWlycyhkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gW107XG5cbiAgdmFyIGluZGV4LCBsZW5ndGgsIHBhaXIsIGtleXMsIHJlc3VsdCxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgcmVzdWx0ID0gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHBhaXIpO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6cGFpcnMnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sUGFpcnMsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFBhaXJzXG59KTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxTZXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIGtleSwgb2JqZWN0ID0gZGF0YTtcblxuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICBpZiAob2JqZWN0W2tleV0gIT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbFNldChkYXRhKSB7XG4gIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpzZXQnLCB7XG4gIGtpbmQ6ICdtYXBwaW5nJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxTZXQsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFNldFxufSk7XG4iLCAiLy8gSlMtWUFNTCdzIGRlZmF1bHQgc2NoZW1hIGZvciBgc2FmZUxvYWRgIGZ1bmN0aW9uLlxuLy8gSXQgaXMgbm90IGRlc2NyaWJlZCBpbiB0aGUgWUFNTCBzcGVjaWZpY2F0aW9uLlxuLy9cbi8vIFRoaXMgc2NoZW1hIGlzIGJhc2VkIG9uIHN0YW5kYXJkIFlBTUwncyBDb3JlIHNjaGVtYSBhbmQgaW5jbHVkZXMgbW9zdCBvZlxuLy8gZXh0cmEgdHlwZXMgZGVzY3JpYmVkIGF0IFlBTUwgdGFnIHJlcG9zaXRvcnkuIChodHRwOi8veWFtbC5vcmcvdHlwZS8pXG5cblxuJ3VzZSBzdHJpY3QnO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb3JlJykuZXh0ZW5kKHtcbiAgaW1wbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL3RpbWVzdGFtcCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvbWVyZ2UnKVxuICBdLFxuICBleHBsaWNpdDogW1xuICAgIHJlcXVpcmUoJy4uL3R5cGUvYmluYXJ5JyksXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9vbWFwJyksXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9wYWlycycpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvc2V0JylcbiAgXVxufSk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4sbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG52YXIgY29tbW9uICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG52YXIgWUFNTEV4Y2VwdGlvbiAgICAgICA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG52YXIgbWFrZVNuaXBwZXQgICAgICAgICA9IHJlcXVpcmUoJy4vc25pcHBldCcpO1xudmFyIERFRkFVTFRfU0NIRU1BICAgICAgPSByZXF1aXJlKCcuL3NjaGVtYS9kZWZhdWx0Jyk7XG5cblxudmFyIF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cblxudmFyIENPTlRFWFRfRkxPV19JTiAgID0gMTtcbnZhciBDT05URVhUX0ZMT1dfT1VUICA9IDI7XG52YXIgQ09OVEVYVF9CTE9DS19JTiAgPSAzO1xudmFyIENPTlRFWFRfQkxPQ0tfT1VUID0gNDtcblxuXG52YXIgQ0hPTVBJTkdfQ0xJUCAgPSAxO1xudmFyIENIT01QSU5HX1NUUklQID0gMjtcbnZhciBDSE9NUElOR19LRUVQICA9IDM7XG5cblxudmFyIFBBVFRFUk5fTk9OX1BSSU5UQUJMRSAgICAgICAgID0gL1tcXHgwMC1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDdGLVxceDg0XFx4ODYtXFx4OUZcXHVGRkZFXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0vO1xudmFyIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTID0gL1tcXHg4NVxcdTIwMjhcXHUyMDI5XS87XG52YXIgUEFUVEVSTl9GTE9XX0lORElDQVRPUlMgICAgICAgPSAvWyxcXFtcXF1cXHtcXH1dLztcbnZhciBQQVRURVJOX1RBR19IQU5ETEUgICAgICAgICAgICA9IC9eKD86IXwhIXwhW2EtelxcLV0rISkkL2k7XG52YXIgUEFUVEVSTl9UQUdfVVJJICAgICAgICAgICAgICAgPSAvXig/OiF8W14sXFxbXFxdXFx7XFx9XSkoPzolWzAtOWEtZl17Mn18WzAtOWEtelxcLSM7XFwvXFw/OkAmPVxcK1xcJCxfXFwuIX5cXConXFwoXFwpXFxbXFxdXSkqJC9pO1xuXG5cbmZ1bmN0aW9uIF9jbGFzcyhvYmopIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopOyB9XG5cbmZ1bmN0aW9uIGlzX0VPTChjKSB7XG4gIHJldHVybiAoYyA9PT0gMHgwQS8qIExGICovKSB8fCAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV0hJVEVfU1BBQ0UoYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8IChjID09PSAweDIwLyogU3BhY2UgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19XU19PUl9FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MEEvKiBMRiAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBELyogQ1IgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19GTE9XX0lORElDQVRPUihjKSB7XG4gIHJldHVybiBjID09PSAweDJDLyogLCAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg1Qi8qIFsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUQvKiBdICovIHx8XG4gICAgICAgICBjID09PSAweDdCLyogeyAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3RC8qIH0gKi87XG59XG5cbmZ1bmN0aW9uIGZyb21IZXhDb2RlKGMpIHtcbiAgdmFyIGxjO1xuXG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlKi9cbiAgbGMgPSBjIHwgMHgyMDtcblxuICBpZiAoKDB4NjEvKiBhICovIDw9IGxjKSAmJiAobGMgPD0gMHg2Ni8qIGYgKi8pKSB7XG4gICAgcmV0dXJuIGxjIC0gMHg2MSArIDEwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVkSGV4TGVuKGMpIHtcbiAgaWYgKGMgPT09IDB4NzgvKiB4ICovKSB7IHJldHVybiAyOyB9XG4gIGlmIChjID09PSAweDc1LyogdSAqLykgeyByZXR1cm4gNDsgfVxuICBpZiAoYyA9PT0gMHg1NS8qIFUgKi8pIHsgcmV0dXJuIDg7IH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGZyb21EZWNpbWFsQ29kZShjKSB7XG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVFc2NhcGVTZXF1ZW5jZShjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZXR1cm4gKGMgPT09IDB4MzAvKiAwICovKSA/ICdcXHgwMCcgOlxuICAgICAgICAoYyA9PT0gMHg2MS8qIGEgKi8pID8gJ1xceDA3JyA6XG4gICAgICAgIChjID09PSAweDYyLyogYiAqLykgPyAnXFx4MDgnIDpcbiAgICAgICAgKGMgPT09IDB4NzQvKiB0ICovKSA/ICdcXHgwOScgOlxuICAgICAgICAoYyA9PT0gMHgwOS8qIFRhYiAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4NkUvKiBuICovKSA/ICdcXHgwQScgOlxuICAgICAgICAoYyA9PT0gMHg3Ni8qIHYgKi8pID8gJ1xceDBCJyA6XG4gICAgICAgIChjID09PSAweDY2LyogZiAqLykgPyAnXFx4MEMnIDpcbiAgICAgICAgKGMgPT09IDB4NzIvKiByICovKSA/ICdcXHgwRCcgOlxuICAgICAgICAoYyA9PT0gMHg2NS8qIGUgKi8pID8gJ1xceDFCJyA6XG4gICAgICAgIChjID09PSAweDIwLyogU3BhY2UgKi8pID8gJyAnIDpcbiAgICAgICAgKGMgPT09IDB4MjIvKiBcIiAqLykgPyAnXFx4MjInIDpcbiAgICAgICAgKGMgPT09IDB4MkYvKiAvICovKSA/ICcvJyA6XG4gICAgICAgIChjID09PSAweDVDLyogXFwgKi8pID8gJ1xceDVDJyA6XG4gICAgICAgIChjID09PSAweDRFLyogTiAqLykgPyAnXFx4ODUnIDpcbiAgICAgICAgKGMgPT09IDB4NUYvKiBfICovKSA/ICdcXHhBMCcgOlxuICAgICAgICAoYyA9PT0gMHg0Qy8qIEwgKi8pID8gJ1xcdTIwMjgnIDpcbiAgICAgICAgKGMgPT09IDB4NTAvKiBQICovKSA/ICdcXHUyMDI5JyA6ICcnO1xufVxuXG5mdW5jdGlvbiBjaGFyRnJvbUNvZGVwb2ludChjKSB7XG4gIGlmIChjIDw9IDB4RkZGRikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICB9XG4gIC8vIEVuY29kZSBVVEYtMTYgc3Vycm9nYXRlIHBhaXJcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVVRGLTE2I0NvZGVfcG9pbnRzX1UuMkIwMTAwMDBfdG9fVS4yQjEwRkZGRlxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAoKGMgLSAweDAxMDAwMCkgPj4gMTApICsgMHhEODAwLFxuICAgICgoYyAtIDB4MDEwMDAwKSAmIDB4MDNGRikgKyAweERDMDBcbiAgKTtcbn1cblxudmFyIHNpbXBsZUVzY2FwZUNoZWNrID0gbmV3IEFycmF5KDI1Nik7IC8vIGludGVnZXIsIGZvciBmYXN0IGFjY2Vzc1xudmFyIHNpbXBsZUVzY2FwZU1hcCA9IG5ldyBBcnJheSgyNTYpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBzaW1wbGVFc2NhcGVDaGVja1tpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpID8gMSA6IDA7XG4gIHNpbXBsZUVzY2FwZU1hcFtpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpO1xufVxuXG5cbmZ1bmN0aW9uIFN0YXRlKGlucHV0LCBvcHRpb25zKSB7XG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICB0aGlzLmZpbGVuYW1lICA9IG9wdGlvbnNbJ2ZpbGVuYW1lJ10gIHx8IG51bGw7XG4gIHRoaXMuc2NoZW1hICAgID0gb3B0aW9uc1snc2NoZW1hJ10gICAgfHwgREVGQVVMVF9TQ0hFTUE7XG4gIHRoaXMub25XYXJuaW5nID0gb3B0aW9uc1snb25XYXJuaW5nJ10gfHwgbnVsbDtcbiAgLy8gKEhpZGRlbikgUmVtb3ZlPyBtYWtlcyB0aGUgbG9hZGVyIHRvIGV4cGVjdCBZQU1MIDEuMSBkb2N1bWVudHNcbiAgLy8gaWYgc3VjaCBkb2N1bWVudHMgaGF2ZSBubyBleHBsaWNpdCAlWUFNTCBkaXJlY3RpdmVcbiAgdGhpcy5sZWdhY3kgICAgPSBvcHRpb25zWydsZWdhY3knXSAgICB8fCBmYWxzZTtcblxuICB0aGlzLmpzb24gICAgICA9IG9wdGlvbnNbJ2pzb24nXSAgICAgIHx8IGZhbHNlO1xuICB0aGlzLmxpc3RlbmVyICA9IG9wdGlvbnNbJ2xpc3RlbmVyJ10gIHx8IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy50eXBlTWFwICAgICAgID0gdGhpcy5zY2hlbWEuY29tcGlsZWRUeXBlTWFwO1xuXG4gIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgdGhpcy5wb3NpdGlvbiAgID0gMDtcbiAgdGhpcy5saW5lICAgICAgID0gMDtcbiAgdGhpcy5saW5lU3RhcnQgID0gMDtcbiAgdGhpcy5saW5lSW5kZW50ID0gMDtcblxuICAvLyBwb3NpdGlvbiBvZiBmaXJzdCBsZWFkaW5nIHRhYiBpbiB0aGUgY3VycmVudCBsaW5lLFxuICAvLyB1c2VkIHRvIG1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gdGFicyBpbiB0aGUgaW5kZW50YXRpb25cbiAgdGhpcy5maXJzdFRhYkluTGluZSA9IC0xO1xuXG4gIHRoaXMuZG9jdW1lbnRzID0gW107XG5cbiAgLypcbiAgdGhpcy52ZXJzaW9uO1xuICB0aGlzLmNoZWNrTGluZUJyZWFrcztcbiAgdGhpcy50YWdNYXA7XG4gIHRoaXMuYW5jaG9yTWFwO1xuICB0aGlzLnRhZztcbiAgdGhpcy5hbmNob3I7XG4gIHRoaXMua2luZDtcbiAgdGhpcy5yZXN1bHQ7Ki9cblxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdmFyIG1hcmsgPSB7XG4gICAgbmFtZTogICAgIHN0YXRlLmZpbGVuYW1lLFxuICAgIGJ1ZmZlcjogICBzdGF0ZS5pbnB1dC5zbGljZSgwLCAtMSksIC8vIG9taXQgdHJhaWxpbmcgXFwwXG4gICAgcG9zaXRpb246IHN0YXRlLnBvc2l0aW9uLFxuICAgIGxpbmU6ICAgICBzdGF0ZS5saW5lLFxuICAgIGNvbHVtbjogICBzdGF0ZS5wb3NpdGlvbiAtIHN0YXRlLmxpbmVTdGFydFxuICB9O1xuXG4gIG1hcmsuc25pcHBldCA9IG1ha2VTbmlwcGV0KG1hcmspO1xuXG4gIHJldHVybiBuZXcgWUFNTEV4Y2VwdGlvbihtZXNzYWdlLCBtYXJrKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICB0aHJvdyBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dXYXJuaW5nKHN0YXRlLCBtZXNzYWdlKSB7XG4gIGlmIChzdGF0ZS5vbldhcm5pbmcpIHtcbiAgICBzdGF0ZS5vbldhcm5pbmcuY2FsbChudWxsLCBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKSk7XG4gIH1cbn1cblxuXG52YXIgZGlyZWN0aXZlSGFuZGxlcnMgPSB7XG5cbiAgWUFNTDogZnVuY3Rpb24gaGFuZGxlWWFtbERpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIG1hdGNoLCBtYWpvciwgbWlub3I7XG5cbiAgICBpZiAoc3RhdGUudmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mICVZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ1lBTUwgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBtYXRjaCA9IC9eKFswLTldKylcXC4oWzAtOV0rKSQvLmV4ZWMoYXJnc1swXSk7XG5cbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIGFyZ3VtZW50IG9mIHRoZSBZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIG1ham9yID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBtaW5vciA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG5cbiAgICBpZiAobWFqb3IgIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cblxuICAgIHN0YXRlLnZlcnNpb24gPSBhcmdzWzBdO1xuICAgIHN0YXRlLmNoZWNrTGluZUJyZWFrcyA9IChtaW5vciA8IDIpO1xuXG4gICAgaWYgKG1pbm9yICE9PSAxICYmIG1pbm9yICE9PSAyKSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gb2YgdGhlIGRvY3VtZW50Jyk7XG4gICAgfVxuICB9LFxuXG4gIFRBRzogZnVuY3Rpb24gaGFuZGxlVGFnRGlyZWN0aXZlKHN0YXRlLCBuYW1lLCBhcmdzKSB7XG5cbiAgICB2YXIgaGFuZGxlLCBwcmVmaXg7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdUQUcgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSB0d28gYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgaGFuZGxlID0gYXJnc1swXTtcbiAgICBwcmVmaXggPSBhcmdzWzFdO1xuXG4gICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdChoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCB0YWcgaGFuZGxlIChmaXJzdCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwoc3RhdGUudGFnTWFwLCBoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlcmUgaXMgYSBwcmV2aW91c2x5IGRlY2xhcmVkIHN1ZmZpeCBmb3IgXCInICsgaGFuZGxlICsgJ1wiIHRhZyBoYW5kbGUnKTtcbiAgICB9XG5cbiAgICBpZiAoIVBBVFRFUk5fVEFHX1VSSS50ZXN0KHByZWZpeCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIHRhZyBwcmVmaXggKHNlY29uZCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJlZml4ID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHByZWZpeCBpcyBtYWxmb3JtZWQ6ICcgKyBwcmVmaXgpO1xuICAgIH1cblxuICAgIHN0YXRlLnRhZ01hcFtoYW5kbGVdID0gcHJlZml4O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBzdGFydCwgZW5kLCBjaGVja0pzb24pIHtcbiAgdmFyIF9wb3NpdGlvbiwgX2xlbmd0aCwgX2NoYXJhY3RlciwgX3Jlc3VsdDtcblxuICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICBfcmVzdWx0ID0gc3RhdGUuaW5wdXQuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICBpZiAoY2hlY2tKc29uKSB7XG4gICAgICBmb3IgKF9wb3NpdGlvbiA9IDAsIF9sZW5ndGggPSBfcmVzdWx0Lmxlbmd0aDsgX3Bvc2l0aW9uIDwgX2xlbmd0aDsgX3Bvc2l0aW9uICs9IDEpIHtcbiAgICAgICAgX2NoYXJhY3RlciA9IF9yZXN1bHQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuICAgICAgICBpZiAoIShfY2hhcmFjdGVyID09PSAweDA5IHx8XG4gICAgICAgICAgICAgICgweDIwIDw9IF9jaGFyYWN0ZXIgJiYgX2NoYXJhY3RlciA8PSAweDEwRkZGRikpKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIHZhbGlkIEpTT04gY2hhcmFjdGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFBBVFRFUk5fTk9OX1BSSU5UQUJMRS50ZXN0KF9yZXN1bHQpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlIHN0cmVhbSBjb250YWlucyBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5yZXN1bHQgKz0gX3Jlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU1hcHBpbmdzKHN0YXRlLCBkZXN0aW5hdGlvbiwgc291cmNlLCBvdmVycmlkYWJsZUtleXMpIHtcbiAgdmFyIHNvdXJjZUtleXMsIGtleSwgaW5kZXgsIHF1YW50aXR5O1xuXG4gIGlmICghY29tbW9uLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2Fubm90IG1lcmdlIG1hcHBpbmdzOyB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdCBpcyB1bmFjY2VwdGFibGUnKTtcbiAgfVxuXG4gIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG5cbiAgICBpZiAoIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc3RpbmF0aW9uLCBrZXkpKSB7XG4gICAgICBkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XG4gICAgICBvdmVycmlkYWJsZUtleXNba2V5XSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsXG4gIHN0YXJ0TGluZSwgc3RhcnRMaW5lU3RhcnQsIHN0YXJ0UG9zKSB7XG5cbiAgdmFyIGluZGV4LCBxdWFudGl0eTtcblxuICAvLyBUaGUgb3V0cHV0IGlzIGEgcGxhaW4gb2JqZWN0IGhlcmUsIHNvIGtleXMgY2FuIG9ubHkgYmUgc3RyaW5ncy5cbiAgLy8gV2UgbmVlZCB0byBjb252ZXJ0IGtleU5vZGUgdG8gYSBzdHJpbmcsIGJ1dCBkb2luZyBzbyBjYW4gaGFuZyB0aGUgcHJvY2Vzc1xuICAvLyAoZGVlcGx5IG5lc3RlZCBhcnJheXMgdGhhdCBleHBsb2RlIGV4cG9uZW50aWFsbHkgdXNpbmcgYWxpYXNlcykuXG4gIGlmIChBcnJheS5pc0FycmF5KGtleU5vZGUpKSB7XG4gICAga2V5Tm9kZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGtleU5vZGUpO1xuXG4gICAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0ga2V5Tm9kZS5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleU5vZGVbaW5kZXhdKSkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUga2V5cycpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGtleU5vZGUgPT09ICdvYmplY3QnICYmIF9jbGFzcyhrZXlOb2RlW2luZGV4XSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgIGtleU5vZGVbaW5kZXhdID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQXZvaWQgY29kZSBleGVjdXRpb24gaW4gbG9hZCgpIHZpYSB0b1N0cmluZyBwcm9wZXJ0eVxuICAvLyAoc3RpbGwgdXNlIGl0cyBvd24gdG9TdHJpbmcgZm9yIGFycmF5cywgdGltZXN0YW1wcyxcbiAgLy8gYW5kIHdoYXRldmVyIHVzZXIgc2NoZW1hIGV4dGVuc2lvbnMgaGFwcGVuIHRvIGhhdmUgQEB0b1N0cmluZ1RhZylcbiAgaWYgKHR5cGVvZiBrZXlOb2RlID09PSAnb2JqZWN0JyAmJiBfY2xhc3Moa2V5Tm9kZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAga2V5Tm9kZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG5cblxuICBrZXlOb2RlID0gU3RyaW5nKGtleU5vZGUpO1xuXG4gIGlmIChfcmVzdWx0ID09PSBudWxsKSB7XG4gICAgX3Jlc3VsdCA9IHt9O1xuICB9XG5cbiAgaWYgKGtleVRhZyA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOm1lcmdlJykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlTm9kZSkpIHtcbiAgICAgIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHZhbHVlTm9kZS5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgbWVyZ2VNYXBwaW5ncyhzdGF0ZSwgX3Jlc3VsdCwgdmFsdWVOb2RlW2luZGV4XSwgb3ZlcnJpZGFibGVLZXlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWVyZ2VNYXBwaW5ncyhzdGF0ZSwgX3Jlc3VsdCwgdmFsdWVOb2RlLCBvdmVycmlkYWJsZUtleXMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIXN0YXRlLmpzb24gJiZcbiAgICAgICAgIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKG92ZXJyaWRhYmxlS2V5cywga2V5Tm9kZSkgJiZcbiAgICAgICAgX2hhc093blByb3BlcnR5LmNhbGwoX3Jlc3VsdCwga2V5Tm9kZSkpIHtcbiAgICAgIHN0YXRlLmxpbmUgPSBzdGFydExpbmUgfHwgc3RhdGUubGluZTtcbiAgICAgIHN0YXRlLmxpbmVTdGFydCA9IHN0YXJ0TGluZVN0YXJ0IHx8IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhcnRQb3MgfHwgc3RhdGUucG9zaXRpb247XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRlZCBtYXBwaW5nIGtleScpO1xuICAgIH1cblxuICAgIC8vIHVzZWQgZm9yIHRoaXMgc3BlY2lmaWMga2V5IG9ubHkgYmVjYXVzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgc2xvd1xuICAgIGlmIChrZXlOb2RlID09PSAnX19wcm90b19fJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9yZXN1bHQsIGtleU5vZGUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlTm9kZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHRba2V5Tm9kZV0gPSB2YWx1ZU5vZGU7XG4gICAgfVxuICAgIGRlbGV0ZSBvdmVycmlkYWJsZUtleXNba2V5Tm9kZV07XG4gIH1cblxuICByZXR1cm4gX3Jlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVCcmVhayhzdGF0ZSkge1xuICB2YXIgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4MEEvKiBMRiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MEQvKiBDUiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDBBLyogTEYgKi8pIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdhIGxpbmUgYnJlYWsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIHN0YXRlLmxpbmUgKz0gMTtcbiAgc3RhdGUubGluZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gIHN0YXRlLmZpcnN0VGFiSW5MaW5lID0gLTE7XG59XG5cbmZ1bmN0aW9uIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGFsbG93Q29tbWVudHMsIGNoZWNrSW5kZW50KSB7XG4gIHZhciBsaW5lQnJlYWtzID0gMCxcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgaWYgKGNoID09PSAweDA5LyogVGFiICovICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lID09PSAtMSkge1xuICAgICAgICBzdGF0ZS5maXJzdFRhYkluTGluZSA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd0NvbW1lbnRzICYmIGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgZG8ge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9IHdoaWxlIChjaCAhPT0gMHgwQS8qIExGICovICYmIGNoICE9PSAweDBELyogQ1IgKi8gJiYgY2ggIT09IDApO1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGxpbmVCcmVha3MrKztcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgICB3aGlsZSAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50Kys7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoZWNrSW5kZW50ICE9PSAtMSAmJiBsaW5lQnJlYWtzICE9PSAwICYmIHN0YXRlLmxpbmVJbmRlbnQgPCBjaGVja0luZGVudCkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ2RlZmljaWVudCBpbmRlbnRhdGlvbicpO1xuICB9XG5cbiAgcmV0dXJuIGxpbmVCcmVha3M7XG59XG5cbmZ1bmN0aW9uIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uKTtcblxuICAvLyBDb25kaXRpb24gc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCBpcyB0ZXN0ZWRcbiAgLy8gaW4gcGFyZW50IG9uIGVhY2ggY2FsbCwgZm9yIGVmZmljaWVuY3kuIE5vIG5lZWRzIHRvIHRlc3QgaGVyZSBhZ2Fpbi5cbiAgaWYgKChjaCA9PT0gMHgyRC8qIC0gKi8gfHwgY2ggPT09IDB4MkUvKiAuICovKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMSkgJiZcbiAgICAgIGNoID09PSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbiArIDIpKSB7XG5cbiAgICBfcG9zaXRpb24gKz0gMztcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAwIHx8IGlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgc3RhdGUucmVzdWx0ICs9ICcgJztcbiAgfSBlbHNlIGlmIChjb3VudCA+IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgY291bnQgLSAxKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHJlYWRQbGFpblNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCwgd2l0aGluRmxvd0NvbGxlY3Rpb24pIHtcbiAgdmFyIHByZWNlZGluZyxcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIGNhcHR1cmVTdGFydCxcbiAgICAgIGNhcHR1cmVFbmQsXG4gICAgICBoYXNQZW5kaW5nQ29udGVudCxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9saW5lSW5kZW50LFxuICAgICAgX2tpbmQgPSBzdGF0ZS5raW5kLFxuICAgICAgX3Jlc3VsdCA9IHN0YXRlLnJlc3VsdCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGlzX1dTX09SX0VPTChjaCkgICAgICB8fFxuICAgICAgaXNfRkxPV19JTkRJQ0FUT1IoY2gpIHx8XG4gICAgICBjaCA9PT0gMHgyMy8qICMgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI2LyogJiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MkEvKiAqICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyMS8qICEgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDdDLyogfCAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4M0UvKiA+ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyNy8qICcgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIyLyogXCIgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI1LyogJSAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4NDAvKiBAICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg2MC8qIGAgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoY2ggPT09IDB4M0YvKiA/ICovIHx8IGNoID09PSAweDJELyogLSAqLykge1xuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmIChpc19XU19PUl9FT0woZm9sbG93aW5nKSB8fFxuICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgzQS8qIDogKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoZm9sbG93aW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBwcmVjZWRpbmcgPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uIC0gMSk7XG5cbiAgICAgIGlmIChpc19XU19PUl9FT0wocHJlY2VkaW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkgfHxcbiAgICAgICAgICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgICAgYnJlYWs7XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9saW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfbGluZUluZGVudCA9IHN0YXRlLmxpbmVJbmRlbnQ7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgLTEpO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+PSBub2RlSW5kZW50KSB7XG4gICAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbiA9IGNhcHR1cmVFbmQ7XG4gICAgICAgIHN0YXRlLmxpbmUgPSBfbGluZTtcbiAgICAgICAgc3RhdGUubGluZVN0YXJ0ID0gX2xpbmVTdGFydDtcbiAgICAgICAgc3RhdGUubGluZUluZGVudCA9IF9saW5lSW5kZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzUGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHN0YXRlLmxpbmUgLSBfbGluZSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb24gKyAxO1xuICAgIH1cblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcblxuICBpZiAoc3RhdGUucmVzdWx0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gX2tpbmQ7XG4gIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2gsXG4gICAgICBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQ7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjcvKiAnICovKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgc3RhdGUucG9zaXRpb24rKztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlICgoY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSkgIT09IDApIHtcbiAgICBpZiAoY2ggPT09IDB4MjcvKiAnICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBjYXB0dXJlRW5kLCB0cnVlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCBub2RlSW5kZW50KSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBkb2N1bWVudCB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgc2luZ2xlIHF1b3RlZCBzY2FsYXInKTtcbn1cblxuZnVuY3Rpb24gcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhleExlbmd0aCxcbiAgICAgIGhleFJlc3VsdCxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIyLyogXCIgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyMi8qIFwiICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDVDLyogXFwgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpO1xuXG4gICAgICAgIC8vIFRPRE86IHJld29yayB0byBpbmxpbmUgZm4gd2l0aCBubyB0eXBlIGNhc3Q/XG4gICAgICB9IGVsc2UgaWYgKGNoIDwgMjU2ICYmIHNpbXBsZUVzY2FwZUNoZWNrW2NoXSkge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gc2ltcGxlRXNjYXBlTWFwW2NoXTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIGlmICgodG1wID0gZXNjYXBlZEhleExlbihjaCkpID4gMCkge1xuICAgICAgICBoZXhMZW5ndGggPSB0bXA7XG4gICAgICAgIGhleFJlc3VsdCA9IDA7XG5cbiAgICAgICAgZm9yICg7IGhleExlbmd0aCA+IDA7IGhleExlbmd0aC0tKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgICAgaWYgKCh0bXAgPSBmcm9tSGV4Q29kZShjaCkpID49IDApIHtcbiAgICAgICAgICAgIGhleFJlc3VsdCA9IChoZXhSZXN1bHQgPDwgNCkgKyB0bXA7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIGhleGFkZWNpbWFsIGNoYXJhY3RlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjaGFyRnJvbUNvZGVwb2ludChoZXhSZXN1bHQpO1xuXG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmtub3duIGVzY2FwZSBzZXF1ZW5jZScpO1xuICAgICAgfVxuXG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBkb3VibGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIHJlYWROZXh0ID0gdHJ1ZSxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9wb3MsXG4gICAgICBfdGFnICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9yZXN1bHQsXG4gICAgICBfYW5jaG9yICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIHRlcm1pbmF0b3IsXG4gICAgICBpc1BhaXIsXG4gICAgICBpc0V4cGxpY2l0UGFpcixcbiAgICAgIGlzTWFwcGluZyxcbiAgICAgIG92ZXJyaWRhYmxlS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBrZXlOb2RlLFxuICAgICAga2V5VGFnLFxuICAgICAgdmFsdWVOb2RlLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4NUIvKiBbICovKSB7XG4gICAgdGVybWluYXRvciA9IDB4NUQ7LyogXSAqL1xuICAgIGlzTWFwcGluZyA9IGZhbHNlO1xuICAgIF9yZXN1bHQgPSBbXTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHg3Qi8qIHsgKi8pIHtcbiAgICB0ZXJtaW5hdG9yID0gMHg3RDsvKiB9ICovXG4gICAgaXNNYXBwaW5nID0gdHJ1ZTtcbiAgICBfcmVzdWx0ID0ge307XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IHRlcm1pbmF0b3IpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgIHN0YXRlLmtpbmQgPSBpc01hcHBpbmcgPyAnbWFwcGluZycgOiAnc2VxdWVuY2UnO1xuICAgICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXJlYWROZXh0KSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbWlzc2VkIGNvbW1hIGJldHdlZW4gZmxvdyBjb2xsZWN0aW9uIGVudHJpZXMnKTtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDJDLyogLCAqLykge1xuICAgICAgLy8gXCJmbG93IGNvbGxlY3Rpb24gZW50cmllcyBjYW4gbmV2ZXIgYmUgY29tcGxldGVseSBlbXB0eVwiLCBhcyBwZXIgWUFNTCAxLjIsIHNlY3Rpb24gNy40XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCBcImV4cGVjdGVkIHRoZSBub2RlIGNvbnRlbnQsIGJ1dCBmb3VuZCAnLCdcIik7XG4gICAgfVxuXG4gICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSBmYWxzZTtcblxuICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG4gICAgICAgIGlzUGFpciA9IGlzRXhwbGljaXRQYWlyID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lOyAvLyBTYXZlIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICBfcG9zID0gc3RhdGUucG9zaXRpb247XG4gICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoaXNFeHBsaWNpdFBhaXIgfHwgc3RhdGUubGluZSA9PT0gX2xpbmUpICYmIGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgaXNQYWlyID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuICAgICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgICAgdmFsdWVOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChpc01hcHBpbmcpIHtcbiAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKTtcbiAgICB9IGVsc2UgaWYgKGlzUGFpcikge1xuICAgICAgX3Jlc3VsdC5wdXNoKHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIG51bGwsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHQucHVzaChrZXlOb2RlKTtcbiAgICB9XG5cbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDB4MkMvKiAsICovKSB7XG4gICAgICByZWFkTmV4dCA9IHRydWU7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWROZXh0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgZmxvdyBjb2xsZWN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgZm9sZGluZyxcbiAgICAgIGNob21waW5nICAgICAgID0gQ0hPTVBJTkdfQ0xJUCxcbiAgICAgIGRpZFJlYWRDb250ZW50ID0gZmFsc2UsXG4gICAgICBkZXRlY3RlZEluZGVudCA9IGZhbHNlLFxuICAgICAgdGV4dEluZGVudCAgICAgPSBub2RlSW5kZW50LFxuICAgICAgZW1wdHlMaW5lcyAgICAgPSAwLFxuICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZSxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDdDLyogfCAqLykge1xuICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgzRS8qID4gKi8pIHtcbiAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQi8qICsgKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgICBpZiAoQ0hPTVBJTkdfQ0xJUCA9PT0gY2hvbXBpbmcpIHtcbiAgICAgICAgY2hvbXBpbmcgPSAoY2ggPT09IDB4MkIvKiArICovKSA/IENIT01QSU5HX0tFRVAgOiBDSE9NUElOR19TVFJJUDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdyZXBlYXQgb2YgYSBjaG9tcGluZyBtb2RlIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHRtcCA9IGZyb21EZWNpbWFsQ29kZShjaCkpID49IDApIHtcbiAgICAgIGlmICh0bXAgPT09IDApIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBleHBsaWNpdCBpbmRlbnRhdGlvbiB3aWR0aCBvZiBhIGJsb2NrIHNjYWxhcjsgaXQgY2Fubm90IGJlIGxlc3MgdGhhbiBvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoIWRldGVjdGVkSW5kZW50KSB7XG4gICAgICAgIHRleHRJbmRlbnQgPSBub2RlSW5kZW50ICsgdG1wIC0gMTtcbiAgICAgICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhbiBpbmRlbnRhdGlvbiB3aWR0aCBpZGVudGlmaWVyJyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSk7XG5cbiAgICBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIHdoaWxlICgoIWRldGVjdGVkSW5kZW50IHx8IHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSAmJlxuICAgICAgICAgICAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykpIHtcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIWRldGVjdGVkSW5kZW50ICYmIHN0YXRlLmxpbmVJbmRlbnQgPiB0ZXh0SW5kZW50KSB7XG4gICAgICB0ZXh0SW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICB9XG5cbiAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgZW1wdHlMaW5lcysrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRW5kIG9mIHRoZSBzY2FsYXIuXG4gICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSB7XG5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGNob21waW5nLlxuICAgICAgaWYgKGNob21waW5nID09PSBDSE9NUElOR19LRUVQKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBkaWRSZWFkQ29udGVudCA/IDEgKyBlbXB0eUxpbmVzIDogZW1wdHlMaW5lcyk7XG4gICAgICB9IGVsc2UgaWYgKGNob21waW5nID09PSBDSE9NUElOR19DTElQKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgdGhlIHNjYWxhciBpcyBub3QgZW1wdHkuXG4gICAgICAgICAgc3RhdGUucmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJyZWFrIHRoaXMgYHdoaWxlYCBjeWNsZSBhbmQgZ28gdG8gdGhlIGZ1bmNpdG9uJ3MgZXBpbG9ndWUuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBGb2xkZWQgc3R5bGU6IHVzZSBmYW5jeSBydWxlcyB0byBoYW5kbGUgbGluZSBicmVha3MuXG4gICAgaWYgKGZvbGRpbmcpIHtcblxuICAgICAgLy8gTGluZXMgc3RhcnRpbmcgd2l0aCB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIChtb3JlLWluZGVudGVkIGxpbmVzKSBhcmUgbm90IGZvbGRlZC5cbiAgICAgIGlmIChpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSB0cnVlO1xuICAgICAgICAvLyBleGNlcHQgZm9yIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgKGNmLiBFeGFtcGxlIDguMSlcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcblxuICAgICAgLy8gRW5kIG9mIG1vcmUtaW5kZW50ZWQgYmxvY2suXG4gICAgICB9IGVsc2UgaWYgKGF0TW9yZUluZGVudGVkKSB7XG4gICAgICAgIGF0TW9yZUluZGVudGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzICsgMSk7XG5cbiAgICAgIC8vIEp1c3Qgb25lIGxpbmUgYnJlYWsgLSBwZXJjZWl2ZSBhcyB0aGUgc2FtZSBsaW5lLlxuICAgICAgfSBlbHNlIGlmIChlbXB0eUxpbmVzID09PSAwKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgd2UgaGF2ZSBhbHJlYWR5IHJlYWQgc29tZSBzY2FsYXIgY29udGVudC5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFNldmVyYWwgbGluZSBicmVha3MgLSBwZXJjZWl2ZSBhcyBkaWZmZXJlbnQgbGluZXMuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZW1wdHlMaW5lcyk7XG4gICAgICB9XG5cbiAgICAvLyBMaXRlcmFsIHN0eWxlOiBqdXN0IGFkZCBleGFjdCBudW1iZXIgb2YgbGluZSBicmVha3MgYmV0d2VlbiBjb250ZW50IGxpbmVzLlxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIGFsbCBsaW5lIGJyZWFrcyBleGNlcHQgdGhlIGhlYWRlciBsaW5lIGJyZWFrLlxuICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICB9XG5cbiAgICBkaWRSZWFkQ29udGVudCA9IHRydWU7XG4gICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgIGVtcHR5TGluZXMgPSAwO1xuICAgIGNhcHR1cmVTdGFydCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBfbGluZSxcbiAgICAgIF90YWcgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIF9yZXN1bHQgICA9IFtdLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgZGV0ZWN0ZWQgID0gZmFsc2UsXG4gICAgICBjaDtcblxuICAvLyB0aGVyZSBpcyBhIGxlYWRpbmcgdGFiIGJlZm9yZSB0aGlzIHRva2VuLCBzbyBpdCBjYW4ndCBiZSBhIGJsb2NrIHNlcXVlbmNlL21hcHBpbmc7XG4gIC8vIGl0IGNhbiBzdGlsbCBiZSBmbG93IHNlcXVlbmNlL21hcHBpbmcgb3IgYSBzY2FsYXJcbiAgaWYgKHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChzdGF0ZS5maXJzdFRhYkluTGluZSAhPT0gLTEpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhdGUuZmlyc3RUYWJJbkxpbmU7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFiIGNoYXJhY3RlcnMgbXVzdCBub3QgYmUgdXNlZCBpbiBpbmRlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChjaCAhPT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmICghaXNfV1NfT1JfRU9MKGZvbGxvd2luZykpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPD0gbm9kZUluZGVudCkge1xuICAgICAgICBfcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19JTiwgZmFsc2UsIHRydWUpO1xuICAgIF9yZXN1bHQucHVzaChzdGF0ZS5yZXN1bHQpO1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoKHN0YXRlLmxpbmUgPT09IF9saW5lIHx8IHN0YXRlLmxpbmVJbmRlbnQgPiBub2RlSW5kZW50KSAmJiAoY2ggIT09IDApKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGluZGVudGF0aW9uIG9mIGEgc2VxdWVuY2UgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdzZXF1ZW5jZSc7XG4gICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIG5vZGVJbmRlbnQsIGZsb3dJbmRlbnQpIHtcbiAgdmFyIGZvbGxvd2luZyxcbiAgICAgIGFsbG93Q29tcGFjdCxcbiAgICAgIF9saW5lLFxuICAgICAgX2tleUxpbmUsXG4gICAgICBfa2V5TGluZVN0YXJ0LFxuICAgICAgX2tleVBvcyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBfYW5jaG9yICAgICAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgICAgICA9IHt9LFxuICAgICAgb3ZlcnJpZGFibGVLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGtleVRhZyAgICAgICAgPSBudWxsLFxuICAgICAga2V5Tm9kZSAgICAgICA9IG51bGwsXG4gICAgICB2YWx1ZU5vZGUgICAgID0gbnVsbCxcbiAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkICAgICAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIC8vIHRoZXJlIGlzIGEgbGVhZGluZyB0YWIgYmVmb3JlIHRoaXMgdG9rZW4sIHNvIGl0IGNhbid0IGJlIGEgYmxvY2sgc2VxdWVuY2UvbWFwcGluZztcbiAgLy8gaXQgY2FuIHN0aWxsIGJlIGZsb3cgc2VxdWVuY2UvbWFwcGluZyBvciBhIHNjYWxhclxuICBpZiAoc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKCFhdEV4cGxpY2l0S2V5ICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkge1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGF0ZS5maXJzdFRhYkluTGluZTtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuICAgIF9saW5lID0gc3RhdGUubGluZTsgLy8gU2F2ZSB0aGUgY3VycmVudCBsaW5lLlxuXG4gICAgLy9cbiAgICAvLyBFeHBsaWNpdCBub3RhdGlvbiBjYXNlLiBUaGVyZSBhcmUgdHdvIHNlcGFyYXRlIGJsb2NrczpcbiAgICAvLyBmaXJzdCBmb3IgdGhlIGtleSAoZGVub3RlZCBieSBcIj9cIikgYW5kIHNlY29uZCBmb3IgdGhlIHZhbHVlIChkZW5vdGVkIGJ5IFwiOlwiKVxuICAgIC8vXG4gICAgaWYgKChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4M0EvKiA6ICovKSAmJiBpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4M0YvKiA/ICovKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIG51bGwsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IHRydWU7XG4gICAgICAgIGFsbG93Q29tcGFjdCA9IHRydWU7XG5cbiAgICAgIH0gZWxzZSBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgICAgICAvLyBpLmUuIDB4M0EvKiA6ICovID09PSBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGV4cGxpY2l0IGtleS5cbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICBhbGxvd0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaW5jb21wbGV0ZSBleHBsaWNpdCBtYXBwaW5nIHBhaXI7IGEga2V5IG5vZGUgaXMgbWlzc2VkOyBvciBmb2xsb3dlZCBieSBhIG5vbi10YWJ1bGF0ZWQgZW1wdHkgbGluZScpO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICAgICAgY2ggPSBmb2xsb3dpbmc7XG5cbiAgICAvL1xuICAgIC8vIEltcGxpY2l0IG5vdGF0aW9uIGNhc2UuIEZsb3ctc3R5bGUgbm9kZSBhcyB0aGUga2V5IGZpcnN0LCB0aGVuIFwiOlwiLCBhbmQgdGhlIHZhbHVlLlxuICAgIC8vXG4gICAgfSBlbHNlIHtcbiAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9rZXlMaW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfa2V5UG9zID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIGlmICghY29tcG9zZU5vZGUoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19PVVQsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgICAvLyBOZWl0aGVyIGltcGxpY2l0IG5vciBleHBsaWNpdCBub3RhdGlvbi5cbiAgICAgICAgLy8gUmVhZGluZyBpcyBkb25lLiBHbyB0byB0aGUgZXBpbG9ndWUuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUpIHtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmICghaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Egd2hpdGVzcGFjZSBjaGFyYWN0ZXIgaXMgZXhwZWN0ZWQgYWZ0ZXIgdGhlIGtleS12YWx1ZSBzZXBhcmF0b3Igd2l0aGluIGEgYmxvY2sgbWFwcGluZycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZTtcbiAgICAgICAgICBhbGxvd0NvbXBhY3QgPSBmYWxzZTtcbiAgICAgICAgICBrZXlUYWcgPSBzdGF0ZS50YWc7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcblxuICAgICAgICB9IGVsc2UgaWYgKGRldGVjdGVkKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhbiBpbXBsaWNpdCBtYXBwaW5nIHBhaXI7IGEgY29sb24gaXMgbWlzc2VkJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhlIHJlc3VsdCBvZiBgY29tcG9zZU5vZGVgLlxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhIGJsb2NrIG1hcHBpbmcgZW50cnk7IGEgbXVsdGlsaW5lIGtleSBtYXkgbm90IGJlIGFuIGltcGxpY2l0IGtleScpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICBzdGF0ZS5hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBDb21tb24gcmVhZGluZyBjb2RlIGZvciBib3RoIGV4cGxpY2l0IGFuZCBpbXBsaWNpdCBub3RhdGlvbnMuXG4gICAgLy9cbiAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpIHtcbiAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgICAgX2tleUxpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgICAgX2tleVBvcyA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfQkxPQ0tfT1VULCB0cnVlLCBhbGxvd0NvbXBhY3QpKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKChzdGF0ZS5saW5lID09PSBfbGluZSB8fCBzdGF0ZS5saW5lSW5kZW50ID4gbm9kZUluZGVudCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBpbmRlbnRhdGlvbiBvZiBhIG1hcHBpbmcgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBFcGlsb2d1ZS5cbiAgLy9cblxuICAvLyBTcGVjaWFsIGNhc2U6IGxhc3QgbWFwcGluZydzIG5vZGUgY29udGFpbnMgb25seSB0aGUga2V5IGluIGV4cGxpY2l0IG5vdGF0aW9uLlxuICBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsLCBfa2V5TGluZSwgX2tleUxpbmVTdGFydCwgX2tleVBvcyk7XG4gIH1cblxuICAvLyBFeHBvc2UgdGhlIHJlc3VsdGluZyBtYXBwaW5nLlxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdtYXBwaW5nJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGRldGVjdGVkO1xufVxuXG5mdW5jdGlvbiByZWFkVGFnUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGlzVmVyYmF0aW0gPSBmYWxzZSxcbiAgICAgIGlzTmFtZWQgICAgPSBmYWxzZSxcbiAgICAgIHRhZ0hhbmRsZSxcbiAgICAgIHRhZ05hbWUsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyMS8qICEgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUudGFnICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGEgdGFnIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDNDLyogPCAqLykge1xuICAgIGlzVmVyYmF0aW0gPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB9IGVsc2UgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgIHRhZ0hhbmRsZSA9ICchISc7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSB7XG4gICAgdGFnSGFuZGxlID0gJyEnO1xuICB9XG5cbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgaWYgKGlzVmVyYmF0aW0pIHtcbiAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiBjaCAhPT0gMHgzRS8qID4gKi8pO1xuXG4gICAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgc3RhdGUubGVuZ3RoKSB7XG4gICAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIHZlcmJhdGltIHRhZycpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcblxuICAgICAgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgICAgICBpZiAoIWlzTmFtZWQpIHtcbiAgICAgICAgICB0YWdIYW5kbGUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24gLSAxLCBzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICAgICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdCh0YWdIYW5kbGUpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZWQgdGFnIGhhbmRsZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpc05hbWVkID0gdHJ1ZTtcbiAgICAgICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZXhjbGFtYXRpb24gbWFya3MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGFnTmFtZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTLnRlc3QodGFnTmFtZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgc3VmZml4IGNhbm5vdCBjb250YWluIGZsb3cgaW5kaWNhdG9yIGNoYXJhY3RlcnMnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGFnTmFtZSAmJiAhUEFUVEVSTl9UQUdfVVJJLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIG5hbWUgY2Fubm90IGNvbnRhaW4gc3VjaCBjaGFyYWN0ZXJzOiAnICsgdGFnTmFtZSk7XG4gIH1cblxuICB0cnkge1xuICAgIHRhZ05hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodGFnTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBpcyBtYWxmb3JtZWQ6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIGlmIChpc1ZlcmJhdGltKSB7XG4gICAgc3RhdGUudGFnID0gdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLnRhZ01hcCwgdGFnSGFuZGxlKSkge1xuICAgIHN0YXRlLnRhZyA9IHN0YXRlLnRhZ01hcFt0YWdIYW5kbGVdICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEnKSB7XG4gICAgc3RhdGUudGFnID0gJyEnICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEhJykge1xuICAgIHN0YXRlLnRhZyA9ICd0YWc6eWFtbC5vcmcsMjAwMjonICsgdGFnTmFtZTtcblxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmRlY2xhcmVkIHRhZyBoYW5kbGUgXCInICsgdGFnSGFuZGxlICsgJ1wiJyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyNi8qICYgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGFuIGFuY2hvciBwcm9wZXJ0eScpO1xuICB9XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYW5jaG9yIG5vZGUgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXInKTtcbiAgfVxuXG4gIHN0YXRlLmFuY2hvciA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFsaWFzKHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sIGFsaWFzLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MkEvKiAqICovKSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYWxpYXMgbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlcicpO1xuICB9XG5cbiAgYWxpYXMgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLmFuY2hvck1hcCwgYWxpYXMpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuaWRlbnRpZmllZCBhbGlhcyBcIicgKyBhbGlhcyArICdcIicpO1xuICB9XG5cbiAgc3RhdGUucmVzdWx0ID0gc3RhdGUuYW5jaG9yTWFwW2FsaWFzXTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZU5vZGUoc3RhdGUsIHBhcmVudEluZGVudCwgbm9kZUNvbnRleHQsIGFsbG93VG9TZWVrLCBhbGxvd0NvbXBhY3QpIHtcbiAgdmFyIGFsbG93QmxvY2tTdHlsZXMsXG4gICAgICBhbGxvd0Jsb2NrU2NhbGFycyxcbiAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyxcbiAgICAgIGluZGVudFN0YXR1cyA9IDEsIC8vIDE6IHRoaXM+cGFyZW50LCAwOiB0aGlzPXBhcmVudCwgLTE6IHRoaXM8cGFyZW50XG4gICAgICBhdE5ld0xpbmUgID0gZmFsc2UsXG4gICAgICBoYXNDb250ZW50ID0gZmFsc2UsXG4gICAgICB0eXBlSW5kZXgsXG4gICAgICB0eXBlUXVhbnRpdHksXG4gICAgICB0eXBlTGlzdCxcbiAgICAgIHR5cGUsXG4gICAgICBmbG93SW5kZW50LFxuICAgICAgYmxvY2tJbmRlbnQ7XG5cbiAgaWYgKHN0YXRlLmxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgc3RhdGUubGlzdGVuZXIoJ29wZW4nLCBzdGF0ZSk7XG4gIH1cblxuICBzdGF0ZS50YWcgICAgPSBudWxsO1xuICBzdGF0ZS5hbmNob3IgPSBudWxsO1xuICBzdGF0ZS5raW5kICAgPSBudWxsO1xuICBzdGF0ZS5yZXN1bHQgPSBudWxsO1xuXG4gIGFsbG93QmxvY2tTdHlsZXMgPSBhbGxvd0Jsb2NrU2NhbGFycyA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9XG4gICAgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0IHx8XG4gICAgQ09OVEVYVF9CTE9DS19JTiAgPT09IG5vZGVDb250ZXh0O1xuXG4gIGlmIChhbGxvd1RvU2Vlaykge1xuICAgIGlmIChza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSkpIHtcbiAgICAgIGF0TmV3TGluZSA9IHRydWU7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50IDwgcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEpIHtcbiAgICB3aGlsZSAocmVhZFRhZ1Byb3BlcnR5KHN0YXRlKSB8fCByZWFkQW5jaG9yUHJvcGVydHkoc3RhdGUpKSB7XG4gICAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICAgIGF0TmV3TGluZSA9IHRydWU7XG4gICAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGFsbG93QmxvY2tTdHlsZXM7XG5cbiAgICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPiBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zKSB7XG4gICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gYXROZXdMaW5lIHx8IGFsbG93Q29tcGFjdDtcbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEgfHwgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgaWYgKENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQgfHwgQ09OVEVYVF9GTE9XX09VVCA9PT0gbm9kZUNvbnRleHQpIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQgKyAxO1xuICAgIH1cblxuICAgIGJsb2NrSW5kZW50ID0gc3RhdGUucG9zaXRpb24gLSBzdGF0ZS5saW5lU3RhcnQ7XG5cbiAgICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmXG4gICAgICAgICAgKHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCkgfHxcbiAgICAgICAgICAgcmVhZEJsb2NrTWFwcGluZyhzdGF0ZSwgYmxvY2tJbmRlbnQsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgIHJlYWRGbG93Q29sbGVjdGlvbihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKGFsbG93QmxvY2tTY2FsYXJzICYmIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHx8XG4gICAgICAgICAgICByZWFkU2luZ2xlUXVvdGVkU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50KSB8fFxuICAgICAgICAgICAgcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlYWRBbGlhcyhzdGF0ZSkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChzdGF0ZS50YWcgIT09IG51bGwgfHwgc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYWxpYXMgbm9kZSBzaG91bGQgbm90IGhhdmUgYW55IHByb3BlcnRpZXMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkUGxhaW5TY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0ZS50YWcgPSAnPyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRlbnRTdGF0dXMgPT09IDApIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogYmxvY2sgc2VxdWVuY2VzIGFyZSBhbGxvd2VkIHRvIGhhdmUgc2FtZSBpbmRlbnRhdGlvbiBsZXZlbCBhcyB0aGUgcGFyZW50LlxuICAgICAgLy8gaHR0cDovL3d3dy55YW1sLm9yZy9zcGVjLzEuMi9zcGVjLmh0bWwjaWQyNzk5Nzg0XG4gICAgICBoYXNDb250ZW50ID0gYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICB9IGVsc2UgaWYgKHN0YXRlLnRhZyA9PT0gJz8nKSB7XG4gICAgLy8gSW1wbGljaXQgcmVzb2x2aW5nIGlzIG5vdCBhbGxvd2VkIGZvciBub24tc2NhbGFyIHR5cGVzLCBhbmQgJz8nXG4gICAgLy8gbm9uLXNwZWNpZmljIHRhZyBpcyBvbmx5IGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gcGxhaW4gc2NhbGFycy5cbiAgICAvL1xuICAgIC8vIFdlIG9ubHkgbmVlZCB0byBjaGVjayBraW5kIGNvbmZvcm1pdHkgaW4gY2FzZSB1c2VyIGV4cGxpY2l0bHkgYXNzaWducyAnPydcbiAgICAvLyB0YWcsIGZvciBleGFtcGxlIGxpa2UgdGhpczogXCIhPD8+IFswXVwiXG4gICAgLy9cbiAgICBpZiAoc3RhdGUucmVzdWx0ICE9PSBudWxsICYmIHN0YXRlLmtpbmQgIT09ICdzY2FsYXInKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIG5vZGUga2luZCBmb3IgITw/PiB0YWc7IGl0IHNob3VsZCBiZSBcInNjYWxhclwiLCBub3QgXCInICsgc3RhdGUua2luZCArICdcIicpO1xuICAgIH1cblxuICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gc3RhdGUuaW1wbGljaXRUeXBlcy5sZW5ndGg7IHR5cGVJbmRleCA8IHR5cGVRdWFudGl0eTsgdHlwZUluZGV4ICs9IDEpIHtcbiAgICAgIHR5cGUgPSBzdGF0ZS5pbXBsaWNpdFR5cGVzW3R5cGVJbmRleF07XG5cbiAgICAgIGlmICh0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0KSkgeyAvLyBgc3RhdGUucmVzdWx0YCB1cGRhdGVkIGluIHJlc29sdmVyIGlmIG1hdGNoZWRcbiAgICAgICAgc3RhdGUucmVzdWx0ID0gdHlwZS5jb25zdHJ1Y3Qoc3RhdGUucmVzdWx0KTtcbiAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdGUudGFnICE9PSAnIScpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwoc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddLCBzdGF0ZS50YWcpKSB7XG4gICAgICB0eXBlID0gc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddW3N0YXRlLnRhZ107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGxvb2tpbmcgZm9yIG11bHRpIHR5cGVcbiAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgdHlwZUxpc3QgPSBzdGF0ZS50eXBlTWFwLm11bHRpW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ107XG5cbiAgICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gdHlwZUxpc3QubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICAgIGlmIChzdGF0ZS50YWcuc2xpY2UoMCwgdHlwZUxpc3RbdHlwZUluZGV4XS50YWcubGVuZ3RoKSA9PT0gdHlwZUxpc3RbdHlwZUluZGV4XS50YWcpIHtcbiAgICAgICAgICB0eXBlID0gdHlwZUxpc3RbdHlwZUluZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdHlwZSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gdGFnICE8JyArIHN0YXRlLnRhZyArICc+Jyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlLmtpbmQgIT09IHN0YXRlLmtpbmQpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgbm9kZSBraW5kIGZvciAhPCcgKyBzdGF0ZS50YWcgKyAnPiB0YWc7IGl0IHNob3VsZCBiZSBcIicgKyB0eXBlLmtpbmQgKyAnXCIsIG5vdCBcIicgKyBzdGF0ZS5raW5kICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0LCBzdGF0ZS50YWcpKSB7IC8vIGBzdGF0ZS5yZXN1bHRgIHVwZGF0ZWQgaW4gcmVzb2x2ZXIgaWYgbWF0Y2hlZFxuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Nhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8JyArIHN0YXRlLnRhZyArICc+IGV4cGxpY2l0IHRhZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5yZXN1bHQgPSB0eXBlLmNvbnN0cnVjdChzdGF0ZS5yZXN1bHQsIHN0YXRlLnRhZyk7XG4gICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdjbG9zZScsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gc3RhdGUudGFnICE9PSBudWxsIHx8ICBzdGF0ZS5hbmNob3IgIT09IG51bGwgfHwgaGFzQ29udGVudDtcbn1cblxuZnVuY3Rpb24gcmVhZERvY3VtZW50KHN0YXRlKSB7XG4gIHZhciBkb2N1bWVudFN0YXJ0ID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBfcG9zaXRpb24sXG4gICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgZGlyZWN0aXZlQXJncyxcbiAgICAgIGhhc0RpcmVjdGl2ZXMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIHN0YXRlLnZlcnNpb24gPSBudWxsO1xuICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSBzdGF0ZS5sZWdhY3k7XG4gIHN0YXRlLnRhZ01hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0YXRlLmFuY2hvck1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IDAgfHwgY2ggIT09IDB4MjUvKiAlICovKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBkaXJlY3RpdmVOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgZGlyZWN0aXZlQXJncyA9IFtdO1xuXG4gICAgaWYgKGRpcmVjdGl2ZU5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIHdoaWxlIChjaCAhPT0gMCkge1xuICAgICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19FT0woY2gpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc19FT0woY2gpKSBicmVhaztcblxuICAgICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZUFyZ3MucHVzaChzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoICE9PSAwKSByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChkaXJlY3RpdmVIYW5kbGVycywgZGlyZWN0aXZlTmFtZSkpIHtcbiAgICAgIGRpcmVjdGl2ZUhhbmRsZXJzW2RpcmVjdGl2ZU5hbWVdKHN0YXRlLCBkaXJlY3RpdmVOYW1lLCBkaXJlY3RpdmVBcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAndW5rbm93biBkb2N1bWVudCBkaXJlY3RpdmUgXCInICsgZGlyZWN0aXZlTmFtZSArICdcIicpO1xuICAgIH1cbiAgfVxuXG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICBpZiAoc3RhdGUubGluZUluZGVudCA9PT0gMCAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgICAgID09PSAweDJELyogLSAqLyAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpID09PSAweDJELyogLSAqLyAmJlxuICAgICAgc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDIpID09PSAweDJELyogLSAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uICs9IDM7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIH0gZWxzZSBpZiAoaGFzRGlyZWN0aXZlcykge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdkaXJlY3RpdmVzIGVuZCBtYXJrIGlzIGV4cGVjdGVkJyk7XG4gIH1cblxuICBjb21wb3NlTm9kZShzdGF0ZSwgc3RhdGUubGluZUluZGVudCAtIDEsIENPTlRFWFRfQkxPQ0tfT1VULCBmYWxzZSwgdHJ1ZSk7XG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICBpZiAoc3RhdGUuY2hlY2tMaW5lQnJlYWtzICYmXG4gICAgICBQQVRURVJOX05PTl9BU0NJSV9MSU5FX0JSRUFLUy50ZXN0KHN0YXRlLmlucHV0LnNsaWNlKGRvY3VtZW50U3RhcnQsIHN0YXRlLnBvc2l0aW9uKSkpIHtcbiAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICdub24tQVNDSUkgbGluZSBicmVha3MgYXJlIGludGVycHJldGVkIGFzIGNvbnRlbnQnKTtcbiAgfVxuXG4gIHN0YXRlLmRvY3VtZW50cy5wdXNoKHN0YXRlLnJlc3VsdCk7XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuXG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDJFLyogLiAqLykge1xuICAgICAgc3RhdGUucG9zaXRpb24gKz0gMztcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgKHN0YXRlLmxlbmd0aCAtIDEpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2VuZCBvZiB0aGUgc3RyZWFtIG9yIGEgZG9jdW1lbnQgc2VwYXJhdG9yIGlzIGV4cGVjdGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucykge1xuICBpbnB1dCA9IFN0cmluZyhpbnB1dCk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmIChpbnB1dC5sZW5ndGggIT09IDApIHtcblxuICAgIC8vIEFkZCB0YWlsaW5nIGBcXG5gIGlmIG5vdCBleGlzdHNcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChpbnB1dC5sZW5ndGggLSAxKSAhPT0gMHgwQS8qIExGICovICYmXG4gICAgICAgIGlucHV0LmNoYXJDb2RlQXQoaW5wdXQubGVuZ3RoIC0gMSkgIT09IDB4MEQvKiBDUiAqLykge1xuICAgICAgaW5wdXQgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgLy8gU3RyaXAgQk9NXG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgxKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIHZhciBudWxscG9zID0gaW5wdXQuaW5kZXhPZignXFwwJyk7XG5cbiAgaWYgKG51bGxwb3MgIT09IC0xKSB7XG4gICAgc3RhdGUucG9zaXRpb24gPSBudWxscG9zO1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdudWxsIGJ5dGUgaXMgbm90IGFsbG93ZWQgaW4gaW5wdXQnKTtcbiAgfVxuXG4gIC8vIFVzZSAwIGFzIHN0cmluZyB0ZXJtaW5hdG9yLiBUaGF0IHNpZ25pZmljYW50bHkgc2ltcGxpZmllcyBib3VuZHMgY2hlY2suXG4gIHN0YXRlLmlucHV0ICs9ICdcXDAnO1xuXG4gIHdoaWxlIChzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSA9PT0gMHgyMC8qIFNwYWNlICovKSB7XG4gICAgc3RhdGUubGluZUluZGVudCArPSAxO1xuICAgIHN0YXRlLnBvc2l0aW9uICs9IDE7XG4gIH1cblxuICB3aGlsZSAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICByZWFkRG9jdW1lbnQoc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmRvY3VtZW50cztcbn1cblxuXG5mdW5jdGlvbiBsb2FkQWxsKGlucHV0LCBpdGVyYXRvciwgb3B0aW9ucykge1xuICBpZiAoaXRlcmF0b3IgIT09IG51bGwgJiYgdHlwZW9mIGl0ZXJhdG9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gaXRlcmF0b3I7XG4gICAgaXRlcmF0b3IgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50cyA9IGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmICh0eXBlb2YgaXRlcmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzO1xuICB9XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBkb2N1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGl0ZXJhdG9yKGRvY3VtZW50c1tpbmRleF0pO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZChpbnB1dCwgb3B0aW9ucykge1xuICB2YXIgZG9jdW1lbnRzID0gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAvKmVzbGludC1kaXNhYmxlIG5vLXVuZGVmaW5lZCovXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChkb2N1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50c1swXTtcbiAgfVxuICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignZXhwZWN0ZWQgYSBzaW5nbGUgZG9jdW1lbnQgaW4gdGhlIHN0cmVhbSwgYnV0IGZvdW5kIG1vcmUnKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5sb2FkQWxsID0gbG9hZEFsbDtcbm1vZHVsZS5leHBvcnRzLmxvYWQgICAgPSBsb2FkO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyplc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSovXG5cbnZhciBjb21tb24gICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9jb21tb24nKTtcbnZhciBZQU1MRXhjZXB0aW9uICAgICAgID0gcmVxdWlyZSgnLi9leGNlcHRpb24nKTtcbnZhciBERUZBVUxUX1NDSEVNQSAgICAgID0gcmVxdWlyZSgnLi9zY2hlbWEvZGVmYXVsdCcpO1xuXG52YXIgX3RvU3RyaW5nICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgQ0hBUl9CT00gICAgICAgICAgICAgICAgICA9IDB4RkVGRjtcbnZhciBDSEFSX1RBQiAgICAgICAgICAgICAgICAgID0gMHgwOTsgLyogVGFiICovXG52YXIgQ0hBUl9MSU5FX0ZFRUQgICAgICAgICAgICA9IDB4MEE7IC8qIExGICovXG52YXIgQ0hBUl9DQVJSSUFHRV9SRVRVUk4gICAgICA9IDB4MEQ7IC8qIENSICovXG52YXIgQ0hBUl9TUEFDRSAgICAgICAgICAgICAgICA9IDB4MjA7IC8qIFNwYWNlICovXG52YXIgQ0hBUl9FWENMQU1BVElPTiAgICAgICAgICA9IDB4MjE7IC8qICEgKi9cbnZhciBDSEFSX0RPVUJMRV9RVU9URSAgICAgICAgID0gMHgyMjsgLyogXCIgKi9cbnZhciBDSEFSX1NIQVJQICAgICAgICAgICAgICAgID0gMHgyMzsgLyogIyAqL1xudmFyIENIQVJfUEVSQ0VOVCAgICAgICAgICAgICAgPSAweDI1OyAvKiAlICovXG52YXIgQ0hBUl9BTVBFUlNBTkQgICAgICAgICAgICA9IDB4MjY7IC8qICYgKi9cbnZhciBDSEFSX1NJTkdMRV9RVU9URSAgICAgICAgID0gMHgyNzsgLyogJyAqL1xudmFyIENIQVJfQVNURVJJU0sgICAgICAgICAgICAgPSAweDJBOyAvKiAqICovXG52YXIgQ0hBUl9DT01NQSAgICAgICAgICAgICAgICA9IDB4MkM7IC8qICwgKi9cbnZhciBDSEFSX01JTlVTICAgICAgICAgICAgICAgID0gMHgyRDsgLyogLSAqL1xudmFyIENIQVJfQ09MT04gICAgICAgICAgICAgICAgPSAweDNBOyAvKiA6ICovXG52YXIgQ0hBUl9FUVVBTFMgICAgICAgICAgICAgICA9IDB4M0Q7IC8qID0gKi9cbnZhciBDSEFSX0dSRUFURVJfVEhBTiAgICAgICAgID0gMHgzRTsgLyogPiAqL1xudmFyIENIQVJfUVVFU1RJT04gICAgICAgICAgICAgPSAweDNGOyAvKiA/ICovXG52YXIgQ0hBUl9DT01NRVJDSUFMX0FUICAgICAgICA9IDB4NDA7IC8qIEAgKi9cbnZhciBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVQgID0gMHg1QjsgLyogWyAqL1xudmFyIENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDVEOyAvKiBdICovXG52YXIgQ0hBUl9HUkFWRV9BQ0NFTlQgICAgICAgICA9IDB4NjA7IC8qIGAgKi9cbnZhciBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVCAgID0gMHg3QjsgLyogeyAqL1xudmFyIENIQVJfVkVSVElDQUxfTElORSAgICAgICAgPSAweDdDOyAvKiB8ICovXG52YXIgQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUICA9IDB4N0Q7IC8qIH0gKi9cblxudmFyIEVTQ0FQRV9TRVFVRU5DRVMgPSB7fTtcblxuRVNDQVBFX1NFUVVFTkNFU1sweDAwXSAgID0gJ1xcXFwwJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwN10gICA9ICdcXFxcYSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDhdICAgPSAnXFxcXGInO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA5XSAgID0gJ1xcXFx0JztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQV0gICA9ICdcXFxcbic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MEJdICAgPSAnXFxcXHYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBDXSAgID0gJ1xcXFxmJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwRF0gICA9ICdcXFxccic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MUJdICAgPSAnXFxcXGUnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIyXSAgID0gJ1xcXFxcIic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4NUNdICAgPSAnXFxcXFxcXFwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDg1XSAgID0gJ1xcXFxOJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHhBMF0gICA9ICdcXFxcXyc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOF0gPSAnXFxcXEwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIwMjldID0gJ1xcXFxQJztcblxudmFyIERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYID0gW1xuICAneScsICdZJywgJ3llcycsICdZZXMnLCAnWUVTJywgJ29uJywgJ09uJywgJ09OJyxcbiAgJ24nLCAnTicsICdubycsICdObycsICdOTycsICdvZmYnLCAnT2ZmJywgJ09GRidcbl07XG5cbnZhciBERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVggPSAvXlstK10/WzAtOV9dKyg/OjpbMC05X10rKSsoPzpcXC5bMC05X10qKT8kLztcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlTWFwKHNjaGVtYSwgbWFwKSB7XG4gIHZhciByZXN1bHQsIGtleXMsIGluZGV4LCBsZW5ndGgsIHRhZywgc3R5bGUsIHR5cGU7XG5cbiAgaWYgKG1hcCA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHJlc3VsdCA9IHt9O1xuICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdGFnID0ga2V5c1tpbmRleF07XG4gICAgc3R5bGUgPSBTdHJpbmcobWFwW3RhZ10pO1xuXG4gICAgaWYgKHRhZy5zbGljZSgwLCAyKSA9PT0gJyEhJykge1xuICAgICAgdGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWcuc2xpY2UoMik7XG4gICAgfVxuICAgIHR5cGUgPSBzY2hlbWEuY29tcGlsZWRUeXBlTWFwWydmYWxsYmFjayddW3RhZ107XG5cbiAgICBpZiAodHlwZSAmJiBfaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLnN0eWxlQWxpYXNlcywgc3R5bGUpKSB7XG4gICAgICBzdHlsZSA9IHR5cGUuc3R5bGVBbGlhc2VzW3N0eWxlXTtcbiAgICB9XG5cbiAgICByZXN1bHRbdGFnXSA9IHN0eWxlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZW5jb2RlSGV4KGNoYXJhY3Rlcikge1xuICB2YXIgc3RyaW5nLCBoYW5kbGUsIGxlbmd0aDtcblxuICBzdHJpbmcgPSBjaGFyYWN0ZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cbiAgaWYgKGNoYXJhY3RlciA8PSAweEZGKSB7XG4gICAgaGFuZGxlID0gJ3gnO1xuICAgIGxlbmd0aCA9IDI7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRikge1xuICAgIGhhbmRsZSA9ICd1JztcbiAgICBsZW5ndGggPSA0O1xuICB9IGVsc2UgaWYgKGNoYXJhY3RlciA8PSAweEZGRkZGRkZGKSB7XG4gICAgaGFuZGxlID0gJ1UnO1xuICAgIGxlbmd0aCA9IDg7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ2NvZGUgcG9pbnQgd2l0aGluIGEgc3RyaW5nIG1heSBub3QgYmUgZ3JlYXRlciB0aGFuIDB4RkZGRkZGRkYnKTtcbiAgfVxuXG4gIHJldHVybiAnXFxcXCcgKyBoYW5kbGUgKyBjb21tb24ucmVwZWF0KCcwJywgbGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59XG5cblxudmFyIFFVT1RJTkdfVFlQRV9TSU5HTEUgPSAxLFxuICAgIFFVT1RJTkdfVFlQRV9ET1VCTEUgPSAyO1xuXG5mdW5jdGlvbiBTdGF0ZShvcHRpb25zKSB7XG4gIHRoaXMuc2NoZW1hICAgICAgICA9IG9wdGlvbnNbJ3NjaGVtYSddIHx8IERFRkFVTFRfU0NIRU1BO1xuICB0aGlzLmluZGVudCAgICAgICAgPSBNYXRoLm1heCgxLCAob3B0aW9uc1snaW5kZW50J10gfHwgMikpO1xuICB0aGlzLm5vQXJyYXlJbmRlbnQgPSBvcHRpb25zWydub0FycmF5SW5kZW50J10gfHwgZmFsc2U7XG4gIHRoaXMuc2tpcEludmFsaWQgICA9IG9wdGlvbnNbJ3NraXBJbnZhbGlkJ10gfHwgZmFsc2U7XG4gIHRoaXMuZmxvd0xldmVsICAgICA9IChjb21tb24uaXNOb3RoaW5nKG9wdGlvbnNbJ2Zsb3dMZXZlbCddKSA/IC0xIDogb3B0aW9uc1snZmxvd0xldmVsJ10pO1xuICB0aGlzLnN0eWxlTWFwICAgICAgPSBjb21waWxlU3R5bGVNYXAodGhpcy5zY2hlbWEsIG9wdGlvbnNbJ3N0eWxlcyddIHx8IG51bGwpO1xuICB0aGlzLnNvcnRLZXlzICAgICAgPSBvcHRpb25zWydzb3J0S2V5cyddIHx8IGZhbHNlO1xuICB0aGlzLmxpbmVXaWR0aCAgICAgPSBvcHRpb25zWydsaW5lV2lkdGgnXSB8fCA4MDtcbiAgdGhpcy5ub1JlZnMgICAgICAgID0gb3B0aW9uc1snbm9SZWZzJ10gfHwgZmFsc2U7XG4gIHRoaXMubm9Db21wYXRNb2RlICA9IG9wdGlvbnNbJ25vQ29tcGF0TW9kZSddIHx8IGZhbHNlO1xuICB0aGlzLmNvbmRlbnNlRmxvdyAgPSBvcHRpb25zWydjb25kZW5zZUZsb3cnXSB8fCBmYWxzZTtcbiAgdGhpcy5xdW90aW5nVHlwZSAgID0gb3B0aW9uc1sncXVvdGluZ1R5cGUnXSA9PT0gJ1wiJyA/IFFVT1RJTkdfVFlQRV9ET1VCTEUgOiBRVU9USU5HX1RZUEVfU0lOR0xFO1xuICB0aGlzLmZvcmNlUXVvdGVzICAgPSBvcHRpb25zWydmb3JjZVF1b3RlcyddIHx8IGZhbHNlO1xuICB0aGlzLnJlcGxhY2VyICAgICAgPSB0eXBlb2Ygb3B0aW9uc1sncmVwbGFjZXInXSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnNbJ3JlcGxhY2VyJ10gOiBudWxsO1xuXG4gIHRoaXMuaW1wbGljaXRUeXBlcyA9IHRoaXMuc2NoZW1hLmNvbXBpbGVkSW1wbGljaXQ7XG4gIHRoaXMuZXhwbGljaXRUeXBlcyA9IHRoaXMuc2NoZW1hLmNvbXBpbGVkRXhwbGljaXQ7XG5cbiAgdGhpcy50YWcgPSBudWxsO1xuICB0aGlzLnJlc3VsdCA9ICcnO1xuXG4gIHRoaXMuZHVwbGljYXRlcyA9IFtdO1xuICB0aGlzLnVzZWREdXBsaWNhdGVzID0gbnVsbDtcbn1cblxuLy8gSW5kZW50cyBldmVyeSBsaW5lIGluIGEgc3RyaW5nLiBFbXB0eSBsaW5lcyAoXFxuIG9ubHkpIGFyZSBub3QgaW5kZW50ZWQuXG5mdW5jdGlvbiBpbmRlbnRTdHJpbmcoc3RyaW5nLCBzcGFjZXMpIHtcbiAgdmFyIGluZCA9IGNvbW1vbi5yZXBlYXQoJyAnLCBzcGFjZXMpLFxuICAgICAgcG9zaXRpb24gPSAwLFxuICAgICAgbmV4dCA9IC0xLFxuICAgICAgcmVzdWx0ID0gJycsXG4gICAgICBsaW5lLFxuICAgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAocG9zaXRpb24gPCBsZW5ndGgpIHtcbiAgICBuZXh0ID0gc3RyaW5nLmluZGV4T2YoJ1xcbicsIHBvc2l0aW9uKTtcbiAgICBpZiAobmV4dCA9PT0gLTEpIHtcbiAgICAgIGxpbmUgPSBzdHJpbmcuc2xpY2UocG9zaXRpb24pO1xuICAgICAgcG9zaXRpb24gPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmUgPSBzdHJpbmcuc2xpY2UocG9zaXRpb24sIG5leHQgKyAxKTtcbiAgICAgIHBvc2l0aW9uID0gbmV4dCArIDE7XG4gICAgfVxuXG4gICAgaWYgKGxpbmUubGVuZ3RoICYmIGxpbmUgIT09ICdcXG4nKSByZXN1bHQgKz0gaW5kO1xuXG4gICAgcmVzdWx0ICs9IGxpbmU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU5leHRMaW5lKHN0YXRlLCBsZXZlbCkge1xuICByZXR1cm4gJ1xcbicgKyBjb21tb24ucmVwZWF0KCcgJywgc3RhdGUuaW5kZW50ICogbGV2ZWwpO1xufVxuXG5mdW5jdGlvbiB0ZXN0SW1wbGljaXRSZXNvbHZpbmcoc3RhdGUsIHN0cikge1xuICB2YXIgaW5kZXgsIGxlbmd0aCwgdHlwZTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gc3RhdGUuaW1wbGljaXRUeXBlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdHlwZSA9IHN0YXRlLmltcGxpY2l0VHlwZXNbaW5kZXhdO1xuXG4gICAgaWYgKHR5cGUucmVzb2x2ZShzdHIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFszM10gcy13aGl0ZSA6Oj0gcy1zcGFjZSB8IHMtdGFiXG5mdW5jdGlvbiBpc1doaXRlc3BhY2UoYykge1xuICByZXR1cm4gYyA9PT0gQ0hBUl9TUEFDRSB8fCBjID09PSBDSEFSX1RBQjtcbn1cblxuLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBjaGFyYWN0ZXIgY2FuIGJlIHByaW50ZWQgd2l0aG91dCBlc2NhcGluZy5cbi8vIEZyb20gWUFNTCAxLjI6IFwiYW55IGFsbG93ZWQgY2hhcmFjdGVycyBrbm93biB0byBiZSBub24tcHJpbnRhYmxlXG4vLyBzaG91bGQgYWxzbyBiZSBlc2NhcGVkLiBbSG93ZXZlcixdIFRoaXMgaXNuXHUyMDE5dCBtYW5kYXRvcnlcIlxuLy8gRGVyaXZlZCBmcm9tIG5iLWNoYXIgLSBcXHQgLSAjeDg1IC0gI3hBMCAtICN4MjAyOCAtICN4MjAyOS5cbmZ1bmN0aW9uIGlzUHJpbnRhYmxlKGMpIHtcbiAgcmV0dXJuICAoMHgwMDAyMCA8PSBjICYmIGMgPD0gMHgwMDAwN0UpXG4gICAgICB8fCAoKDB4MDAwQTEgPD0gYyAmJiBjIDw9IDB4MDBEN0ZGKSAmJiBjICE9PSAweDIwMjggJiYgYyAhPT0gMHgyMDI5KVxuICAgICAgfHwgKCgweDBFMDAwIDw9IGMgJiYgYyA8PSAweDAwRkZGRCkgJiYgYyAhPT0gQ0hBUl9CT00pXG4gICAgICB8fCAgKDB4MTAwMDAgPD0gYyAmJiBjIDw9IDB4MTBGRkZGKTtcbn1cblxuLy8gWzM0XSBucy1jaGFyIDo6PSBuYi1jaGFyIC0gcy13aGl0ZVxuLy8gWzI3XSBuYi1jaGFyIDo6PSBjLXByaW50YWJsZSAtIGItY2hhciAtIGMtYnl0ZS1vcmRlci1tYXJrXG4vLyBbMjZdIGItY2hhciAgOjo9IGItbGluZS1mZWVkIHwgYi1jYXJyaWFnZS1yZXR1cm5cbi8vIEluY2x1ZGluZyBzLXdoaXRlIChmb3Igc29tZSByZWFzb24sIGV4YW1wbGVzIGRvZXNuJ3QgbWF0Y2ggc3BlY3MgaW4gdGhpcyBhc3BlY3QpXG4vLyBucy1jaGFyIDo6PSBjLXByaW50YWJsZSAtIGItbGluZS1mZWVkIC0gYi1jYXJyaWFnZS1yZXR1cm4gLSBjLWJ5dGUtb3JkZXItbWFya1xuZnVuY3Rpb24gaXNOc0NoYXJPcldoaXRlc3BhY2UoYykge1xuICByZXR1cm4gaXNQcmludGFibGUoYylcbiAgICAmJiBjICE9PSBDSEFSX0JPTVxuICAgIC8vIC0gYi1jaGFyXG4gICAgJiYgYyAhPT0gQ0hBUl9DQVJSSUFHRV9SRVRVUk5cbiAgICAmJiBjICE9PSBDSEFSX0xJTkVfRkVFRDtcbn1cblxuLy8gWzEyN10gIG5zLXBsYWluLXNhZmUoYykgOjo9IGMgPSBmbG93LW91dCAgXHUyMUQyIG5zLXBsYWluLXNhZmUtb3V0XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGZsb3ctaW4gICBcdTIxRDIgbnMtcGxhaW4tc2FmZS1pblxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBibG9jay1rZXkgXHUyMUQyIG5zLXBsYWluLXNhZmUtb3V0XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGZsb3cta2V5ICBcdTIxRDIgbnMtcGxhaW4tc2FmZS1pblxuLy8gWzEyOF0gbnMtcGxhaW4tc2FmZS1vdXQgOjo9IG5zLWNoYXJcbi8vIFsxMjldICBucy1wbGFpbi1zYWZlLWluIDo6PSBucy1jaGFyIC0gYy1mbG93LWluZGljYXRvclxuLy8gWzEzMF0gIG5zLXBsYWluLWNoYXIoYykgOjo9ICAoIG5zLXBsYWluLXNhZmUoYykgLSBcdTIwMUM6XHUyMDFEIC0gXHUyMDFDI1x1MjAxRCApXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICggLyogQW4gbnMtY2hhciBwcmVjZWRpbmcgKi8gXHUyMDFDI1x1MjAxRCApXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICggXHUyMDFDOlx1MjAxRCAvKiBGb2xsb3dlZCBieSBhbiBucy1wbGFpbi1zYWZlKGMpICovIClcbmZ1bmN0aW9uIGlzUGxhaW5TYWZlKGMsIHByZXYsIGluYmxvY2spIHtcbiAgdmFyIGNJc05zQ2hhck9yV2hpdGVzcGFjZSA9IGlzTnNDaGFyT3JXaGl0ZXNwYWNlKGMpO1xuICB2YXIgY0lzTnNDaGFyID0gY0lzTnNDaGFyT3JXaGl0ZXNwYWNlICYmICFpc1doaXRlc3BhY2UoYyk7XG4gIHJldHVybiAoXG4gICAgLy8gbnMtcGxhaW4tc2FmZVxuICAgIGluYmxvY2sgPyAvLyBjID0gZmxvdy1pblxuICAgICAgY0lzTnNDaGFyT3JXaGl0ZXNwYWNlXG4gICAgICA6IGNJc05zQ2hhck9yV2hpdGVzcGFjZVxuICAgICAgICAvLyAtIGMtZmxvdy1pbmRpY2F0b3JcbiAgICAgICAgJiYgYyAhPT0gQ0hBUl9DT01NQVxuICAgICAgICAmJiBjICE9PSBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVRcbiAgICAgICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVFxuICAgICAgICAmJiBjICE9PSBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVFxuICAgICAgICAmJiBjICE9PSBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVRcbiAgKVxuICAgIC8vIG5zLXBsYWluLWNoYXJcbiAgICAmJiBjICE9PSBDSEFSX1NIQVJQIC8vIGZhbHNlIG9uICcjJ1xuICAgICYmICEocHJldiA9PT0gQ0hBUl9DT0xPTiAmJiAhY0lzTnNDaGFyKSAvLyBmYWxzZSBvbiAnOiAnXG4gICAgfHwgKGlzTnNDaGFyT3JXaGl0ZXNwYWNlKHByZXYpICYmICFpc1doaXRlc3BhY2UocHJldikgJiYgYyA9PT0gQ0hBUl9TSEFSUCkgLy8gY2hhbmdlIHRvIHRydWUgb24gJ1teIF0jJ1xuICAgIHx8IChwcmV2ID09PSBDSEFSX0NPTE9OICYmIGNJc05zQ2hhcik7IC8vIGNoYW5nZSB0byB0cnVlIG9uICc6W14gXSdcbn1cblxuLy8gU2ltcGxpZmllZCB0ZXN0IGZvciB2YWx1ZXMgYWxsb3dlZCBhcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmVGaXJzdChjKSB7XG4gIC8vIFVzZXMgYSBzdWJzZXQgb2YgbnMtY2hhciAtIGMtaW5kaWNhdG9yXG4gIC8vIHdoZXJlIG5zLWNoYXIgPSBuYi1jaGFyIC0gcy13aGl0ZS5cbiAgLy8gTm8gc3VwcG9ydCBvZiAoICggXHUyMDFDP1x1MjAxRCB8IFx1MjAxQzpcdTIwMUQgfCBcdTIwMUMtXHUyMDFEICkgLyogRm9sbG93ZWQgYnkgYW4gbnMtcGxhaW4tc2FmZShjKSkgKi8gKSBwYXJ0XG4gIHJldHVybiBpc1ByaW50YWJsZShjKSAmJiBjICE9PSBDSEFSX0JPTVxuICAgICYmICFpc1doaXRlc3BhY2UoYykgLy8gLSBzLXdoaXRlXG4gICAgLy8gLSAoYy1pbmRpY2F0b3IgOjo9XG4gICAgLy8gXHUyMDFDLVx1MjAxRCB8IFx1MjAxQz9cdTIwMUQgfCBcdTIwMUM6XHUyMDFEIHwgXHUyMDFDLFx1MjAxRCB8IFx1MjAxQ1tcdTIwMUQgfCBcdTIwMUNdXHUyMDFEIHwgXHUyMDFDe1x1MjAxRCB8IFx1MjAxQ31cdTIwMURcbiAgICAmJiBjICE9PSBDSEFSX01JTlVTXG4gICAgJiYgYyAhPT0gQ0hBUl9RVUVTVElPTlxuICAgICYmIGMgIT09IENIQVJfQ09MT05cbiAgICAmJiBjICE9PSBDSEFSX0NPTU1BXG4gICAgJiYgYyAhPT0gQ0hBUl9MRUZUX1NRVUFSRV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUXG4gICAgLy8gfCBcdTIwMUMjXHUyMDFEIHwgXHUyMDFDJlx1MjAxRCB8IFx1MjAxQypcdTIwMUQgfCBcdTIwMUMhXHUyMDFEIHwgXHUyMDFDfFx1MjAxRCB8IFx1MjAxQz1cdTIwMUQgfCBcdTIwMUM+XHUyMDFEIHwgXHUyMDFDJ1x1MjAxRCB8IFx1MjAxQ1wiXHUyMDFEXG4gICAgJiYgYyAhPT0gQ0hBUl9TSEFSUFxuICAgICYmIGMgIT09IENIQVJfQU1QRVJTQU5EXG4gICAgJiYgYyAhPT0gQ0hBUl9BU1RFUklTS1xuICAgICYmIGMgIT09IENIQVJfRVhDTEFNQVRJT05cbiAgICAmJiBjICE9PSBDSEFSX1ZFUlRJQ0FMX0xJTkVcbiAgICAmJiBjICE9PSBDSEFSX0VRVUFMU1xuICAgICYmIGMgIT09IENIQVJfR1JFQVRFUl9USEFOXG4gICAgJiYgYyAhPT0gQ0hBUl9TSU5HTEVfUVVPVEVcbiAgICAmJiBjICE9PSBDSEFSX0RPVUJMRV9RVU9URVxuICAgIC8vIHwgXHUyMDFDJVx1MjAxRCB8IFx1MjAxQ0BcdTIwMUQgfCBcdTIwMUNgXHUyMDFEKVxuICAgICYmIGMgIT09IENIQVJfUEVSQ0VOVFxuICAgICYmIGMgIT09IENIQVJfQ09NTUVSQ0lBTF9BVFxuICAgICYmIGMgIT09IENIQVJfR1JBVkVfQUNDRU5UO1xufVxuXG4vLyBTaW1wbGlmaWVkIHRlc3QgZm9yIHZhbHVlcyBhbGxvd2VkIGFzIHRoZSBsYXN0IGNoYXJhY3RlciBpbiBwbGFpbiBzdHlsZS5cbmZ1bmN0aW9uIGlzUGxhaW5TYWZlTGFzdChjKSB7XG4gIC8vIGp1c3Qgbm90IHdoaXRlc3BhY2Ugb3IgY29sb24sIGl0IHdpbGwgYmUgY2hlY2tlZCB0byBiZSBwbGFpbiBjaGFyYWN0ZXIgbGF0ZXJcbiAgcmV0dXJuICFpc1doaXRlc3BhY2UoYykgJiYgYyAhPT0gQ0hBUl9DT0xPTjtcbn1cblxuLy8gU2FtZSBhcyAnc3RyaW5nJy5jb2RlUG9pbnRBdChwb3MpLCBidXQgd29ya3MgaW4gb2xkZXIgYnJvd3NlcnMuXG5mdW5jdGlvbiBjb2RlUG9pbnRBdChzdHJpbmcsIHBvcykge1xuICB2YXIgZmlyc3QgPSBzdHJpbmcuY2hhckNvZGVBdChwb3MpLCBzZWNvbmQ7XG4gIGlmIChmaXJzdCA+PSAweEQ4MDAgJiYgZmlyc3QgPD0gMHhEQkZGICYmIHBvcyArIDEgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgc2Vjb25kID0gc3RyaW5nLmNoYXJDb2RlQXQocG9zICsgMSk7XG4gICAgaWYgKHNlY29uZCA+PSAweERDMDAgJiYgc2Vjb25kIDw9IDB4REZGRikge1xuICAgICAgLy8gaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmcjc3Vycm9nYXRlLWZvcm11bGFlXG4gICAgICByZXR1cm4gKGZpcnN0IC0gMHhEODAwKSAqIDB4NDAwICsgc2Vjb25kIC0gMHhEQzAwICsgMHgxMDAwMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpcnN0O1xufVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgYmxvY2sgaW5kZW50YXRpb24gaW5kaWNhdG9yIGlzIHJlcXVpcmVkLlxuZnVuY3Rpb24gbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpIHtcbiAgdmFyIGxlYWRpbmdTcGFjZVJlID0gL15cXG4qIC87XG4gIHJldHVybiBsZWFkaW5nU3BhY2VSZS50ZXN0KHN0cmluZyk7XG59XG5cbnZhciBTVFlMRV9QTEFJTiAgID0gMSxcbiAgICBTVFlMRV9TSU5HTEUgID0gMixcbiAgICBTVFlMRV9MSVRFUkFMID0gMyxcbiAgICBTVFlMRV9GT0xERUQgID0gNCxcbiAgICBTVFlMRV9ET1VCTEUgID0gNTtcblxuLy8gRGV0ZXJtaW5lcyB3aGljaCBzY2FsYXIgc3R5bGVzIGFyZSBwb3NzaWJsZSBhbmQgcmV0dXJucyB0aGUgcHJlZmVycmVkIHN0eWxlLlxuLy8gbGluZVdpZHRoID0gLTEgPT4gbm8gbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogc3RyLmxlbmd0aCA+IDAuXG4vLyBQb3N0LWNvbmRpdGlvbnM6XG4vLyAgICBTVFlMRV9QTEFJTiBvciBTVFlMRV9TSU5HTEUgPT4gbm8gXFxuIGFyZSBpbiB0aGUgc3RyaW5nLlxuLy8gICAgU1RZTEVfTElURVJBTCA9PiBubyBsaW5lcyBhcmUgc3VpdGFibGUgZm9yIGZvbGRpbmcgKG9yIGxpbmVXaWR0aCBpcyAtMSkuXG4vLyAgICBTVFlMRV9GT0xERUQgPT4gYSBsaW5lID4gbGluZVdpZHRoIGFuZCBjYW4gYmUgZm9sZGVkIChhbmQgbGluZVdpZHRoICE9IC0xKS5cbmZ1bmN0aW9uIGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIGluZGVudFBlckxldmVsLCBsaW5lV2lkdGgsXG4gIHRlc3RBbWJpZ3VvdXNUeXBlLCBxdW90aW5nVHlwZSwgZm9yY2VRdW90ZXMsIGluYmxvY2spIHtcblxuICB2YXIgaTtcbiAgdmFyIGNoYXIgPSAwO1xuICB2YXIgcHJldkNoYXIgPSBudWxsO1xuICB2YXIgaGFzTGluZUJyZWFrID0gZmFsc2U7XG4gIHZhciBoYXNGb2xkYWJsZUxpbmUgPSBmYWxzZTsgLy8gb25seSBjaGVja2VkIGlmIHNob3VsZFRyYWNrV2lkdGhcbiAgdmFyIHNob3VsZFRyYWNrV2lkdGggPSBsaW5lV2lkdGggIT09IC0xO1xuICB2YXIgcHJldmlvdXNMaW5lQnJlYWsgPSAtMTsgLy8gY291bnQgdGhlIGZpcnN0IGxpbmUgY29ycmVjdGx5XG4gIHZhciBwbGFpbiA9IGlzUGxhaW5TYWZlRmlyc3QoY29kZVBvaW50QXQoc3RyaW5nLCAwKSlcbiAgICAgICAgICAmJiBpc1BsYWluU2FmZUxhc3QoY29kZVBvaW50QXQoc3RyaW5nLCBzdHJpbmcubGVuZ3RoIC0gMSkpO1xuXG4gIGlmIChzaW5nbGVMaW5lT25seSB8fCBmb3JjZVF1b3Rlcykge1xuICAgIC8vIENhc2U6IG5vIGJsb2NrIHN0eWxlcy5cbiAgICAvLyBDaGVjayBmb3IgZGlzYWxsb3dlZCBjaGFyYWN0ZXJzIHRvIHJ1bGUgb3V0IHBsYWluIGFuZCBzaW5nbGUuXG4gICAgZm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGNoYXIgPj0gMHgxMDAwMCA/IGkgKz0gMiA6IGkrKykge1xuICAgICAgY2hhciA9IGNvZGVQb2ludEF0KHN0cmluZywgaSk7XG4gICAgICBpZiAoIWlzUHJpbnRhYmxlKGNoYXIpKSB7XG4gICAgICAgIHJldHVybiBTVFlMRV9ET1VCTEU7XG4gICAgICB9XG4gICAgICBwbGFpbiA9IHBsYWluICYmIGlzUGxhaW5TYWZlKGNoYXIsIHByZXZDaGFyLCBpbmJsb2NrKTtcbiAgICAgIHByZXZDaGFyID0gY2hhcjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FzZTogYmxvY2sgc3R5bGVzIHBlcm1pdHRlZC5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgICBjaGFyID0gY29kZVBvaW50QXQoc3RyaW5nLCBpKTtcbiAgICAgIGlmIChjaGFyID09PSBDSEFSX0xJTkVfRkVFRCkge1xuICAgICAgICBoYXNMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAvLyBDaGVjayBpZiBhbnkgbGluZSBjYW4gYmUgZm9sZGVkLlxuICAgICAgICBpZiAoc2hvdWxkVHJhY2tXaWR0aCkge1xuICAgICAgICAgIGhhc0ZvbGRhYmxlTGluZSA9IGhhc0ZvbGRhYmxlTGluZSB8fFxuICAgICAgICAgICAgLy8gRm9sZGFibGUgbGluZSA9IHRvbyBsb25nLCBhbmQgbm90IG1vcmUtaW5kZW50ZWQuXG4gICAgICAgICAgICAoaSAtIHByZXZpb3VzTGluZUJyZWFrIC0gMSA+IGxpbmVXaWR0aCAmJlxuICAgICAgICAgICAgIHN0cmluZ1twcmV2aW91c0xpbmVCcmVhayArIDFdICE9PSAnICcpO1xuICAgICAgICAgIHByZXZpb3VzTGluZUJyZWFrID0gaTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgICAgIH1cbiAgICAgIHBsYWluID0gcGxhaW4gJiYgaXNQbGFpblNhZmUoY2hhciwgcHJldkNoYXIsIGluYmxvY2spO1xuICAgICAgcHJldkNoYXIgPSBjaGFyO1xuICAgIH1cbiAgICAvLyBpbiBjYXNlIHRoZSBlbmQgaXMgbWlzc2luZyBhIFxcblxuICAgIGhhc0ZvbGRhYmxlTGluZSA9IGhhc0ZvbGRhYmxlTGluZSB8fCAoc2hvdWxkVHJhY2tXaWR0aCAmJlxuICAgICAgKGkgLSBwcmV2aW91c0xpbmVCcmVhayAtIDEgPiBsaW5lV2lkdGggJiZcbiAgICAgICBzdHJpbmdbcHJldmlvdXNMaW5lQnJlYWsgKyAxXSAhPT0gJyAnKSk7XG4gIH1cbiAgLy8gQWx0aG91Z2ggZXZlcnkgc3R5bGUgY2FuIHJlcHJlc2VudCBcXG4gd2l0aG91dCBlc2NhcGluZywgcHJlZmVyIGJsb2NrIHN0eWxlc1xuICAvLyBmb3IgbXVsdGlsaW5lLCBzaW5jZSB0aGV5J3JlIG1vcmUgcmVhZGFibGUgYW5kIHRoZXkgZG9uJ3QgYWRkIGVtcHR5IGxpbmVzLlxuICAvLyBBbHNvIHByZWZlciBmb2xkaW5nIGEgc3VwZXItbG9uZyBsaW5lLlxuICBpZiAoIWhhc0xpbmVCcmVhayAmJiAhaGFzRm9sZGFibGVMaW5lKSB7XG4gICAgLy8gU3RyaW5ncyBpbnRlcnByZXRhYmxlIGFzIGFub3RoZXIgdHlwZSBoYXZlIHRvIGJlIHF1b3RlZDtcbiAgICAvLyBlLmcuIHRoZSBzdHJpbmcgJ3RydWUnIHZzLiB0aGUgYm9vbGVhbiB0cnVlLlxuICAgIGlmIChwbGFpbiAmJiAhZm9yY2VRdW90ZXMgJiYgIXRlc3RBbWJpZ3VvdXNUeXBlKHN0cmluZykpIHtcbiAgICAgIHJldHVybiBTVFlMRV9QTEFJTjtcbiAgICB9XG4gICAgcmV0dXJuIHF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gU1RZTEVfRE9VQkxFIDogU1RZTEVfU0lOR0xFO1xuICB9XG4gIC8vIEVkZ2UgY2FzZTogYmxvY2sgaW5kZW50YXRpb24gaW5kaWNhdG9yIGNhbiBvbmx5IGhhdmUgb25lIGRpZ2l0LlxuICBpZiAoaW5kZW50UGVyTGV2ZWwgPiA5ICYmIG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSkge1xuICAgIHJldHVybiBTVFlMRV9ET1VCTEU7XG4gIH1cbiAgLy8gQXQgdGhpcyBwb2ludCB3ZSBrbm93IGJsb2NrIHN0eWxlcyBhcmUgdmFsaWQuXG4gIC8vIFByZWZlciBsaXRlcmFsIHN0eWxlIHVubGVzcyB3ZSB3YW50IHRvIGZvbGQuXG4gIGlmICghZm9yY2VRdW90ZXMpIHtcbiAgICByZXR1cm4gaGFzRm9sZGFibGVMaW5lID8gU1RZTEVfRk9MREVEIDogU1RZTEVfTElURVJBTDtcbiAgfVxuICByZXR1cm4gcXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyBTVFlMRV9ET1VCTEUgOiBTVFlMRV9TSU5HTEU7XG59XG5cbi8vIE5vdGU6IGxpbmUgYnJlYWtpbmcvZm9sZGluZyBpcyBpbXBsZW1lbnRlZCBmb3Igb25seSB0aGUgZm9sZGVkIHN0eWxlLlxuLy8gTkIuIFdlIGRyb3AgdGhlIGxhc3QgdHJhaWxpbmcgbmV3bGluZSAoaWYgYW55KSBvZiBhIHJldHVybmVkIGJsb2NrIHNjYWxhclxuLy8gIHNpbmNlIHRoZSBkdW1wZXIgYWRkcyBpdHMgb3duIG5ld2xpbmUuIFRoaXMgYWx3YXlzIHdvcmtzOlxuLy8gICAgXHUyMDIyIE5vIGVuZGluZyBuZXdsaW5lID0+IHVuYWZmZWN0ZWQ7IGFscmVhZHkgdXNpbmcgc3RyaXAgXCItXCIgY2hvbXBpbmcuXG4vLyAgICBcdTIwMjIgRW5kaW5nIG5ld2xpbmUgICAgPT4gcmVtb3ZlZCB0aGVuIHJlc3RvcmVkLlxuLy8gIEltcG9ydGFudGx5LCB0aGlzIGtlZXBzIHRoZSBcIitcIiBjaG9tcCBpbmRpY2F0b3IgZnJvbSBnYWluaW5nIGFuIGV4dHJhIGxpbmUuXG5mdW5jdGlvbiB3cml0ZVNjYWxhcihzdGF0ZSwgc3RyaW5nLCBsZXZlbCwgaXNrZXksIGluYmxvY2spIHtcbiAgc3RhdGUuZHVtcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBzdGF0ZS5xdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/ICdcIlwiJyA6IFwiJydcIjtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5ub0NvbXBhdE1vZGUpIHtcbiAgICAgIGlmIChERVBSRUNBVEVEX0JPT0xFQU5TX1NZTlRBWC5pbmRleE9mKHN0cmluZykgIT09IC0xIHx8IERFUFJFQ0FURURfQkFTRTYwX1NZTlRBWC50ZXN0KHN0cmluZykpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gKCdcIicgKyBzdHJpbmcgKyAnXCInKSA6IChcIidcIiArIHN0cmluZyArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5kZW50ID0gc3RhdGUuaW5kZW50ICogTWF0aC5tYXgoMSwgbGV2ZWwpOyAvLyBubyAwLWluZGVudCBzY2FsYXJzXG4gICAgLy8gQXMgaW5kZW50YXRpb24gZ2V0cyBkZWVwZXIsIGxldCB0aGUgd2lkdGggZGVjcmVhc2UgbW9ub3RvbmljYWxseVxuICAgIC8vIHRvIHRoZSBsb3dlciBib3VuZCBtaW4oc3RhdGUubGluZVdpZHRoLCA0MCkuXG4gICAgLy8gTm90ZSB0aGF0IHRoaXMgaW1wbGllc1xuICAgIC8vICBzdGF0ZS5saW5lV2lkdGggXHUyMjY0IDQwICsgc3RhdGUuaW5kZW50OiB3aWR0aCBpcyBmaXhlZCBhdCB0aGUgbG93ZXIgYm91bmQuXG4gICAgLy8gIHN0YXRlLmxpbmVXaWR0aCA+IDQwICsgc3RhdGUuaW5kZW50OiB3aWR0aCBkZWNyZWFzZXMgdW50aWwgdGhlIGxvd2VyIGJvdW5kLlxuICAgIC8vIFRoaXMgYmVoYXZlcyBiZXR0ZXIgdGhhbiBhIGNvbnN0YW50IG1pbmltdW0gd2lkdGggd2hpY2ggZGlzYWxsb3dzIG5hcnJvd2VyIG9wdGlvbnMsXG4gICAgLy8gb3IgYW4gaW5kZW50IHRocmVzaG9sZCB3aGljaCBjYXVzZXMgdGhlIHdpZHRoIHRvIHN1ZGRlbmx5IGluY3JlYXNlLlxuICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGggPT09IC0xXG4gICAgICA/IC0xIDogTWF0aC5tYXgoTWF0aC5taW4oc3RhdGUubGluZVdpZHRoLCA0MCksIHN0YXRlLmxpbmVXaWR0aCAtIGluZGVudCk7XG5cbiAgICAvLyBXaXRob3V0IGtub3dpbmcgaWYga2V5cyBhcmUgaW1wbGljaXQvZXhwbGljaXQsIGFzc3VtZSBpbXBsaWNpdCBmb3Igc2FmZXR5LlxuICAgIHZhciBzaW5nbGVMaW5lT25seSA9IGlza2V5XG4gICAgICAvLyBObyBibG9jayBzdHlsZXMgaW4gZmxvdyBtb2RlLlxuICAgICAgfHwgKHN0YXRlLmZsb3dMZXZlbCA+IC0xICYmIGxldmVsID49IHN0YXRlLmZsb3dMZXZlbCk7XG4gICAgZnVuY3Rpb24gdGVzdEFtYmlndWl0eShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB0ZXN0SW1wbGljaXRSZXNvbHZpbmcoc3RhdGUsIHN0cmluZyk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjaG9vc2VTY2FsYXJTdHlsZShzdHJpbmcsIHNpbmdsZUxpbmVPbmx5LCBzdGF0ZS5pbmRlbnQsIGxpbmVXaWR0aCxcbiAgICAgIHRlc3RBbWJpZ3VpdHksIHN0YXRlLnF1b3RpbmdUeXBlLCBzdGF0ZS5mb3JjZVF1b3RlcyAmJiAhaXNrZXksIGluYmxvY2spKSB7XG5cbiAgICAgIGNhc2UgU1RZTEVfUExBSU46XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICBjYXNlIFNUWUxFX1NJTkdMRTpcbiAgICAgICAgcmV0dXJuIFwiJ1wiICsgc3RyaW5nLnJlcGxhY2UoLycvZywgXCInJ1wiKSArIFwiJ1wiO1xuICAgICAgY2FzZSBTVFlMRV9MSVRFUkFMOlxuICAgICAgICByZXR1cm4gJ3wnICsgYmxvY2tIZWFkZXIoc3RyaW5nLCBzdGF0ZS5pbmRlbnQpXG4gICAgICAgICAgKyBkcm9wRW5kaW5nTmV3bGluZShpbmRlbnRTdHJpbmcoc3RyaW5nLCBpbmRlbnQpKTtcbiAgICAgIGNhc2UgU1RZTEVfRk9MREVEOlxuICAgICAgICByZXR1cm4gJz4nICsgYmxvY2tIZWFkZXIoc3RyaW5nLCBzdGF0ZS5pbmRlbnQpXG4gICAgICAgICAgKyBkcm9wRW5kaW5nTmV3bGluZShpbmRlbnRTdHJpbmcoZm9sZFN0cmluZyhzdHJpbmcsIGxpbmVXaWR0aCksIGluZGVudCkpO1xuICAgICAgY2FzZSBTVFlMRV9ET1VCTEU6XG4gICAgICAgIHJldHVybiAnXCInICsgZXNjYXBlU3RyaW5nKHN0cmluZywgbGluZVdpZHRoKSArICdcIic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignaW1wb3NzaWJsZSBlcnJvcjogaW52YWxpZCBzY2FsYXIgc3R5bGUnKTtcbiAgICB9XG4gIH0oKSk7XG59XG5cbi8vIFByZS1jb25kaXRpb25zOiBzdHJpbmcgaXMgdmFsaWQgZm9yIGEgYmxvY2sgc2NhbGFyLCAxIDw9IGluZGVudFBlckxldmVsIDw9IDkuXG5mdW5jdGlvbiBibG9ja0hlYWRlcihzdHJpbmcsIGluZGVudFBlckxldmVsKSB7XG4gIHZhciBpbmRlbnRJbmRpY2F0b3IgPSBuZWVkSW5kZW50SW5kaWNhdG9yKHN0cmluZykgPyBTdHJpbmcoaW5kZW50UGVyTGV2ZWwpIDogJyc7XG5cbiAgLy8gbm90ZSB0aGUgc3BlY2lhbCBjYXNlOiB0aGUgc3RyaW5nICdcXG4nIGNvdW50cyBhcyBhIFwidHJhaWxpbmdcIiBlbXB0eSBsaW5lLlxuICB2YXIgY2xpcCA9ICAgICAgICAgIHN0cmluZ1tzdHJpbmcubGVuZ3RoIC0gMV0gPT09ICdcXG4nO1xuICB2YXIga2VlcCA9IGNsaXAgJiYgKHN0cmluZ1tzdHJpbmcubGVuZ3RoIC0gMl0gPT09ICdcXG4nIHx8IHN0cmluZyA9PT0gJ1xcbicpO1xuICB2YXIgY2hvbXAgPSBrZWVwID8gJysnIDogKGNsaXAgPyAnJyA6ICctJyk7XG5cbiAgcmV0dXJuIGluZGVudEluZGljYXRvciArIGNob21wICsgJ1xcbic7XG59XG5cbi8vIChTZWUgdGhlIG5vdGUgZm9yIHdyaXRlU2NhbGFyLilcbmZ1bmN0aW9uIGRyb3BFbmRpbmdOZXdsaW5lKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nW3N0cmluZy5sZW5ndGggLSAxXSA9PT0gJ1xcbicgPyBzdHJpbmcuc2xpY2UoMCwgLTEpIDogc3RyaW5nO1xufVxuXG4vLyBOb3RlOiBhIGxvbmcgbGluZSB3aXRob3V0IGEgc3VpdGFibGUgYnJlYWsgcG9pbnQgd2lsbCBleGNlZWQgdGhlIHdpZHRoIGxpbWl0LlxuLy8gUHJlLWNvbmRpdGlvbnM6IGV2ZXJ5IGNoYXIgaW4gc3RyIGlzUHJpbnRhYmxlLCBzdHIubGVuZ3RoID4gMCwgd2lkdGggPiAwLlxuZnVuY3Rpb24gZm9sZFN0cmluZyhzdHJpbmcsIHdpZHRoKSB7XG4gIC8vIEluIGZvbGRlZCBzdHlsZSwgJGskIGNvbnNlY3V0aXZlIG5ld2xpbmVzIG91dHB1dCBhcyAkaysxJCBuZXdsaW5lc1x1MjAxNFxuICAvLyB1bmxlc3MgdGhleSdyZSBiZWZvcmUgb3IgYWZ0ZXIgYSBtb3JlLWluZGVudGVkIGxpbmUsIG9yIGF0IHRoZSB2ZXJ5XG4gIC8vIGJlZ2lubmluZyBvciBlbmQsIGluIHdoaWNoIGNhc2UgJGskIG1hcHMgdG8gJGskLlxuICAvLyBUaGVyZWZvcmUsIHBhcnNlIGVhY2ggY2h1bmsgYXMgbmV3bGluZShzKSBmb2xsb3dlZCBieSBhIGNvbnRlbnQgbGluZS5cbiAgdmFyIGxpbmVSZSA9IC8oXFxuKykoW15cXG5dKikvZztcblxuICAvLyBmaXJzdCBsaW5lIChwb3NzaWJseSBhbiBlbXB0eSBsaW5lKVxuICB2YXIgcmVzdWx0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV4dExGID0gc3RyaW5nLmluZGV4T2YoJ1xcbicpO1xuICAgIG5leHRMRiA9IG5leHRMRiAhPT0gLTEgPyBuZXh0TEYgOiBzdHJpbmcubGVuZ3RoO1xuICAgIGxpbmVSZS5sYXN0SW5kZXggPSBuZXh0TEY7XG4gICAgcmV0dXJuIGZvbGRMaW5lKHN0cmluZy5zbGljZSgwLCBuZXh0TEYpLCB3aWR0aCk7XG4gIH0oKSk7XG4gIC8vIElmIHdlIGhhdmVuJ3QgcmVhY2hlZCB0aGUgZmlyc3QgY29udGVudCBsaW5lIHlldCwgZG9uJ3QgYWRkIGFuIGV4dHJhIFxcbi5cbiAgdmFyIHByZXZNb3JlSW5kZW50ZWQgPSBzdHJpbmdbMF0gPT09ICdcXG4nIHx8IHN0cmluZ1swXSA9PT0gJyAnO1xuICB2YXIgbW9yZUluZGVudGVkO1xuXG4gIC8vIHJlc3Qgb2YgdGhlIGxpbmVzXG4gIHZhciBtYXRjaDtcbiAgd2hpbGUgKChtYXRjaCA9IGxpbmVSZS5leGVjKHN0cmluZykpKSB7XG4gICAgdmFyIHByZWZpeCA9IG1hdGNoWzFdLCBsaW5lID0gbWF0Y2hbMl07XG4gICAgbW9yZUluZGVudGVkID0gKGxpbmVbMF0gPT09ICcgJyk7XG4gICAgcmVzdWx0ICs9IHByZWZpeFxuICAgICAgKyAoIXByZXZNb3JlSW5kZW50ZWQgJiYgIW1vcmVJbmRlbnRlZCAmJiBsaW5lICE9PSAnJ1xuICAgICAgICA/ICdcXG4nIDogJycpXG4gICAgICArIGZvbGRMaW5lKGxpbmUsIHdpZHRoKTtcbiAgICBwcmV2TW9yZUluZGVudGVkID0gbW9yZUluZGVudGVkO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR3JlZWR5IGxpbmUgYnJlYWtpbmcuXG4vLyBQaWNrcyB0aGUgbG9uZ2VzdCBsaW5lIHVuZGVyIHRoZSBsaW1pdCBlYWNoIHRpbWUsXG4vLyBvdGhlcndpc2Ugc2V0dGxlcyBmb3IgdGhlIHNob3J0ZXN0IGxpbmUgb3ZlciB0aGUgbGltaXQuXG4vLyBOQi4gTW9yZS1pbmRlbnRlZCBsaW5lcyAqY2Fubm90KiBiZSBmb2xkZWQsIGFzIHRoYXQgd291bGQgYWRkIGFuIGV4dHJhIFxcbi5cbmZ1bmN0aW9uIGZvbGRMaW5lKGxpbmUsIHdpZHRoKSB7XG4gIGlmIChsaW5lID09PSAnJyB8fCBsaW5lWzBdID09PSAnICcpIHJldHVybiBsaW5lO1xuXG4gIC8vIFNpbmNlIGEgbW9yZS1pbmRlbnRlZCBsaW5lIGFkZHMgYSBcXG4sIGJyZWFrcyBjYW4ndCBiZSBmb2xsb3dlZCBieSBhIHNwYWNlLlxuICB2YXIgYnJlYWtSZSA9IC8gW14gXS9nOyAvLyBub3RlOiB0aGUgbWF0Y2ggaW5kZXggd2lsbCBhbHdheXMgYmUgPD0gbGVuZ3RoLTIuXG4gIHZhciBtYXRjaDtcbiAgLy8gc3RhcnQgaXMgYW4gaW5jbHVzaXZlIGluZGV4LiBlbmQsIGN1cnIsIGFuZCBuZXh0IGFyZSBleGNsdXNpdmUuXG4gIHZhciBzdGFydCA9IDAsIGVuZCwgY3VyciA9IDAsIG5leHQgPSAwO1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgLy8gSW52YXJpYW50czogMCA8PSBzdGFydCA8PSBsZW5ndGgtMS5cbiAgLy8gICAwIDw9IGN1cnIgPD0gbmV4dCA8PSBtYXgoMCwgbGVuZ3RoLTIpLiBjdXJyIC0gc3RhcnQgPD0gd2lkdGguXG4gIC8vIEluc2lkZSB0aGUgbG9vcDpcbiAgLy8gICBBIG1hdGNoIGltcGxpZXMgbGVuZ3RoID49IDIsIHNvIGN1cnIgYW5kIG5leHQgYXJlIDw9IGxlbmd0aC0yLlxuICB3aGlsZSAoKG1hdGNoID0gYnJlYWtSZS5leGVjKGxpbmUpKSkge1xuICAgIG5leHQgPSBtYXRjaC5pbmRleDtcbiAgICAvLyBtYWludGFpbiBpbnZhcmlhbnQ6IGN1cnIgLSBzdGFydCA8PSB3aWR0aFxuICAgIGlmIChuZXh0IC0gc3RhcnQgPiB3aWR0aCkge1xuICAgICAgZW5kID0gKGN1cnIgPiBzdGFydCkgPyBjdXJyIDogbmV4dDsgLy8gZGVyaXZlIGVuZCA8PSBsZW5ndGgtMlxuICAgICAgcmVzdWx0ICs9ICdcXG4nICsgbGluZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgIC8vIHNraXAgdGhlIHNwYWNlIHRoYXQgd2FzIG91dHB1dCBhcyBcXG5cbiAgICAgIHN0YXJ0ID0gZW5kICsgMTsgICAgICAgICAgICAgICAgICAgIC8vIGRlcml2ZSBzdGFydCA8PSBsZW5ndGgtMVxuICAgIH1cbiAgICBjdXJyID0gbmV4dDtcbiAgfVxuXG4gIC8vIEJ5IHRoZSBpbnZhcmlhbnRzLCBzdGFydCA8PSBsZW5ndGgtMSwgc28gdGhlcmUgaXMgc29tZXRoaW5nIGxlZnQgb3Zlci5cbiAgLy8gSXQgaXMgZWl0aGVyIHRoZSB3aG9sZSBzdHJpbmcgb3IgYSBwYXJ0IHN0YXJ0aW5nIGZyb20gbm9uLXdoaXRlc3BhY2UuXG4gIHJlc3VsdCArPSAnXFxuJztcbiAgLy8gSW5zZXJ0IGEgYnJlYWsgaWYgdGhlIHJlbWFpbmRlciBpcyB0b28gbG9uZyBhbmQgdGhlcmUgaXMgYSBicmVhayBhdmFpbGFibGUuXG4gIGlmIChsaW5lLmxlbmd0aCAtIHN0YXJ0ID4gd2lkdGggJiYgY3VyciA+IHN0YXJ0KSB7XG4gICAgcmVzdWx0ICs9IGxpbmUuc2xpY2Uoc3RhcnQsIGN1cnIpICsgJ1xcbicgKyBsaW5lLnNsaWNlKGN1cnIgKyAxKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgKz0gbGluZS5zbGljZShzdGFydCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnNsaWNlKDEpOyAvLyBkcm9wIGV4dHJhIFxcbiBqb2luZXJcbn1cblxuLy8gRXNjYXBlcyBhIGRvdWJsZS1xdW90ZWQgc3RyaW5nLlxuZnVuY3Rpb24gZXNjYXBlU3RyaW5nKHN0cmluZykge1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHZhciBjaGFyID0gMDtcbiAgdmFyIGVzY2FwZVNlcTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGNoYXIgPj0gMHgxMDAwMCA/IGkgKz0gMiA6IGkrKykge1xuICAgIGNoYXIgPSBjb2RlUG9pbnRBdChzdHJpbmcsIGkpO1xuICAgIGVzY2FwZVNlcSA9IEVTQ0FQRV9TRVFVRU5DRVNbY2hhcl07XG5cbiAgICBpZiAoIWVzY2FwZVNlcSAmJiBpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgcmVzdWx0ICs9IHN0cmluZ1tpXTtcbiAgICAgIGlmIChjaGFyID49IDB4MTAwMDApIHJlc3VsdCArPSBzdHJpbmdbaSArIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgKz0gZXNjYXBlU2VxIHx8IGVuY29kZUhleChjaGFyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB3cml0ZUZsb3dTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCkge1xuICB2YXIgX3Jlc3VsdCA9ICcnLFxuICAgICAgX3RhZyAgICA9IHN0YXRlLnRhZyxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgdmFsdWU7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdmFsdWUgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBTdHJpbmcoaW5kZXgpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gV3JpdGUgb25seSB2YWxpZCBlbGVtZW50cywgcHV0IG51bGwgaW5zdGVhZCBvZiBpbnZhbGlkIGVsZW1lbnRzLlxuICAgIGlmICh3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCB2YWx1ZSwgZmFsc2UsIGZhbHNlKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgbnVsbCwgZmFsc2UsIGZhbHNlKSkpIHtcblxuICAgICAgaWYgKF9yZXN1bHQgIT09ICcnKSBfcmVzdWx0ICs9ICcsJyArICghc3RhdGUuY29uZGVuc2VGbG93ID8gJyAnIDogJycpO1xuICAgICAgX3Jlc3VsdCArPSBzdGF0ZS5kdW1wO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSAnWycgKyBfcmVzdWx0ICsgJ10nO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsLCBvYmplY3QsIGNvbXBhY3QpIHtcbiAgdmFyIF9yZXN1bHQgPSAnJyxcbiAgICAgIF90YWcgICAgPSBzdGF0ZS50YWcsXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIHZhbHVlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHZhbHVlID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgICAgdmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKG9iamVjdCwgU3RyaW5nKGluZGV4KSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFdyaXRlIG9ubHkgdmFsaWQgZWxlbWVudHMsIHB1dCBudWxsIGluc3RlYWQgb2YgaW52YWxpZCBlbGVtZW50cy5cbiAgICBpZiAod3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIHZhbHVlLCB0cnVlLCB0cnVlLCBmYWxzZSwgdHJ1ZSkgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBudWxsLCB0cnVlLCB0cnVlLCBmYWxzZSwgdHJ1ZSkpKSB7XG5cbiAgICAgIGlmICghY29tcGFjdCB8fCBfcmVzdWx0ICE9PSAnJykge1xuICAgICAgICBfcmVzdWx0ICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlLmR1bXAgJiYgQ0hBUl9MSU5FX0ZFRUQgPT09IHN0YXRlLmR1bXAuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICBfcmVzdWx0ICs9ICctJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXN1bHQgKz0gJy0gJztcbiAgICAgIH1cblxuICAgICAgX3Jlc3VsdCArPSBzdGF0ZS5kdW1wO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSBfcmVzdWx0IHx8ICdbXSc7IC8vIEVtcHR5IHNlcXVlbmNlIGlmIG5vIHZhbGlkIHZhbHVlcy5cbn1cblxuZnVuY3Rpb24gd3JpdGVGbG93TWFwcGluZyhzdGF0ZSwgbGV2ZWwsIG9iamVjdCkge1xuICB2YXIgX3Jlc3VsdCAgICAgICA9ICcnLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIG9iamVjdEtleUxpc3QgPSBPYmplY3Qua2V5cyhvYmplY3QpLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICBvYmplY3RLZXksXG4gICAgICBvYmplY3RWYWx1ZSxcbiAgICAgIHBhaXJCdWZmZXI7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdEtleUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuXG4gICAgcGFpckJ1ZmZlciA9ICcnO1xuICAgIGlmIChfcmVzdWx0ICE9PSAnJykgcGFpckJ1ZmZlciArPSAnLCAnO1xuXG4gICAgaWYgKHN0YXRlLmNvbmRlbnNlRmxvdykgcGFpckJ1ZmZlciArPSAnXCInO1xuXG4gICAgb2JqZWN0S2V5ID0gb2JqZWN0S2V5TGlzdFtpbmRleF07XG4gICAgb2JqZWN0VmFsdWUgPSBvYmplY3Rbb2JqZWN0S2V5XTtcblxuICAgIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgICAgb2JqZWN0VmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKG9iamVjdCwgb2JqZWN0S2V5LCBvYmplY3RWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RLZXksIGZhbHNlLCBmYWxzZSkpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQga2V5O1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5kdW1wLmxlbmd0aCA+IDEwMjQpIHBhaXJCdWZmZXIgKz0gJz8gJztcblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcCArIChzdGF0ZS5jb25kZW5zZUZsb3cgPyAnXCInIDogJycpICsgJzonICsgKHN0YXRlLmNvbmRlbnNlRmxvdyA/ICcnIDogJyAnKTtcblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgb2JqZWN0VmFsdWUsIGZhbHNlLCBmYWxzZSkpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQgdmFsdWUuXG4gICAgfVxuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wO1xuXG4gICAgLy8gQm90aCBrZXkgYW5kIHZhbHVlIGFyZSB2YWxpZC5cbiAgICBfcmVzdWx0ICs9IHBhaXJCdWZmZXI7XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gJ3snICsgX3Jlc3VsdCArICd9Jztcbn1cblxuZnVuY3Rpb24gd3JpdGVCbG9ja01hcHBpbmcoc3RhdGUsIGxldmVsLCBvYmplY3QsIGNvbXBhY3QpIHtcbiAgdmFyIF9yZXN1bHQgICAgICAgPSAnJyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KSxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgb2JqZWN0S2V5LFxuICAgICAgb2JqZWN0VmFsdWUsXG4gICAgICBleHBsaWNpdFBhaXIsXG4gICAgICBwYWlyQnVmZmVyO1xuXG4gIC8vIEFsbG93IHNvcnRpbmcga2V5cyBzbyB0aGF0IHRoZSBvdXRwdXQgZmlsZSBpcyBkZXRlcm1pbmlzdGljXG4gIGlmIChzdGF0ZS5zb3J0S2V5cyA9PT0gdHJ1ZSkge1xuICAgIC8vIERlZmF1bHQgc29ydGluZ1xuICAgIG9iamVjdEtleUxpc3Quc29ydCgpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzdGF0ZS5zb3J0S2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEN1c3RvbSBzb3J0IGZ1bmN0aW9uXG4gICAgb2JqZWN0S2V5TGlzdC5zb3J0KHN0YXRlLnNvcnRLZXlzKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5zb3J0S2V5cykge1xuICAgIC8vIFNvbWV0aGluZyBpcyB3cm9uZ1xuICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdzb3J0S2V5cyBtdXN0IGJlIGEgYm9vbGVhbiBvciBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpckJ1ZmZlciA9ICcnO1xuXG4gICAgaWYgKCFjb21wYWN0IHx8IF9yZXN1bHQgIT09ICcnKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICBvYmplY3RWYWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBvYmplY3RLZXksIG9iamVjdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RLZXksIHRydWUsIHRydWUsIHRydWUpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIGtleS5cbiAgICB9XG5cbiAgICBleHBsaWNpdFBhaXIgPSAoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fFxuICAgICAgICAgICAgICAgICAgIChzdGF0ZS5kdW1wICYmIHN0YXRlLmR1bXAubGVuZ3RoID4gMTAyNCk7XG5cbiAgICBpZiAoZXhwbGljaXRQYWlyKSB7XG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIHBhaXJCdWZmZXIgKz0gJz8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFpckJ1ZmZlciArPSAnPyAnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIGlmIChleHBsaWNpdFBhaXIpIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgIH1cblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG9iamVjdFZhbHVlLCB0cnVlLCBleHBsaWNpdFBhaXIpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIHZhbHVlLlxuICAgIH1cblxuICAgIGlmIChzdGF0ZS5kdW1wICYmIENIQVJfTElORV9GRUVEID09PSBzdGF0ZS5kdW1wLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gJzonO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWlyQnVmZmVyICs9ICc6ICc7XG4gICAgfVxuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wO1xuXG4gICAgLy8gQm90aCBrZXkgYW5kIHZhbHVlIGFyZSB2YWxpZC5cbiAgICBfcmVzdWx0ICs9IHBhaXJCdWZmZXI7XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gX3Jlc3VsdCB8fCAne30nOyAvLyBFbXB0eSBtYXBwaW5nIGlmIG5vIHZhbGlkIHBhaXJzLlxufVxuXG5mdW5jdGlvbiBkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGV4cGxpY2l0KSB7XG4gIHZhciBfcmVzdWx0LCB0eXBlTGlzdCwgaW5kZXgsIGxlbmd0aCwgdHlwZSwgc3R5bGU7XG5cbiAgdHlwZUxpc3QgPSBleHBsaWNpdCA/IHN0YXRlLmV4cGxpY2l0VHlwZXMgOiBzdGF0ZS5pbXBsaWNpdFR5cGVzO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSB0eXBlTGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdHlwZSA9IHR5cGVMaXN0W2luZGV4XTtcblxuICAgIGlmICgodHlwZS5pbnN0YW5jZU9mICB8fCB0eXBlLnByZWRpY2F0ZSkgJiZcbiAgICAgICAgKCF0eXBlLmluc3RhbmNlT2YgfHwgKCh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JykgJiYgKG9iamVjdCBpbnN0YW5jZW9mIHR5cGUuaW5zdGFuY2VPZikpKSAmJlxuICAgICAgICAoIXR5cGUucHJlZGljYXRlICB8fCB0eXBlLnByZWRpY2F0ZShvYmplY3QpKSkge1xuXG4gICAgICBpZiAoZXhwbGljaXQpIHtcbiAgICAgICAgaWYgKHR5cGUubXVsdGkgJiYgdHlwZS5yZXByZXNlbnROYW1lKSB7XG4gICAgICAgICAgc3RhdGUudGFnID0gdHlwZS5yZXByZXNlbnROYW1lKG9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRhZyA9ICc/JztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUucmVwcmVzZW50KSB7XG4gICAgICAgIHN0eWxlID0gc3RhdGUuc3R5bGVNYXBbdHlwZS50YWddIHx8IHR5cGUuZGVmYXVsdFN0eWxlO1xuXG4gICAgICAgIGlmIChfdG9TdHJpbmcuY2FsbCh0eXBlLnJlcHJlc2VudCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScpIHtcbiAgICAgICAgICBfcmVzdWx0ID0gdHlwZS5yZXByZXNlbnQob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2hhc093blByb3BlcnR5LmNhbGwodHlwZS5yZXByZXNlbnQsIHN0eWxlKSkge1xuICAgICAgICAgIF9yZXN1bHQgPSB0eXBlLnJlcHJlc2VudFtzdHlsZV0ob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJyE8JyArIHR5cGUudGFnICsgJz4gdGFnIHJlc29sdmVyIGFjY2VwdHMgbm90IFwiJyArIHN0eWxlICsgJ1wiIHN0eWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kdW1wID0gX3Jlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTZXJpYWxpemVzIGBvYmplY3RgIGFuZCB3cml0ZXMgaXQgdG8gZ2xvYmFsIGByZXN1bHRgLlxuLy8gUmV0dXJucyB0cnVlIG9uIHN1Y2Nlc3MsIG9yIGZhbHNlIG9uIGludmFsaWQgb2JqZWN0LlxuLy9cbmZ1bmN0aW9uIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgYmxvY2ssIGNvbXBhY3QsIGlza2V5LCBpc2Jsb2Nrc2VxKSB7XG4gIHN0YXRlLnRhZyA9IG51bGw7XG4gIHN0YXRlLmR1bXAgPSBvYmplY3Q7XG5cbiAgaWYgKCFkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGZhbHNlKSkge1xuICAgIGRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgdHJ1ZSk7XG4gIH1cblxuICB2YXIgdHlwZSA9IF90b1N0cmluZy5jYWxsKHN0YXRlLmR1bXApO1xuICB2YXIgaW5ibG9jayA9IGJsb2NrO1xuICB2YXIgdGFnU3RyO1xuXG4gIGlmIChibG9jaykge1xuICAgIGJsb2NrID0gKHN0YXRlLmZsb3dMZXZlbCA8IDAgfHwgc3RhdGUuZmxvd0xldmVsID4gbGV2ZWwpO1xuICB9XG5cbiAgdmFyIG9iamVjdE9yQXJyYXkgPSB0eXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgZHVwbGljYXRlSW5kZXgsXG4gICAgICBkdXBsaWNhdGU7XG5cbiAgaWYgKG9iamVjdE9yQXJyYXkpIHtcbiAgICBkdXBsaWNhdGVJbmRleCA9IHN0YXRlLmR1cGxpY2F0ZXMuaW5kZXhPZihvYmplY3QpO1xuICAgIGR1cGxpY2F0ZSA9IGR1cGxpY2F0ZUluZGV4ICE9PSAtMTtcbiAgfVxuXG4gIGlmICgoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fCBkdXBsaWNhdGUgfHwgKHN0YXRlLmluZGVudCAhPT0gMiAmJiBsZXZlbCA+IDApKSB7XG4gICAgY29tcGFjdCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGR1cGxpY2F0ZSAmJiBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICBzdGF0ZS5kdW1wID0gJypyZWZfJyArIGR1cGxpY2F0ZUluZGV4O1xuICB9IGVsc2Uge1xuICAgIGlmIChvYmplY3RPckFycmF5ICYmIGR1cGxpY2F0ZSAmJiAhc3RhdGUudXNlZER1cGxpY2F0ZXNbZHVwbGljYXRlSW5kZXhdKSB7XG4gICAgICBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoT2JqZWN0LmtleXMoc3RhdGUuZHVtcCkubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXAsIGNvbXBhY3QpO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd01hcHBpbmcoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyAnICcgKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICBpZiAoYmxvY2sgJiYgKHN0YXRlLmR1bXAubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICBpZiAoc3RhdGUubm9BcnJheUluZGVudCAmJiAhaXNibG9ja3NlcSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgICB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsIC0gMSwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3JpdGVCbG9ja1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZsb3dTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXApO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IFN0cmluZ10nKSB7XG4gICAgICBpZiAoc3RhdGUudGFnICE9PSAnPycpIHtcbiAgICAgICAgd3JpdGVTY2FsYXIoc3RhdGUsIHN0YXRlLmR1bXAsIGxldmVsLCBpc2tleSwgaW5ibG9jayk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBVbmRlZmluZWRdJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUuc2tpcEludmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCd1bmFjY2VwdGFibGUga2luZCBvZiBhbiBvYmplY3QgdG8gZHVtcCAnICsgdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnRhZyAhPT0gbnVsbCAmJiBzdGF0ZS50YWcgIT09ICc/Jykge1xuICAgICAgLy8gTmVlZCB0byBlbmNvZGUgYWxsIGNoYXJhY3RlcnMgZXhjZXB0IHRob3NlIGFsbG93ZWQgYnkgdGhlIHNwZWM6XG4gICAgICAvL1xuICAgICAgLy8gWzM1XSBucy1kZWMtZGlnaXQgICAgOjo9ICBbI3gzMC0jeDM5XSAvKiAwLTkgKi9cbiAgICAgIC8vIFszNl0gbnMtaGV4LWRpZ2l0ICAgIDo6PSAgbnMtZGVjLWRpZ2l0XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB8IFsjeDQxLSN4NDZdIC8qIEEtRiAqLyB8IFsjeDYxLSN4NjZdIC8qIGEtZiAqL1xuICAgICAgLy8gWzM3XSBucy1hc2NpaS1sZXR0ZXIgOjo9ICBbI3g0MS0jeDVBXSAvKiBBLVogKi8gfCBbI3g2MS0jeDdBXSAvKiBhLXogKi9cbiAgICAgIC8vIFszOF0gbnMtd29yZC1jaGFyICAgIDo6PSAgbnMtZGVjLWRpZ2l0IHwgbnMtYXNjaWktbGV0dGVyIHwgXHUyMDFDLVx1MjAxRFxuICAgICAgLy8gWzM5XSBucy11cmktY2hhciAgICAgOjo9ICBcdTIwMUMlXHUyMDFEIG5zLWhleC1kaWdpdCBucy1oZXgtZGlnaXQgfCBucy13b3JkLWNoYXIgfCBcdTIwMUMjXHUyMDFEXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB8IFx1MjAxQztcdTIwMUQgfCBcdTIwMUMvXHUyMDFEIHwgXHUyMDFDP1x1MjAxRCB8IFx1MjAxQzpcdTIwMUQgfCBcdTIwMUNAXHUyMDFEIHwgXHUyMDFDJlx1MjAxRCB8IFx1MjAxQz1cdTIwMUQgfCBcdTIwMUMrXHUyMDFEIHwgXHUyMDFDJFx1MjAxRCB8IFx1MjAxQyxcdTIwMURcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwgXHUyMDFDX1x1MjAxRCB8IFx1MjAxQy5cdTIwMUQgfCBcdTIwMUMhXHUyMDFEIHwgXHUyMDFDflx1MjAxRCB8IFx1MjAxQypcdTIwMUQgfCBcdTIwMUMnXHUyMDFEIHwgXHUyMDFDKFx1MjAxRCB8IFx1MjAxQylcdTIwMUQgfCBcdTIwMUNbXHUyMDFEIHwgXHUyMDFDXVx1MjAxRFxuICAgICAgLy9cbiAgICAgIC8vIEFsc28gbmVlZCB0byBlbmNvZGUgJyEnIGJlY2F1c2UgaXQgaGFzIHNwZWNpYWwgbWVhbmluZyAoZW5kIG9mIHRhZyBwcmVmaXgpLlxuICAgICAgLy9cbiAgICAgIHRhZ1N0ciA9IGVuY29kZVVSSShcbiAgICAgICAgc3RhdGUudGFnWzBdID09PSAnIScgPyBzdGF0ZS50YWcuc2xpY2UoMSkgOiBzdGF0ZS50YWdcbiAgICAgICkucmVwbGFjZSgvIS9nLCAnJTIxJyk7XG5cbiAgICAgIGlmIChzdGF0ZS50YWdbMF0gPT09ICchJykge1xuICAgICAgICB0YWdTdHIgPSAnIScgKyB0YWdTdHI7XG4gICAgICB9IGVsc2UgaWYgKHRhZ1N0ci5zbGljZSgwLCAxOCkgPT09ICd0YWc6eWFtbC5vcmcsMjAwMjonKSB7XG4gICAgICAgIHRhZ1N0ciA9ICchIScgKyB0YWdTdHIuc2xpY2UoMTgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFnU3RyID0gJyE8JyArIHRhZ1N0ciArICc+JztcbiAgICAgIH1cblxuICAgICAgc3RhdGUuZHVtcCA9IHRhZ1N0ciArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldER1cGxpY2F0ZVJlZmVyZW5jZXMob2JqZWN0LCBzdGF0ZSkge1xuICB2YXIgb2JqZWN0cyA9IFtdLFxuICAgICAgZHVwbGljYXRlc0luZGV4ZXMgPSBbXSxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoO1xuXG4gIGluc3BlY3ROb2RlKG9iamVjdCwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBkdXBsaWNhdGVzSW5kZXhlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgc3RhdGUuZHVwbGljYXRlcy5wdXNoKG9iamVjdHNbZHVwbGljYXRlc0luZGV4ZXNbaW5kZXhdXSk7XG4gIH1cbiAgc3RhdGUudXNlZER1cGxpY2F0ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gaW5zcGVjdE5vZGUob2JqZWN0LCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcykge1xuICB2YXIgb2JqZWN0S2V5TGlzdCxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoO1xuXG4gIGlmIChvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICBpbmRleCA9IG9iamVjdHMuaW5kZXhPZihvYmplY3QpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmIChkdXBsaWNhdGVzSW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PT0gLTEpIHtcbiAgICAgICAgZHVwbGljYXRlc0luZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdHMucHVzaChvYmplY3QpO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAgIGluc3BlY3ROb2RlKG9iamVjdFtpbmRleF0sIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdEtleUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAgIGluc3BlY3ROb2RlKG9iamVjdFtvYmplY3RLZXlMaXN0W2luZGV4XV0sIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkdW1wKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZShvcHRpb25zKTtcblxuICBpZiAoIXN0YXRlLm5vUmVmcykgZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhpbnB1dCwgc3RhdGUpO1xuXG4gIHZhciB2YWx1ZSA9IGlucHV0O1xuXG4gIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbCh7ICcnOiB2YWx1ZSB9LCAnJywgdmFsdWUpO1xuICB9XG5cbiAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgMCwgdmFsdWUsIHRydWUsIHRydWUpKSByZXR1cm4gc3RhdGUuZHVtcCArICdcXG4nO1xuXG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMuZHVtcCA9IGR1bXA7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBsb2FkZXIgPSByZXF1aXJlKCcuL2xpYi9sb2FkZXInKTtcbnZhciBkdW1wZXIgPSByZXF1aXJlKCcuL2xpYi9kdW1wZXInKTtcblxuXG5mdW5jdGlvbiByZW5hbWVkKGZyb20sIHRvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiB5YW1sLicgKyBmcm9tICsgJyBpcyByZW1vdmVkIGluIGpzLXlhbWwgNC4gJyArXG4gICAgICAnVXNlIHlhbWwuJyArIHRvICsgJyBpbnN0ZWFkLCB3aGljaCBpcyBub3cgc2FmZSBieSBkZWZhdWx0LicpO1xuICB9O1xufVxuXG5cbm1vZHVsZS5leHBvcnRzLlR5cGUgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL2xpYi90eXBlJyk7XG5tb2R1bGUuZXhwb3J0cy5TY2hlbWEgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9saWIvc2NoZW1hJyk7XG5tb2R1bGUuZXhwb3J0cy5GQUlMU0FGRV9TQ0hFTUEgICAgID0gcmVxdWlyZSgnLi9saWIvc2NoZW1hL2ZhaWxzYWZlJyk7XG5tb2R1bGUuZXhwb3J0cy5KU09OX1NDSEVNQSAgICAgICAgID0gcmVxdWlyZSgnLi9saWIvc2NoZW1hL2pzb24nKTtcbm1vZHVsZS5leHBvcnRzLkNPUkVfU0NIRU1BICAgICAgICAgPSByZXF1aXJlKCcuL2xpYi9zY2hlbWEvY29yZScpO1xubW9kdWxlLmV4cG9ydHMuREVGQVVMVF9TQ0hFTUEgICAgICA9IHJlcXVpcmUoJy4vbGliL3NjaGVtYS9kZWZhdWx0Jyk7XG5tb2R1bGUuZXhwb3J0cy5sb2FkICAgICAgICAgICAgICAgID0gbG9hZGVyLmxvYWQ7XG5tb2R1bGUuZXhwb3J0cy5sb2FkQWxsICAgICAgICAgICAgID0gbG9hZGVyLmxvYWRBbGw7XG5tb2R1bGUuZXhwb3J0cy5kdW1wICAgICAgICAgICAgICAgID0gZHVtcGVyLmR1bXA7XG5tb2R1bGUuZXhwb3J0cy5ZQU1MRXhjZXB0aW9uICAgICAgID0gcmVxdWlyZSgnLi9saWIvZXhjZXB0aW9uJyk7XG5cbi8vIFJlLWV4cG9ydCBhbGwgdHlwZXMgaW4gY2FzZSB1c2VyIHdhbnRzIHRvIGNyZWF0ZSBjdXN0b20gc2NoZW1hXG5tb2R1bGUuZXhwb3J0cy50eXBlcyA9IHtcbiAgYmluYXJ5OiAgICByZXF1aXJlKCcuL2xpYi90eXBlL2JpbmFyeScpLFxuICBmbG9hdDogICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvZmxvYXQnKSxcbiAgbWFwOiAgICAgICByZXF1aXJlKCcuL2xpYi90eXBlL21hcCcpLFxuICBudWxsOiAgICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvbnVsbCcpLFxuICBwYWlyczogICAgIHJlcXVpcmUoJy4vbGliL3R5cGUvcGFpcnMnKSxcbiAgc2V0OiAgICAgICByZXF1aXJlKCcuL2xpYi90eXBlL3NldCcpLFxuICB0aW1lc3RhbXA6IHJlcXVpcmUoJy4vbGliL3R5cGUvdGltZXN0YW1wJyksXG4gIGJvb2w6ICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9ib29sJyksXG4gIGludDogICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9pbnQnKSxcbiAgbWVyZ2U6ICAgICByZXF1aXJlKCcuL2xpYi90eXBlL21lcmdlJyksXG4gIG9tYXA6ICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9vbWFwJyksXG4gIHNlcTogICAgICAgcmVxdWlyZSgnLi9saWIvdHlwZS9zZXEnKSxcbiAgc3RyOiAgICAgICByZXF1aXJlKCcuL2xpYi90eXBlL3N0cicpXG59O1xuXG4vLyBSZW1vdmVkIGZ1bmN0aW9ucyBmcm9tIEpTLVlBTUwgMy4wLnhcbm1vZHVsZS5leHBvcnRzLnNhZmVMb2FkICAgICAgICAgICAgPSByZW5hbWVkKCdzYWZlTG9hZCcsICdsb2FkJyk7XG5tb2R1bGUuZXhwb3J0cy5zYWZlTG9hZEFsbCAgICAgICAgID0gcmVuYW1lZCgnc2FmZUxvYWRBbGwnLCAnbG9hZEFsbCcpO1xubW9kdWxlLmV4cG9ydHMuc2FmZUR1bXAgICAgICAgICAgICA9IHJlbmFtZWQoJ3NhZmVEdW1wJywgJ2R1bXAnKTtcbiIsICJpbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRDYWNoZWRNZXRhZGF0YSxcclxuXHRQbHVnaW4sXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRtb21lbnQsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCB7TkNFZGl0b3J9IGZyb20gJy4vc3JjL05DRWRpdG9yJztcclxuaW1wb3J0IHtOb3RlQ2hhaW59IGZyb20gJy4vc3JjL05vdGVDaGFpbic7XHJcbmltcG9ydCB7TkNUZXh0YXJlYX0gZnJvbSAnLi9zcmMvTkNUZXh0YXJlYSc7XHJcbmltcG9ydCB7TkNGaWxlRXhwbG9yZXJ9IGZyb20gJy4vc3JjL05DRmlsZUV4cGxvcmVyJztcclxuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gJ3NyYy9zdHJpbmdzJztcclxuaW1wb3J0IHsgV29yZENvdW50IH0gZnJvbSAnc3JjL1dvcmRDb3VudCc7XHJcbmltcG9ydCB7IE1lcm1haWRHcmFwaCxDYW52YXNHcmFwaCB9IGZyb20gJ3NyYy9ncmFwaCc7XHJcbmltcG9ydCB7IE5DU2V0dGluZ1RhYixOQ1NldHRpbmdzLERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICdzcmMvc2V0dGluZyc7XHJcbmltcG9ydCB7IGFkZENvbW1hbmRzIH0gZnJvbSAnc3JjL2NvbW1hbmRzJztcclxuaW1wb3J0IHtkaWFsb2dfc3VnZ2VzdH0gZnJvbSAnc3JjL2d1aS9pbnB1dFN1Z2dlc3RlcidcclxuaW1wb3J0IHtkaWFsb2dfcHJvbXB0fSBmcm9tICdzcmMvZ3VpL2lucHV0UHJvbXB0J1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVDaGFpblBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IE5DU2V0dGluZ3M7XHJcblx0Y2hhaW4gOiBOb3RlQ2hhaW47XHJcblx0dGV4dGFyZWEgOiBOQ1RleHRhcmVhO1xyXG5cdGVkaXRvciA6IE5DRWRpdG9yOyBcclxuXHRleHBsb3JlciA6IE5DRmlsZUV4cGxvcmVyO1xyXG5cdG1lcm1haWQgOiBNZXJtYWlkR3JhcGg7XHJcblx0Y2FudmFzIDogQ2FudmFzR3JhcGg7XHJcblx0d29yZGNvdXQgOiBXb3JkQ291bnQ7XHJcblx0c3RyaW5ncyA6IFN0cmluZ3M7XHJcblx0c3RhdHVzIDogc3RyaW5nO1xyXG5cdGRlYnVnOmJvb2xlYW47XHJcblx0dXRpbHM6YW55O1xyXG5cdHRpbWVySWQ6YW55O1xyXG5cdG9iOmFueTtcclxuXHRkaWFsb2dfc3VnZ2VzdDogRnVuY3Rpb25cclxuXHRkaWFsb2dfcHJvbXB0OiBGdW5jdGlvblxyXG5cclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5kaWFsb2dfc3VnZ2VzdCA9IGRpYWxvZ19zdWdnZXN0XHJcblx0XHR0aGlzLmRpYWxvZ19wcm9tcHQgPSBkaWFsb2dfcHJvbXB0XHJcblx0XHR0aGlzLnN0YXR1cyA9ICd3YWl0aW5nJ1xyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoXHJcblx0XHRcdGFzeW5jKCk9PntcclxuXHRcdFx0XHRhd2FpdCB0aGlzLl9vbmxvYWRfKCk7XHJcblx0XHRcdFx0dGhpcy5fYWZ0ZXJfbG9hZGluZ18oKVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fVxyXG5cclxuXHRhc3luYyBfYWZ0ZXJfbG9hZGluZ18oKSB7XHJcblx0XHR3aGlsZSAoISh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnNbJ25vdGUtY2hhaW4nXSkge1xyXG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7IC8vIFx1N0I0OVx1NUY4NTEwMG1zXHU1MThEXHU2OEMwXHU2N0U1XHJcblx0XHR9XHJcblxyXG5cdFx0KHRoaXMuYXBwIGFzIGFueSkuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKFxyXG5cdFx0XHRcImRhdGF2aWV3OmRhdGF2aWV3LWZvcmNlLXJlZnJlc2gtdmlld3NcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oXCJvYnNpZGlhbi10YXNrcy1wbHVnaW5cIik7XHJcblx0XHR0YXJnZXQgJiYgdGFyZ2V0LmNhY2hlLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcblxyXG5cdFx0Ly8gbmV3IE5vdGljZSgnTm90ZSBDaGFpbiBpcyByZWFkeSEnLDMwMDApXHJcblx0XHRyZXR1cm4gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucz8ucGx1Z2luc1snbm90ZS1jaGFpbiddXHJcblx0fVxyXG5cclxuXHRhc3luYyBfb25sb2FkXygpIHtcclxuXHRcdHRoaXMuc3RhdHVzID0gJ2xvYWRpbmcnXHJcblx0XHR0aGlzLmRlYnVnPXRydWU7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnV0aWxzID0gcmVxdWlyZSgnLi9zcmMvdXRpbHMnKTtcclxuXHRcdHRoaXMub2IgPSByZXF1aXJlKCdvYnNpZGlhbicpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBOQ0VkaXRvcih0aGlzKTtcclxuXHRcdHRoaXMuY2hhaW4gPSBuZXcgTm90ZUNoYWluKHRoaXMsdGhpcy5lZGl0b3IpO1xyXG5cdFx0dGhpcy5leHBsb3JlciA9IG5ldyBOQ0ZpbGVFeHBsb3Jlcih0aGlzKTtcclxuXHRcdHRoaXMubWVybWFpZCA9IG5ldyBNZXJtYWlkR3JhcGgodGhpcyk7XHJcblx0XHR0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXNHcmFwaCh0aGlzKTtcclxuXHRcdHRoaXMuc3RyaW5ncyA9IG5ldyBTdHJpbmdzKCk7XHJcblxyXG5cdFx0YWRkQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTkNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIHRoaXMudWZ1bmNfb25fZmlsZV9vcGVuLmJpbmQodGhpcykpXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFx1NTIyMFx1OTY2NFx1NjU4N1x1NEVGNlxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcImRlbGV0ZVwiLCBhc3luYyAoZmlsZTogVEZpbGUpID0+IHtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX3BvcF9ub2RlKGZpbGUpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHQpKTtcclxuXHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1ODdcdTRFRjZcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbihcclxuXHRcdFx0XCJjcmVhdGVcIiwgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdGF3YWl0IHNsZWVwKDUwMCk7XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KDAsdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCkpO1xyXG5cclxuXHRcdC8vIFx1OTFDRFx1NTQ3RFx1NTQwRFx1NjU4N1x1NEVGNlxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcInJlbmFtZVwiLCBhc3luYyAoZmlsZTogVEZpbGUsb2xkUGF0aDpzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRsZXQgb2xkRm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0Rm9sZGVyQnlQYXRoKFxyXG5cdFx0XHRcdFx0b2xkUGF0aC5zbGljZSgwLG9sZFBhdGgubGFzdEluZGV4T2YoJy8nKSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0b2xkRm9sZGVyICYmIHRoaXMuY2hhaW4ucmVmcmVzaF9mb2xkZXIob2xkRm9sZGVyKTtcclxuXHRcdFx0XHR0aGlzLmNoYWluLnJlZnJlc2hfdGZpbGUoZmlsZSk7XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZShmaWxlKVxyXG5cdFx0XHR9XHJcblx0XHQpKTtcclxuXHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTU0MEVcdTdGNkVcdTY1ODdcdTRFRjZcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmaWxlKSA9PiB7XHJcblx0XHRcdFx0aWYoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLnN0cmluZ3MuZmlsZW1lbnVfY3JlYXRlX25leHRfbm90ZSlcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBmaWxlbmFtZSA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnRmlsZSBuYW1lJyk7XHJcblx0XHRcdFx0XHRcdFx0aWYoIWZpbGVuYW1lKXtyZXR1cm59XHJcblx0XHRcdFx0XHRcdFx0bGV0IGRzdCA9IGZpbGUucGFyZW50P2ZpbGUucGFyZW50LnBhdGggKyAnLycgKyBmaWxlbmFtZSsnLm1kJzpmaWxlbmFtZSsnLm1kJztcclxuXHRcdFx0XHRcdFx0XHRpZih0aGlzLmNoYWluLmdldF90ZmlsZShkc3QpKXtcclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0V4aXN0czonK2ZpbGUucGF0aCwzMDAwKTtcclxuXHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCB0ZmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShkc3QsJycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcih0ZmlsZSxmaWxlKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZSx0ZmlsZSx0aGlzLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdFxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4ub3Blbl9ub3RlKHRmaWxlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImZpbGUtbWVudVwiLCAobWVudSwgZmlsZSkgPT4ge1xyXG5cdFx0XHRcdGlmKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbj09J21kJyl7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUodGhpcy5zdHJpbmdzLmZpbGVtZW51X21vdmVfYXNfbmV4dF9ub3RlKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImhhbmRcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBhbmNob3IgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKCk7XHJcblx0XHRcdFx0XHRcdFx0aWYoYW5jaG9yKXtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIoZmlsZSxhbmNob3IpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gXHU1NDhDXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwXHU3NkY4XHU1NDBDXHU1QzQyXHU3RUE3XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShcclxuXHRcdFx0XHRcdFx0XHRcdFx0YW5jaG9yLGZpbGUsdGhpcy5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZihmaWxlLnBhcmVudCE9YW5jaG9yLnBhcmVudCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGxldCBkc3QgPSBhbmNob3IucGFyZW50LnBhdGgrJy8nK2ZpbGUubmFtZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShmaWxlLGRzdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fWVsc2UgaWYoZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZSlcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJoYW5kXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbm90ZXMgPSBmaWxlLnBhcmVudD8uY2hpbGRyZW47XHJcblx0XHRcdFx0XHRcdFx0aWYobm90ZXMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGFuY2hvciA9IGF3YWl0IHRoaXMuZGlhbG9nX3N1Z2dlc3QoXHJcblx0XHRcdFx0XHRcdFx0XHRcdChmOlRBYnN0cmFjdEZpbGUpPT5mLm5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5vdGVzLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+eCBpbnN0YW5jZW9mIFRGaWxlKVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGxldCBub3RlID0gdGhpcy5jaGFpbi5nZXRfdGZpbGUoZmlsZS5wYXRoKycvJytmaWxlLm5hbWUrJy5tZCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRub3RlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGUucGF0aCsnLycrZmlsZS5uYW1lKycubWQnLCcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5vdGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIkZvbGRlclByZXZOb3RlXCI6YFtbJHthbmNob3IuYmFzZW5hbWV9XV1gLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiRm9sZGVyUHJldk5vdGVPZmZzZXRcIjowLjUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY2hhaW4ucmVmcmVzaF90ZmlsZShmaWxlKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc29ydCgwLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcdFx0XHQnLnRyZWUtaXRlbS1zZWxmLmlzLXNlbGVjdGVkJ1xyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KT0+eC5kYXRhc2V0Py5wYXRoKVxyXG5cdFx0XHRcdGxldCB0ZmlsZXMgPSBpdGVtcy5tYXAoeD0+dGhpcy5jaGFpbi5nZXRfdGZpbGUoeCkpLmZpbHRlcih4PT54LmV4dGVuc2lvbj09J21kJylcclxuXHRcdFx0XHRpZih0ZmlsZXMubGVuZ3RoPjEpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZXMpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiaGFuZFwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGZpbGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHRcdFx0XHRcdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfYWxsX3RmaWxlcygpXHJcblx0XHRcdFx0XHRcdFx0bm90ZXMgPSBub3Rlcy5maWx0ZXIoKHg6VEZpbGUpPT4hdGZpbGVzLmNvbnRhaW5zKHgpKVxyXG5cdFx0XHRcdFx0XHRcdGxldCBhbmNob3IgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKG5vdGVzKVxyXG5cdFx0XHRcdFx0XHRcdGlmKCFhbmNob3Ipe3JldHVybn1cclxuXHRcdFx0XHRcdFx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRpZih0ZmlsZS5wYXJlbnQucGF0aCE9YW5jaG9yLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGRzdCA9IGFuY2hvci5wYXJlbnQucGF0aCtcIi9cIit0ZmlsZS5uYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKHRmaWxlLGRzdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX3BvcF9ub2RlKHRmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0ZmlsZXMudW5zaGlmdChhbmNob3IpXHJcblx0XHRcdFx0XHRcdFx0bGV0IGFuY2hvcl9uZXh0ID0gdGhpcy5jaGFpbi5nZXRfbmV4dF9ub3RlKGFuY2hvcik7XHJcblx0XHRcdFx0XHRcdFx0aWYoYW5jaG9yX25leHQpe3RmaWxlcy5wdXNoKGFuY2hvcl9uZXh0KX1cclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzKTtcclxuXHRcdFx0XHRcdFx0XHRmb3IobGV0IGRzdCBvZiB0ZmlsZXMuc2xpY2UoMSx0ZmlsZXMubGVuZ3RoLTEpKXtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcl9hbGlnbl9maWxlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhbmNob3IsZHN0LHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0XHJcblx0XHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0XHRcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcclxuXHRcdFx0XHQnY2hhbmdlZCcsYXN5bmMgKGZpbGU6IFRGaWxlLCBkYXRhOiBzdHJpbmcsIGNhY2hlOiBDYWNoZWRNZXRhZGF0YSk9PntcclxuXHRcdFx0XHRcdGlmKGZpbGU9PXRoaXMuY2hhaW4uY3VycmVudF9ub3RlKXtcclxuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgdGltZXJJZCA9IHNldFRpbWVvdXQoYXN5bmMgKCk9PntcclxuXHRcdFx0XHRcdFx0Ly8gXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU2MzkyXHU1RThGXHJcblx0XHRcdFx0XHRcdGlmKGZpbGUucGFyZW50KXtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNoYWluLmNoaWxkcmVuW2ZpbGUucGFyZW50LnBhdGhdPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZS5wYXJlbnQuY2hpbGRyZW5cclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuc29ydCgwLGZhbHNlKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFx1NjU4N1x1NEVGNlx1NTQwRFx1NzlGMFxyXG5cdFx0XHRcdFx0XHRpZih0aGlzLnNldHRpbmdzLmZpZWxkX29mX2Rpc3BsYXlfdGV4dCl7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHR4dCA9IHRoaXMuZXhwbG9yZXIuZ2V0X2Rpc3BsYXlfdGV4dChmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdGxldCBpdGVtcyA9ICh0aGlzLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmV4cGxvcmVyLl9zZXRfZGlzcGxheV90ZXh0XyhpdGVtc1tmaWxlLnBhdGhdLHR4dClcclxuXHJcblx0XHRcdFx0XHRcdFx0bGV0IGNhbnZhcyA9IGl0ZW1zW2ZpbGUucGF0aC5zbGljZSgwLGZpbGUucGF0aC5sZW5ndGgtMikrJ2NhbnZhcyddXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5leHBsb3Jlci5fc2V0X2Rpc3BsYXlfdGV4dF8oY2FudmFzLHR4dClcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NjJGXHU3NkVFXHU1RjU1XHJcblx0XHRcdFx0XHRcdFx0aWYoKGZpbGUucGFyZW50ICYmIGZpbGUuYmFzZW5hbWU9PWZpbGUucGFyZW50Lm5hbWUpIHx8IChmaWxlLnBhcmVudCAmJiBmaWxlLnBhcmVudC5wYXRoPT0nLycpKXtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBmaWVsZCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihmaWxlLHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHByZXYgPSAoZmlsZSBhcyBhbnkpLm5vdGVfY2hhaW5fZGlzcGxheV9maWVsZFxyXG5cdFx0XHRcdFx0XHRcdFx0aWYoIXByZXYgfHwgcHJldiE9ZmllbGQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IHBwYXRoID0gJydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZihmaWxlLnBhcmVudC5wYXRoPT0nLycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHBhdGggPT0gJydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBwYXRoID0gZmlsZS5wYXJlbnQucGF0aCsnLydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoaXRlbS5maWxlLnBhdGguc3RhcnRzV2l0aChwcGF0aCl8fGl0ZW0uZmlsZS5wYXRoPT1maWxlLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxldCB0eHQgPSB0aGlzLmV4cGxvcmVyLmdldF9kaXNwbGF5X3RleHQoaXRlbS5maWxlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5leHBsb3Jlci5fc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbSx0eHQpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHQoZmlsZSBhcyBhbnkpLm5vdGVfY2hhaW5fZGlzcGxheV9maWVsZCA9IGZpZWxkXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTk4OUNcdTgyNzJcclxuXHRcdFx0XHRcdFx0aWYodGhpcy5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgc3R5bGUgPSBhd2FpdCB0aGlzLmV4cGxvcmVyLmdldF9maWxlaXRlbV9zdHlsZShmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoZmlsZSxzdHlsZSlcclxuXHRcdFx0XHRcdFx0XHRsZXQgaXRlbXMgPSAodGhpcy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblxyXG5cdFx0XHRcdFx0XHRcdGxldCBjYW52YXMgPSBpdGVtc1tmaWxlLnBhdGguc2xpY2UoMCxmaWxlLnBhdGgubGVuZ3RoLTIpKydjYW52YXMnXVxyXG5cdFx0XHRcdFx0XHRcdGlmKGNhbnZhcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNldF9maWxlaXRlbV9zdHlsZV9vZl9maWxlKGNhbnZhcy5maWxlLHN0eWxlKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NjJGXHU3NkVFXHU1RjU1XHJcblx0XHRcdFx0XHRcdFx0aWYoKGZpbGUucGFyZW50ICYmIGZpbGUuYmFzZW5hbWU9PWZpbGUucGFyZW50Lm5hbWUpIHx8IChmaWxlLnBhcmVudCAmJiBmaWxlLnBhcmVudC5wYXRoPT0nLycpKXtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBmaWVsZCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihmaWxlLHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcilcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBwcmV2ID0gKGZpbGUgYXMgYW55KS5ub3RlX2NoYWluX2JnY29sb3JcclxuXHRcdFx0XHRcdFx0XHRcdGlmKCFwcmV2IHx8IHByZXYhPWZpZWxkKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yKGxldCBrZXkgaW4gaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxldCBwcGF0aCA9ICcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoZmlsZS5wYXJlbnQucGF0aD09Jy8nKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBwYXRoID09ICcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcGF0aCA9IGZpbGUucGFyZW50LnBhdGgrJy8nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKGl0ZW0uZmlsZS5wYXRoLnN0YXJ0c1dpdGgocHBhdGgpfHxpdGVtLmZpbGUucGF0aD09ZmlsZS5wYXJlbnQucGF0aCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgc3R5bGUgPSBhd2FpdCB0aGlzLmV4cGxvcmVyLmdldF9maWxlaXRlbV9zdHlsZShpdGVtLmZpbGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNldF9maWxlaXRlbV9zdHlsZV9vZl9maWxlKGl0ZW0uZmlsZSxzdHlsZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdChmaWxlIGFzIGFueSkubm90ZV9jaGFpbl9iZ2NvbG9yID0gZmllbGRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR9LDUwMClcclxuXHRcdFx0XHRcdGlmKGZpbGU9PXRoaXMuY2hhaW4uY3VycmVudF9ub3RlKXtcclxuXHRcdFx0XHRcdFx0dGhpcy50aW1lcklkID0gdGhpcy50aW1lcklkXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0XHR0aGlzLndvcmRjb3V0ID0gbmV3IFdvcmRDb3VudCh0aGlzLHRoaXMuYXBwKTtcclxuXHRcdHRoaXMudGV4dGFyZWEgPSBuZXcgTkNUZXh0YXJlYSh0aGlzKVxyXG5cdFx0dGhpcy5zdGF0dXMgPSAnbG9hZGVkJ1xyXG5cdH1cclxuXHJcblxyXG5cdGFzeW5jIG9udW5sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5leHBsb3Jlci51bnJlZ2lzdGVyKCk7XHJcblx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgdWZ1bmNfb25fZmlsZV9vcGVuKGZpbGU6VEZpbGUpe1xyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpe1xyXG5cdFx0XHQodGhpcy5hcHAgYXMgYW55KS5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXHJcblx0XHRcdFx0XCJkYXRhdmlldzpkYXRhdmlldy1mb3JjZS1yZWZyZXNoLXZpZXdzXCJcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5yZWZyZXNoVGFza3Mpe1xyXG5cdFx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oXCJvYnNpZGlhbi10YXNrcy1wbHVnaW5cIik7XHJcblx0XHRcdHRhcmdldCAmJiB0YXJnZXQuY2FjaGUubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuXHRcdH1cclxuXHRcdGlmKHRoaXMuc2V0dGluZ3MuYXV0b19ub3RlY2hhaW4pe1xyXG5cdFx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9icm90aGVycyhmaWxlKTtcclxuXHRcdFx0aWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG5cdFx0XHRsZXQgeGZvbGRlcnMgPSB0aGlzLnNldHRpbmdzLndvcmRjb3VudHhmb2xkZXIuc3BsaXQoJ1xcbicpLmZpbHRlcih4PT54IT0nJyk7XHJcblx0XHRcdGZvcihsZXQgaXRlbSBvZiB4Zm9sZGVycyl7XHJcblx0XHRcdFx0aWYoZmlsZS5wYXRoLnN0YXJ0c1dpdGgoaXRlbSkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1lbHNlIGlmKGl0ZW09PScvJyl7XHJcblx0XHRcdFx0XHRpZihmaWxlLnBhcmVudD8ucGF0aD09Jy8nKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZih0aGlzLmV4cGxvcmVyPy5maWxlX2V4cGxvcmVyKXtcclxuXHRcdFx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsKHRoaXMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnNvcnRPcmRlcik7XHJcblx0XHRcdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLCdjaGFpbicpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fY29uY2F0X3RmaWxlcyhub3Rlcyk7XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2xlYXJfaW5saW5rcyh0ZmlsZT10aGlzLmNoYWluLmN1cnJlbnRfbm90ZSxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGgpe1xyXG5cdFx0XHRpZihtb2RlPT09J3N1Z2dlc3Rlcicpe1xyXG5cdFx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdFx0W1wiZGVsZXRlIGxpbmtzXCIsJ3JlcGxhY2UgbGlua3MnLFwiZGVsZXRlIHBhcmFncmFwaCB3aXRoIGxpbmtzXCIsXSxcclxuXHRcdFx0XHRcdFtbJ2xpbmsnLCdkZWwnXSxbJ2xpbmsnLCdyZXAnXSxbJ3BhcmEnLCdkZWwnXV1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZWcgPSB0aGlzLmVkaXRvci5yZWdleHBfbGluayh0ZmlsZSxtb2RlWzBdKTtcclxuXHRcdFx0aWYocmVnKXtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldDtcclxuXHRcdFx0XHRcdGlmKG1vZGVbMV09PT0ncmVwJyl7XHJcblx0XHRcdFx0XHRcdHRhcmdldD10ZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQ9JydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4KCl7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcygpO1xyXG5cdFx0aWYobm90ZXM/Lmxlbmd0aD4wKXtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRsZXQgcmVncyA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnRW50ZXIgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZXBsYWNlLicpO1xyXG5cdFx0XHRcdGlmKHJlZ3M9PW51bGwpe1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgcmVnID0gbmV3IFJlZ0V4cChyZWdzLCdnJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnRW50ZXIgdGhlIHRhcmdldCBzdHJpbmcuJyk7XHJcblx0XHRcdFx0aWYodGFyZ2V0PT1udWxsKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2UoXHJcblx0XHRcdFx0XHQvXFxcXG4vZywnXFxuJ1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0Zm9yKGxldCBub3RlIG9mIG5vdGVzKXtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIGNtZF9jaGFpbl9pbnNlcnRfbm9kZSgpe1xyXG5cclxuXHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcdCcudHJlZS1pdGVtLXNlbGYuaXMtc2VsZWN0ZWQnXHJcblx0XHQpXHJcblx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KT0+eC5kYXRhc2V0Py5wYXRoKVxyXG5cdFx0bGV0IHRmaWxlcyA9IGl0ZW1zLm1hcCh4PT50aGlzLmNoYWluLmdldF90ZmlsZSh4KSkuZmlsdGVyKHg9PnguZXh0ZW5zaW9uPT0nbWQnKVxyXG5cdFx0aWYodGZpbGVzLmxlbmd0aD4xKXtcclxuXHRcdFx0dGZpbGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHRcdGxldCBub3RlcyA9IHRoaXMuY2hhaW4uZ2V0X2FsbF90ZmlsZXMoKVxyXG5cdFx0XHRub3RlcyA9IG5vdGVzLmZpbHRlcigoeDpURmlsZSk9PiF0ZmlsZXMuY29udGFpbnMoeCkpXHJcblx0XHRcdGxldCBhbmNob3IgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKG5vdGVzKVxyXG5cdFx0XHRpZighYW5jaG9yKXtyZXR1cm59XHJcblx0XHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0XHRpZih0ZmlsZS5wYXJlbnQucGF0aCE9YW5jaG9yLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdGxldCBkc3QgPSBhbmNob3IucGFyZW50LnBhdGgrXCIvXCIrdGZpbGUubmFtZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGZpbGUsZHN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9wb3Bfbm9kZSh0ZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0XHR0ZmlsZXMudW5zaGlmdChhbmNob3IpXHJcblx0XHRcdGxldCBhbmNob3JfbmV4dCA9IHRoaXMuY2hhaW4uZ2V0X25leHRfbm90ZShhbmNob3IpO1xyXG5cdFx0XHRpZihhbmNob3JfbmV4dCl7dGZpbGVzLnB1c2goYW5jaG9yX25leHQpfVxyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzKTtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0bGV0IHNtb2RlID0gKHRoaXMuc3RyaW5ncyBhcyBhbnkpW3RoaXMuc2V0dGluZ3Muc3VnZ2VzdGVyTm90ZXNNb2RlXTtcclxuXHRcdGxldCBub3RlcyA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ2VzdGVyX25vdGVzKGN1cnIsZmFsc2Usc21vZGUpO1xyXG5cdFx0aWYoIW5vdGVzKXtyZXR1cm59XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0Ly9ub3RlcyA9IG5vdGVzLmZpbHRlcihmPT5mIT1jdXJyKTtcclxuXHRcdC8vXHU0RTNBMFx1NjVGNlx1NEU1Rlx1NjYzRVx1NzkzQVx1RkYwQ1x1NTQyNlx1NTIxOVx1NEVFNVx1NEUzQVx1NjYyRmJ1Z1xyXG5cdFx0Ly9pZihub3Rlcy5sZW5ndGg9PTApe3JldHVybjt9XHJcblx0XHRjb25zdCBub3RlID0gYXdhaXQgdGhpcy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0dGhpcy51dGlscy5hcnJheV9wcmVmaXhfaWQoXHJcblx0XHRcdFx0bm90ZXMubWFwKChmaWxlOlRGaWxlKSA9PiB0aGlzLnRmaWxlX3RvX3N0cmluZyhmaWxlLFtdLFwiXCIpKVxyXG5cdFx0XHQpLCBcclxuXHRcdFx0bm90ZXNcclxuXHRcdCk7IFxyXG5cdFx0XHJcblx0XHRpZighbm90ZSl7cmV0dXJuO31cclxuXHRcdFxyXG5cdFx0bGV0IHNpdGVtcyA9IFtcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYWZ0ZXIsXHJcblx0XHRcdHRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2JlZm9yZSxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfdGFpbCxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X2ZvbGRlcl9hZnRlcixcclxuXHRcdF07XHJcblx0XHRsZXQgbW9kZSA9IGF3YWl0IHRoaXMuZGlhbG9nX3N1Z2dlc3QoXHJcblx0XHRcdHRoaXMudXRpbHMuYXJyYXlfcHJlZml4X2lkKHNpdGVtcyksXHJcblx0XHRcdHNpdGVtcyxmYWxzZSx0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfc3VnZ2VzdGVyXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRpZighbW9kZSl7cmV0dXJuO31cclxuXHJcblx0XHRpZihtb2RlPT09dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZChjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FzX3RhaWwpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FzX3RhaWwoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9iZWZvcmUpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2JlZm9yZShjdXJyLG5vdGUpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShcclxuXHRcdFx0XHRub3RlLFxyXG5cdFx0XHRcdGN1cnIsXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdFx0KVxyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FmdGVyKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcihjdXJyLG5vdGUpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShcclxuXHRcdFx0XHRub3RlLFxyXG5cdFx0XHRcdGN1cnIsXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdFx0KVxyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9mb2xkZXJfYWZ0ZXIpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIoY3Vycixub3RlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSxmaWVsZHM6QXJyYXk8c3RyaW5nPixzZXE6c3RyaW5nKXtcclxuXHRcdGxldCBpdGVtcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0aWYodGZpbGU9PXRoaXMuY2hhaW4uY3VycmVudF9ub3RlKXtcclxuXHRcdFx0aXRlbXMucHVzaCgnXHVEODNDXHVERkUwJyArIHRmaWxlLmJhc2VuYW1lKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGl0ZW1zLnB1c2godGZpbGUuYmFzZW5hbWUpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZvcihsZXQgZmllbGQgb2YgZmllbGRzKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2godGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGZpZWxkKSk7XHJcblx0XHRcdH1jYXRjaChlcnJvcil7XHJcblx0XHRcdFx0aXRlbXMucHVzaChcIi1cIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcy5qb2luKHNlcSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvcGVuX25vdGVfc21hcnRlcigpe1xyXG5cdFx0Ly8gXHU5NEZFXHU1RjBGXHU4QzAzXHU3NTI4XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoY3VycixmYWxzZSlcclxuXHRcdFxyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLFsnbXRpbWUnLCd4J10pO1xyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKG5vdGVzKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdHRoaXMudXRpbHMuYXJyYXlfcHJlZml4X2lkKFxyXG5cdFx0XHRcdFx0bm90ZXMubWFwKChmaWxlOlRGaWxlKSA9PiB0aGlzLmNoYWluLnRmaWxlX3RvX3N0cmluZyhmaWxlKSlcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRcdG5vdGVzXHJcblx0XHRcdClcclxuXHRcdFx0aWYobm90ZSl7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5vcGVuX25vdGUobm90ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgdGltZSB9IGZyb20gJ2NvbnNvbGUnO1xyXG5pbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tICdzdHJlYW0nO1xyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5DRWRpdG9ye1xyXG5cdGFwcDpBcHA7XHJcblx0bnJldHJ5Om51bWJlcjtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKXtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSB0aGlzLnBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLm5yZXRyeT0xO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlfHN0cmluZ3xBcnJheTxURmlsZXxzdHJpbmc+LGtleTpzdHJpbmcsdmFsdWU6YW55LG5yZXRyeT10aGlzLm5yZXRyeSl7XHJcblx0XHRsZXQga3Y6e1trZXk6c3RyaW5nXTpzdHJpbmd9ID0ge307XHJcblx0XHRrdltrZXldID0gdmFsdWU7XHJcblx0XHRsZXQgZmxhZyA9IGF3YWl0IHRoaXMuc2V0X211bHRpX2Zyb250bWF0dGVyKHRmaWxlLGt2LG5yZXRyeSk7XHJcblx0XHRyZXR1cm4gZmxhZztcclxuXHR9XHJcblxyXG5cdGNoZWNrX2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGt2Ontba2V5OnN0cmluZ106YW55fSk6Ym9vbGVhbntcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmKCF0ZmlsZSl7cmV0dXJuIGZhbHNlO31cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0XHRmb3IobGV0IGsgaW4ga3Ype1xyXG5cdFx0XHRcdFx0aWYoIShtZXRhLmZyb250bWF0dGVyW2tdPT1rdltrXSkpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHdhaXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9LG5yZXRyeT10aGlzLm5yZXRyeSk6UHJvbWlzZTxib29sZWFuPntcclxuXHRcdGxldCBmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHRcclxuXHRcdHdoaWxlKCFmbGFnICYmIG5yZXRyeT4wKXtcclxuXHRcdFx0YXdhaXQgc2xlZXAoNTApO1xyXG5cdFx0XHRucmV0cnkgPSBucmV0cnktMTtcclxuXHRcdFx0ZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZsYWc7XHJcblx0fVxyXG5cclxuXHRfc2V0XyhkYXRhOmFueSxrZXk6c3RyaW5nLHZhbHVlOmFueSl7XHJcblx0XHRsZXQgaXRlbXMgPSBrZXkudHJpbSgpLnNwbGl0KCcuJylcclxuXHRcdGlmKCFpdGVtcyl7cmV0dXJufVxyXG5cdFx0bGV0IGN1cnIgPSBkYXRhXHJcblx0XHRmb3IobGV0IGl0ZW0gb2YgaXRlbXMuc2xpY2UoMCxpdGVtcy5sZW5ndGgtMSkpe1xyXG5cdFx0XHRsZXQga3YgPSBpdGVtLm1hdGNoKC9eKC4qPykoXFxbLT9cXGQrXFxdKT8kLylcclxuXHRcdFx0aWYoIWt2KXtyZXR1cm59XHJcblx0XHRcdGxldCBrID0ga3ZbMV1cclxuXHRcdFx0aWYoa3ZbMl0pe1xyXG5cdFx0XHRcdGxldCBpID0gcGFyc2VJbnQoa3ZbMl0uc2xpY2UoMSxrdlsyXS5sZW5ndGgtMSkpXHJcblx0XHRcdFx0aWYoIShrIGluIGN1cnIpKXtcclxuXHRcdFx0XHRcdGN1cnJba10gPSBbe31dXHJcblx0XHRcdFx0XHRjdXJyID0gY3VycltrXVswXVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aWYoQXJyYXkuaXNBcnJheShjdXJyW2tdKSl7XHJcblx0XHRcdFx0XHRcdGxldCB0bXAgPSB7fVxyXG5cdFx0XHRcdFx0XHRpZihpPDApe1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJba10uc3BsaWNlKC1pLTEsMCx0bXApXHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKGk8Y3VycltrXS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJba11baV09dG1wXHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJba10ucHVzaCh0bXApXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y3VyciA9IHRtcFxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGN1cnJba10gPSBbe31dXHJcblx0XHRcdFx0XHRcdGN1cnIgPSBjdXJyW2tdWzBdXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRpZighKGsgaW4gY3Vycikpe1xyXG5cdFx0XHRcdFx0Y3VycltrXSA9IHt9XHJcblx0XHRcdFx0XHRjdXJyID0gY3VycltrXVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aWYodHlwZW9mKGN1cnJba10pIT0nb2JqZWN0Jyl7XHJcblx0XHRcdFx0XHRcdGN1cnJba10gPSB7fVxyXG5cdFx0XHRcdFx0XHRjdXJyID0gY3VycltrXVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGN1cnIgPSBjdXJyW2tdXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQga3YgPSBpdGVtc1tpdGVtcy5sZW5ndGgtMV0ubWF0Y2goL14oLio/KShcXFstP1xcZCtcXF0pPyQvKVxyXG5cdFx0aWYoIWt2KXtyZXR1cm59XHJcblx0XHRsZXQgayA9IGt2WzFdXHJcblx0XHRpZihrdlsyXSl7XHJcblx0XHRcdGxldCBpID0gcGFyc2VJbnQoa3ZbMl0uc2xpY2UoMSxrdlsyXS5sZW5ndGgtMSkpXHJcblx0XHRcdGlmKGsgaW4gY3Vycil7XHJcblx0XHRcdFx0aWYoQXJyYXkuaXNBcnJheShjdXJyW2tdKSl7XHJcblx0XHRcdFx0XHRpZihpPDApe1xyXG5cdFx0XHRcdFx0XHRjdXJyW2tdLnNwbGljZSgtaS0xLDAsdmFsdWUpXHJcblx0XHRcdFx0XHR9ZWxzZSBpZihpPGN1cnJba10ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0Y3VycltrXVtpXSA9IHZhbHVlXHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0Y3VycltrXS5wdXNoKHZhbHVlKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Y3VycltrXSA9IHZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRjdXJyW2tdID0gW3ZhbHVlXVxyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0Y3VycltrXSA9IHZhbHVlXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfbXVsdGlfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGV8c3RyaW5nfEFycmF5PFRGaWxlfHN0cmluZz4sa3Y6e1trZXk6c3RyaW5nXTphbnl9LG5yZXRyeT10aGlzLm5yZXRyeSk6UHJvbWlzZTxib29sZWFuPntcclxuXHRcdGlmKEFycmF5LmlzQXJyYXkodGZpbGUpKXtcclxuXHRcdFx0Zm9yKGxldCBpdGVtIG9mIHRmaWxlKXtcclxuXHRcdFx0XHR0aGlzLnNldF9tdWx0aV9mcm9udG1hdHRlcihpdGVtLGt2LG5yZXRyeSlcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKT09J3N0cmluZycpe1xyXG5cdFx0XHR0ZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZSh0ZmlsZSlcclxuXHRcdH1cclxuXHRcdGlmKCF0ZmlsZSB8fCAhKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpKXtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblx0XHRsZXQgZmxhZz0gZmFsc2VcclxuXHRcdGlmKG5yZXRyeT4xKXtcclxuXHRcdFx0ZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0fVxyXG5cdFx0d2hpbGUoIWZsYWcgJiYgbnJldHJ5PjApe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIodGZpbGUsIChmbSkgPT57XHJcblx0XHRcdFx0Zm9yKGxldCBrIGluIGt2KXtcclxuXHRcdFx0XHRcdHRoaXMuX3NldF8oZm0sayxrdltrXSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRhd2FpdCBzbGVlcCgxMDApO1xyXG5cdFx0XHRucmV0cnkgPSBucmV0cnktMTtcclxuXHRcdFx0ZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZsYWc7XHJcblx0fVxyXG5cclxuXHRnZXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa2V5OnN0cmluZyl7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZighdGZpbGUpe3JldHVybiBudWxsO31cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0XHRpZihtZXRhLmZyb250bWF0dGVyW2tleV0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1ldGEuZnJvbnRtYXR0ZXJba2V5XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQga2V5cyA9IGtleS5zcGxpdCgnLicpXHJcblx0XHRcdFx0bGV0IGNmbSA9IG1ldGEuZnJvbnRtYXR0ZXJcclxuXHRcdFx0XHRmb3IobGV0IGsgb2Yga2V5cyl7XHJcblx0XHRcdFx0XHRsZXQgaXRlbXMgPWsubWF0Y2goL14oLio/KShcXFstP1xcZCtcXF0pPyQvKVxyXG5cdFx0XHRcdFx0aWYoIWl0ZW1zKXtyZXR1cm4gbnVsbH1cclxuXHRcdFx0XHRcdGlmKGl0ZW1zWzFdKXtcclxuXHRcdFx0XHRcdFx0Y2ZtID0gY2ZtW2l0ZW1zWzFdXVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoIWNmbSl7cmV0dXJuIG51bGx9XHJcblx0XHRcdFx0XHRpZihBcnJheS5pc0FycmF5KGNmbSkgJiYgaXRlbXNbMl0pe1xyXG5cdFx0XHRcdFx0XHRsZXQgaSA9IHBhcnNlSW50KGl0ZW1zWzJdLnNsaWNlKDEsaXRlbXNbMl0ubGVuZ3RoLTEpKVxyXG5cdFx0XHRcdFx0XHRpZihpPDApe1xyXG5cdFx0XHRcdFx0XHRcdGkgPSBpK2NmbS5sZW5ndGhcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjZm0gPSBjZm1baV1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGNmbVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF92YXVsdF9uYW1lKCl7XHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aC5zcGxpdCgnXFxcXCcpXHJcblx0XHRpdGVtcyA9IGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXS5zcGxpdCgnLycpXHJcblx0XHRyZXR1cm4gaXRlbXNbaXRlbXMubGVuZ3RoLTFdXHJcblx0fVxyXG5cclxuXHRnZXRfZnJvbnRtYXR0ZXJfY29uZmlnKHRmaWxlOlRBYnN0cmFjdEZpbGUsa2V5OnN0cmluZyl7XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0aWYodGZpbGUuZXh0ZW5zaW9uPT0nbWQnKXtcclxuXHRcdFx0XHRsZXQgY29uZmlnID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5KVxyXG5cdFx0XHRcdGlmKGNvbmZpZyl7cmV0dXJuIGNvbmZpZ31cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bGV0IGZpbGUgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfdGZpbGUoXHJcblx0XHRcdFx0XHR0ZmlsZS5wYXRoLnNsaWNlKDAsdGZpbGUucGF0aC5sZW5ndGgtdGZpbGUuZXh0ZW5zaW9uLmxlbmd0aCkrJ21kJ1xyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRpZihmaWxlKXtcclxuXHRcdFx0XHRcdGxldCBjb25maWcgPSB0aGlzLmdldF9mcm9udG1hdHRlcihmaWxlLGtleSlcclxuXHRcdFx0XHRcdGlmKGNvbmZpZyl7cmV0dXJuIGNvbmZpZ31cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0bGV0IGZpbGUgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfdGZpbGUodGZpbGUucGF0aCsnLycrdGZpbGUubmFtZSsnLm1kJylcclxuXHRcdFx0aWYoZmlsZSl7XHJcblx0XHRcdFx0bGV0IGNvbmZpZyA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKGZpbGUsa2V5KVxyXG5cdFx0XHRcdGlmKGNvbmZpZyl7cmV0dXJuIGNvbmZpZ31cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgZGlyID0gdGZpbGUucGFyZW50XHJcblx0XHR3aGlsZShkaXIpe1xyXG5cdFx0XHRsZXQgY2ZpbGU7XHJcblx0XHRcdGlmKGRpci5wYXJlbnQpe1xyXG5cdFx0XHRcdGNmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKFxyXG5cdFx0XHRcdFx0ZGlyLnBhdGgrJy8nK2Rpci5uYW1lKycubWQnXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRjZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZShcclxuXHRcdFx0XHRcdHRoaXMuZ2V0X3ZhdWx0X25hbWUoKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgY29uZmlnID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIoY2ZpbGUsa2V5KVxyXG5cdFx0XHRpZihjb25maWcpe3JldHVybiBjb25maWd9XHJcblx0XHRcdGRpciA9IGRpci5wYXJlbnRcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsXHJcblxyXG5cdH1cclxuXHRyZWdleHBfbGluayh0ZmlsZTpURmlsZSxtb2RlOnN0cmluZyl7XHJcblx0XHQvL1tbbm90ZXx8YWxpYXNdXVxyXG5cdFx0aWYobW9kZT09PSdsaW5rJyl7XHJcblx0XHRcdHJldHVybiBuZXcgUmVnRXhwKGBcXFxcW1xcXFxbJHt0ZmlsZS5iYXNlbmFtZX1cXFxcfD8uKlxcXFxdXFxcXF1gLCdnJyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vcGFyYWdyYXBoXHJcblx0XHRpZihtb2RlPT09J3BhcmEnKXtcclxuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAoYC4qXFxcXFtcXFxcWyR7dGZpbGUuYmFzZW5hbWV9XFxcXHw/LipcXFxcXVxcXFxdLipgLCdnJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyByZXBsYWNlKHRmaWxlOlRGaWxlLHJlZ2V4OmFueSx0YXJnZXQ6c3RyaW5nKXtcclxuXHRcdGlmKHR5cGVvZiByZWdleCA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5wcm9jZXNzKHRmaWxlLChkYXRhKT0+e1xyXG5cdFx0XHRcdGlmKGRhdGEuaW5kZXhPZihyZWdleCk+LTEpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9ZWxzZSBpZihyZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5tYXRjaChyZWdleCkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyByZW1vdmVfbWV0YWRhdGEodGZpbGU6VEZpbGV8c3RyaW5nKXtcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHR0ZmlsZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZih0ZmlsZSkhPSdzdHJpbmcnKXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGhlYWRlclJlZ2V4ID0gL14tLS1cXHMqKFtcXHNcXFNdKj8pXFxzKi0tLS9cclxuXHRcdGxldCBtYXRjaCA9IGhlYWRlclJlZ2V4LmV4ZWModGZpbGUpO1xyXG5cdFx0aWYobWF0Y2gpe1xyXG5cdFx0XHR0ZmlsZSA9IHRmaWxlLnNsaWNlKG1hdGNoWzBdLmxlbmd0aCkudHJpbSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRmaWxlO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXh0cmFjdF9jb2RlX2Jsb2NrKHRmaWxlOlRGaWxlfHN0cmluZyxidHlwZTpzdHJpbmcpe1xyXG5cclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHR0ZmlsZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZih0ZmlsZSkhPSdzdHJpbmcnKXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblx0XHRsZXQgY3NzQ29kZUJsb2NrcyA9IFtdO1xyXG5cdFx0bGV0IHJlZyA9IG5ldyBSZWdFeHAoYFxcYFxcYFxcYCR7YnR5cGV9XFxcXG4oW1xcXFxzXFxcXFNdKj8pXFxuXFxgXFxgXFxgYCwnZycpOztcclxuXHRcdGxldCBtYXRjaGVzO1xyXG5cdFx0d2hpbGUgKChtYXRjaGVzID0gcmVnLmV4ZWModGZpbGUpKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRjc3NDb2RlQmxvY2tzLnB1c2gobWF0Y2hlc1sxXS50cmltKCkpOyAvLyBFeHRyYWN0IHRoZSBDU1MgY29kZSB3aXRob3V0IGJhY2t0aWNrc1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNzc0NvZGVCbG9ja3M7XHJcblx0fVxyXG5cclxuXHRhc3luYyBleHRyYWN0X3RlbXBsYXRlcl9ibG9jayh0ZmlsZTpURmlsZXxzdHJpbmcscmVnPS88JVxcKlxccyooW1xcc1xcU10qPylcXHMqLT8lPi9nKXtcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHR0ZmlsZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZih0ZmlsZSkhPSdzdHJpbmcnKXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGNzc0NvZGVCbG9ja3MgPSBbXTtcclxuXHRcdGxldCBtYXRjaGVzO1xyXG5cdFx0d2hpbGUgKChtYXRjaGVzID0gcmVnLmV4ZWModGZpbGUpKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRjc3NDb2RlQmxvY2tzLnB1c2gobWF0Y2hlc1swXS50cmltKCkpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgdHBscyA9IGF3YWl0IHRoaXMuZXh0cmFjdF9jb2RlX2Jsb2NrKHRmaWxlLCdqcyAvL3RlbXBsYXRlcicpO1xyXG5cdFx0Zm9yKGxldCB0cGwgb2YgdHBscyl7XHJcblx0XHRcdGNzc0NvZGVCbG9ja3MucHVzaChgPCUqXFxuJHt0cGx9XFxuLSU+YClcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY3NzQ29kZUJsb2NrcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4dHJhY3RfeWFtbF9ibG9jayh0ZmlsZTpURmlsZXxzdHJpbmcpe1xyXG5cdFx0XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0dGZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpIT0nc3RyaW5nJyl7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBoZWFkZXJSZWdleCA9IC9eLS0tXFxzKihbXFxzXFxTXSo/KVxccyotLS0vXHJcblx0XHRsZXQgbWF0Y2ggPSBoZWFkZXJSZWdleC5leGVjKHRmaWxlKTtcclxuICAgICAgICBpZihtYXRjaCl7XHJcblx0XHRcdHJldHVybiBtYXRjaFswXVxyXG4gICAgICAgIH1cclxuXHRcdHJldHVybiAnJ1xyXG5cdH1cclxuXHJcblx0X2V4dHJhY3RfYmxvY2tfaWRfKHBhcmE6c3RyaW5nKXtcclxuXHRcdGxldCByZWcgPSAvXFxzK1xcXlthLXpBLVowLTldK1xccj9cXG4/JC9cclxuXHRcdGxldCBtYXRjaCA9IHJlZy5leGVjKHBhcmEpXHJcblx0XHRpZihtYXRjaCl7XHJcblx0XHRcdHJldHVybiBtYXRjaFswXS50cmltKClcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9nZW5lcmF0ZV9yYW5kb21fc3RyaW5nXyhsZW5ndGg6bnVtYmVyKSB7XHJcblx0XHRsZXQgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcblx0XHRsZXQgcmVzdWx0ID0gJyc7XHJcblx0XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKTtcclxuXHRcdFx0cmVzdWx0ICs9IGNoYXJhY3RlcnNbcmFuZG9tSW5kZXhdO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4dHJhY3RfYWxsX2Jsb2Nrcyh0ZmlsZTpURmlsZXxzdHJpbmcpe1xyXG5cdFx0XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0dGZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpIT0nc3RyaW5nJyl7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBjdHggPSB0ZmlsZTtcclxuXHRcdGxldCBibG9ja3MgPSBbXTtcclxuXHJcblx0XHRsZXQgaGVhZCA9IGF3YWl0IHRoaXMucGx1Z2luLmVkaXRvci5leHRyYWN0X3lhbWxfYmxvY2soY3R4KTtcclxuXHRcdGlmKGhlYWQhPScnKXtcclxuXHRcdFx0YmxvY2tzLnB1c2goWydZQU1MJyxoZWFkXSlcclxuXHRcdFx0Y3R4PWN0eC5zbGljZShoZWFkLmxlbmd0aClcclxuXHRcdH1cclxuXHJcblx0XHRsZXQga3ZnZXRzOntba2V5OnN0cmluZ106YW55fSA9IHtcclxuXHRcdFx0J1x1N0E3QVx1NzY3RFx1NkJCNVx1ODQzRCc6L14oXFxzKlxcbikqLyxcclxuXHRcdFx0J1x1NEVFM1x1NzgwMVx1NTc1Nyc6IC9eWyBcXHRdKmBgYFtcXHNcXFNdKj9cXG5bIFxcdF0qYGBgWyBcXHRdKlxcbihcXHMqXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J3RwbFx1NEVFM1x1NzgwMVx1NTc1Nyc6L148JVxcKltcXHNcXFNdKj9cXG4tP1xcKj8lPlsgXFx0XSpcXG4oXFxzK1xcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTRFRkJcdTUyQTEnOiAvXlsgXFx0XSotIFxcWy5cXF0uKlxcbj8oXFxzK1xcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTY1RTBcdTVFOEZcdTUyMTdcdTg4NjgnOiAvXlsgXFx0XSotIC4qXFxuPyhcXHMrXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NjcwOVx1NUU4Rlx1NTIxN1x1ODg2OCc6IC9eWyBcXHRdKlxcZFxcLiAuKlxcbj8oXFxzK1sgXFx0XSpcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU1RjE1XHU3NTI4JzogL14oPi4qXFxuKSsoXFxzKlxcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTY4MDdcdTk4OTgnOiAvXiMrIC4qXFxuKFxccypcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU2QkI1XHU4NDNEJzogL14oLipcXG4/KShcXHMqXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/L1xyXG5cdFx0fVxyXG5cdFx0d2hpbGUoY3R4Lmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IGZsYWcgPSB0cnVlXHJcblx0XHRcdGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKGt2Z2V0cykpe1xyXG5cdFx0XHRcdGxldCByZWcgPSBrdmdldHNba2V5XTtcclxuXHRcdFx0XHRsZXQgbWF0Y2ggPSByZWcuZXhlYyhjdHgpO1xyXG5cdFx0XHRcdGlmKG1hdGNoKXtcclxuXHRcdFx0XHRcdGxldCBjdXJyID0gbWF0Y2hbMF07XHJcblx0XHRcdFx0XHRpZihjdXJyLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRcdFx0bGV0IGJpZCA9IHRoaXMuX2V4dHJhY3RfYmxvY2tfaWRfKGN1cnIpXHJcblx0XHRcdFx0XHRcdGlmKGtleT09J1x1NkJCNVx1ODQzRCcgJiYgYmxvY2tzLmxlbmd0aD4wICYmIGJsb2Nrc1tibG9ja3MubGVuZ3RoLTFdWzBdPT0nXHU2QkI1XHU4NDNEJyl7XHJcblx0XHRcdFx0XHRcdFx0YmxvY2tzW2Jsb2Nrcy5sZW5ndGgtMV1bMV0gPSBibG9ja3NbYmxvY2tzLmxlbmd0aC0xXVsxXStjdXJyXHJcblx0XHRcdFx0XHRcdFx0YmxvY2tzW2Jsb2Nrcy5sZW5ndGgtMV1bMl0gPSBiaWRcclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0YmxvY2tzLnB1c2goW2tleSxjdXJyLGJpZF0pXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZmxhZyA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdGN0eD1jdHguc2xpY2UoY3Vyci5sZW5ndGgpXHJcblx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGZsYWcpe1xyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZihjdHgubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgYmlkID0gdGhpcy5fZXh0cmFjdF9ibG9ja19pZF8oY3R4KVxyXG5cdFx0XHRibG9ja3MucHVzaChbJ1x1NkJCNVx1ODQzRCcsY3R4LGJpZF0pXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYmxvY2tzXHJcblx0fVxyXG5cclxuXHRhc3luYyBhcHBlbmRfYmxvY2tfaWRzKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBibG9ja3MgPSBhd2FpdCB0aGlzLmV4dHJhY3RfYWxsX2Jsb2Nrcyh0ZmlsZSk7XHJcblx0XHRsZXQgaXRlbXMgPSBbXVxyXG5cdFx0Zm9yKGxldCBibG9jayBvZiBibG9ja3Mpe1xyXG5cdFx0XHRpZihbJ1x1N0E3QVx1NzY3RFx1NkJCNVx1ODQzRCcsJ1lBTUwnXS5jb250YWlucyhibG9ja1swXSkpe1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0pXHJcblx0XHRcdH1lbHNlIGlmKCFibG9ja1syXSl7XHJcblx0XHRcdFx0bGV0IGJpZCA9IHRoaXMuX2dlbmVyYXRlX3JhbmRvbV9zdHJpbmdfKDYpXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoWydcdTRFRkJcdTUyQTEnLCdcdTY1RTBcdTVFOEZcdTUyMTdcdTg4NjgnLCdcdTY3MDlcdTVFOEZcdTUyMTdcdTg4NjgnXS5jb250YWlucyhibG9ja1swXSkpe1xyXG5cdFx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXS5zbGljZSgwLC0xKSsnIF4nK2JpZCsnXFxuJylcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGlmKGJsb2NrWzFdLmVuZHNXaXRoKCdcXG4nKSl7XHJcblx0XHRcdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0rJ14nK2JpZCsnXFxuJylcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKydcXG5eJytiaWQrJ1xcbicpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgcmVzID0gaXRlbXMuam9pbignJylcclxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeSh0ZmlsZSxyZXMpXHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVtb3ZlX2Jsb2NrX2lkcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgYmxvY2tzID0gYXdhaXQgdGhpcy5leHRyYWN0X2FsbF9ibG9ja3ModGZpbGUpO1xyXG5cdFx0bGV0IGl0ZW1zID0gW11cclxuXHRcdGZvcihsZXQgYmxvY2sgb2YgYmxvY2tzKXtcclxuXHRcdFx0aWYoWydcdTdBN0FcdTc2N0RcdTZCQjVcdTg0M0QnLCdZQU1MJ10uY29udGFpbnMoYmxvY2tbMF0pKXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRsZXQgcmVnID0gL1xccytcXF5bYS16QS1aMC05XStcXHI/XFxuPyQvXHJcblx0XHRcdFx0bGV0IG1hdGNoID0gcmVnLmV4ZWMoYmxvY2tbMV0pXHJcblx0XHRcdFx0aWYobWF0Y2gpe1xyXG5cdFx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXS5yZXBsYWNlKHJlZywnXFxuJykpXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGl0ZW1zLmpvaW4oJycpXHJcblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkodGZpbGUscmVzKVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldF9jdXJyZW50X3NlY3Rpb24oKXtcclxuXHRcdGxldCB2aWV3ID0gKHRoaXMuYXBwLndvcmtzcGFjZSBhcyBhbnkpLmdldEFjdGl2ZUZpbGVWaWV3KClcclxuXHRcdGxldCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcclxuXHRcdGxldCB0ZmlsZSA9IHZpZXcuZmlsZTtcclxuXHRcdGlmKCF2aWV3IHx8ICFlZGl0b3IgfHwgIXRmaWxlKXtyZXR1cm4gbnVsbH1cclxuXHRcdGxldCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XHJcblx0XHRsZXQgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSlcclxuXHRcdGlmKCFjYWNoZSl7cmV0dXJufVxyXG5cdFx0aWYoIWN1cnNvcil7XHJcblx0XHRcdGxldCBjdHggPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdFx0bGV0IGl0ZW1zID0gY2FjaGU/LnNlY3Rpb25zPy5tYXAoXHJcblx0XHRcdFx0c2VjdGlvbj0+Y3R4LnNsaWNlKHNlY3Rpb24ucG9zaXRpb24uc3RhcnQub2Zmc2V0LHNlY3Rpb24ucG9zaXRpb24uZW5kLm9mZnNldClcclxuXHRcdFx0KVxyXG5cdFx0XHRpZighaXRlbXMpe3JldHVybiBudWxsfVxyXG5cdFx0XHRsZXQgc2VjdGlvbiA9IGF3YWl0IHRoaXMucGx1Z2luLmRpYWxvZ19zdWdnZXN0KGl0ZW1zLGNhY2hlLnNlY3Rpb25zKVxyXG5cdFx0XHRyZXR1cm4gc2VjdGlvblxyXG5cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgc2VjdGlvbnMgPSBjYWNoZT8uc2VjdGlvbnM/LmZpbHRlcihcclxuXHRcdFx0XHR4PT57cmV0dXJuIHgucG9zaXRpb24uc3RhcnQubGluZTw9Y3Vyc29yLmxpbmUgJiYgeC5wb3NpdGlvbi5lbmQubGluZT49Y3Vyc29yLmxpbmV9XHJcblx0XHRcdClbMF1cclxuXHRcdFx0cmV0dXJuIHNlY3Rpb25zXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShzcmM6VEZpbGUsZHN0OlRGaWxlLGZpZWxkOnN0cmluZyl7XHJcblx0XHRpZihmaWVsZCl7XHJcblx0XHRcdGxldCB2YWx1ZSA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKHNyYyxmaWVsZClcclxuXHRcdFx0aWYodmFsdWUpe1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2V0X2Zyb250bWF0dGVyKGRzdCxmaWVsZCx2YWx1ZSwxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4iLCAiXHJcbmltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxtb21lbnQsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05DRWRpdG9yfSBmcm9tICcuL05DRWRpdG9yJztcclxuaW1wb3J0IHtnZXRfdHBfZnVuY30gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7Tm90ZUNvbnRlbnRNb2RhbCxOb3RlRWRpdG9yTW9kYWx9IGZyb20gJy4vTkNNb2RhbCdcclxuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJy4vc3RyaW5ncyc7XHJcbmltcG9ydCB7IG9mZiB9IGZyb20gJ3Byb2Nlc3MnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZUNoYWlue1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRwcmV2OnN0cmluZztcclxuXHRuZXh0OnN0cmluZztcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblx0Y2hpbGRyZW46e1trZXk6c3RyaW5nXTphbnl9O1xyXG5cdE5vdGVFZGl0b3JNb2RhbDphbnlcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbixlZGl0b3I6TkNFZGl0b3IscHJldj1cIlByZXZOb3RlXCIsbmV4dD1cIk5leHROb3RlXCIpIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0aWYoZWRpdG9yKXtcclxuXHRcdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5lZGl0b3IgPSBuZXcgTkNFZGl0b3IocGx1Z2luKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0dGhpcy5Ob3RlRWRpdG9yTW9kYWwgPSBOb3RlRWRpdG9yTW9kYWxcclxuXHRcdFxyXG5cdFx0dGhpcy5wcmV2ID0gcHJldjtcclxuXHRcdHRoaXMubmV4dCA9IG5leHQ7XHJcblx0XHR0aGlzLmluaXRfY2hpbGRyZW4oKTtcclxuXHR9XHJcblxyXG5cclxuXHJcbiAgICBhc3luYyBvcGVuX25vdGVfaW5fbW9kYWwobm90ZVBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlID0gdGhpcy5nZXRfdGZpbGUobm90ZVBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTm90ZUNvbnRlbnRNb2RhbCh0aGlzLmFwcCwgY29udGVudCwgdGhpcy5wbHVnaW4pO1xyXG5cdFx0XHRcdG1vZGFsLm9wZW4oKTtcclxuXHRcdFx0XHRyZXR1cm4gbW9kYWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0XHRcdFx0bGV0IG1vZGFsID0gbmV3IE5vdGVDb250ZW50TW9kYWwodGhpcy5hcHAsIG5vdGVQYXRoLCB0aGlzLnBsdWdpbik7XHJcblx0XHRcdFx0bW9kYWwub3BlbigpO1xyXG5cdFx0XHRcdHJldHVybiBtb2RhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIG9wZW5pbmcgbm90ZSBpbiBtb2RhbDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblx0aW5pdF9jaGlsZHJlbigpe1xyXG5cdFx0dGhpcy5jaGlsZHJlbiA9IHt9O1xyXG5cdFx0Zm9yKGxldCBmIG9mIHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCkpe1xyXG5cdFx0XHRsZXQgdGZpbGVzID0gZi5jaGlsZHJlbjtcclxuXHRcdFx0aWYodGhpcy5wbHVnaW4uZXhwbG9yZXI/LmZpbGVfZXhwbG9yZXIpe1xyXG5cdFx0XHRcdHRmaWxlcyAgPSB0aGlzLnNvcnRfdGZpbGVzKFxyXG5cdFx0XHRcdFx0dGZpbGVzLFxyXG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5zb3J0T3JkZXJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdCh0aGlzLmNoaWxkcmVuIGFzIGFueSlbZi5wYXRoXSA9IHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0cmVmcmVzaF9mb2xkZXIodGZvbGRlcjpURm9sZGVyKXtcclxuXHRcdGlmKHRmb2xkZXI/LmNoaWxkcmVuKXtcclxuXHRcdFx0bGV0IHRmaWxlcyAgPSB0Zm9sZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHRpZih0aGlzLnBsdWdpbi5leHBsb3Jlci5maWxlX2V4cGxvcmVyKXtcclxuXHRcdFx0XHR0ZmlsZXMgID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0XHRcdHRmaWxlcyBhcyBhbnksXHJcblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnNvcnRPcmRlclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5jaGlsZHJlblt0Zm9sZGVyLnBhdGhdID0gdGhpcy5zb3J0X3RmaWxlc19ieV9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZXNcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlZnJlc2hfdGZpbGUodGZpbGU6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRpZih0ZmlsZS5wYXJlbnQ/LmNoaWxkcmVuKXtcclxuXHRcdFx0dGhpcy5yZWZyZXNoX2ZvbGRlcih0ZmlsZS5wYXJlbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IHRwX2ZpbmRfdGZpbGUoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuZmlsZS5maW5kX3RmaWxlJyk7XHJcblx0fVxyXG5cclxuXHRnZXQgdHBfc3VnZ2VzdGVyKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLnN5c3RlbS5zdWdnZXN0ZXInKTtcclxuXHR9XHJcblxyXG5cdGdldCB0cF9wcm9tcHQoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuc3lzdGVtLnByb21wdCcpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF9mb2xkZXJzKCl7XHJcblx0XHRsZXQgZm9sZGVycyA9ICh0aGlzLmFwcC52YXVsdCBhcyBhbnkpLmdldEFsbEZvbGRlcnMoKTtcclxuXHRcdGxldCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRGb2xkZXJCeVBhdGgoJy8nKTtcclxuXHRcdGlmKGZvbGRlciYmICFmb2xkZXJzLmNvbnRhaW5zKGZvbGRlcikpe1xyXG5cdFx0XHRmb2xkZXJzLnB1c2goZm9sZGVyKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmb2xkZXJzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF90ZmlsZXMoc29ydF9tb2RlPScnKXtcclxuXHRcdGxldCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdGlmKCEoc29ydF9tb2RlPT09JycpKXtcclxuXHRcdFx0dGhpcy5zb3J0X3RmaWxlcyhmaWxlcyxzb3J0X21vZGU9c29ydF9tb2RlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnM6QXJyYXk8VEZvbGRlcj4scmV2ZXJzZT10cnVlKXtcclxuXHRcdGZ1bmN0aW9uIHVmdW5jKGY6VEZvbGRlcil7XHJcblx0XHRcdHJldHVybiBNYXRoLm1heChcclxuXHRcdFx0XHQuLi5mLmNoaWxkcmVuLmZpbHRlcigoZjpURmlsZSk9PmYuYmFzZW5hbWUpLm1hcCgoZjpURmlsZSk9PmYuc3RhdFxyXG5cdFx0XHRcdC5tdGltZSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGZvbGRlcnMuc29ydCgoYSxiKT0+dWZ1bmMoYSktdWZ1bmMoYikpO1xyXG5cdFx0aWYocmV2ZXJzZSl7XHJcblx0XHRcdHJlcyA9IHJlcy5yZXZlcnNlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY21kX21vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcih0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZm9sZGVycyA9IHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCk7XHJcblx0XHRmb2xkZXJzID0gdGhpcy5zb3J0X2ZvbGRlcnNfYnlfbXRpbWUoZm9sZGVyc1xyXG5cdFx0KS5maWx0ZXIoZj0+ZiE9dGZpbGUucGFyZW50KTtcclxuXHJcblx0XHRpZih0ZmlsZS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0Zm9sZGVycyA9IGZvbGRlcnMuZmlsdGVyKChmOlRGaWxlKT0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGZvbGRlciA9IGF3YWl0IHRoaXMucGx1Z2luLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnV0aWxzLmFycmF5X3ByZWZpeF9pZChcclxuXHRcdFx0XHRcdGZvbGRlcnMubWFwKChmOlRGaWxlKT0+Zi5wYXRoKVxyXG5cdFx0XHRcdCksZm9sZGVyc1xyXG5cdFx0XHQpO1xyXG5cdFx0XHQvLyBcdTc5RkJcdTUyQThcdTdCMTRcdThCQjBcclxuXHRcdFx0bGV0IGRzdCA9IGZvbGRlci5wYXRoK1wiL1wiK3RmaWxlLmJhc2VuYW1lK1wiLlwiK3RmaWxlLmV4dGVuc2lvbjtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZSh0ZmlsZSxkc3QpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZpbHRlcl91c2VyX2lnbm9yZShub3RlOlRGaWxlKXtcclxuXHRcdGlmKCEoKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoPT09Jy4vJykpe1xyXG5cdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aChcclxuXHRcdFx0XHQodGhpcy5hcHAudmF1bHQgYXMgYW55KS5jb25maWcuYXR0YWNobWVudEZvbGRlclBhdGgpXHJcblx0XHRcdCl7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZigodGhpcy5hcHAudmF1bHQgYXMgYW55KS51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdGZvcihsZXQgeCBvZiAodGhpcy5hcHAudmF1bHQgYXMgYW55KS51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdFx0aWYobm90ZS5wYXRoLnN0YXJ0c1dpdGgoeCkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfbm90ZShub3RlcyA6IG51bGwgfCBBcnJheTxURmlsZT4gPSBudWxsLHNsaWNlPTApe1xyXG5cdFx0Ly8gXHU0RUNFXHU1RTkzXHU0RTJEXHU5MDA5XHU2MkU5XHU0RTAwXHU0RTJBXHU3QjE0XHU4QkIwXHJcblx0XHRpZihub3Rlcz09bnVsbCl7XHJcblx0XHRcdG5vdGVzID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpLFxyXG5cdFx0XHRcdFsnbXRpbWUnLCd4J11cclxuXHRcdFx0KS5maWx0ZXIoKGY6VEZpbGUpPT50aGlzLmZpbHRlcl91c2VyX2lnbm9yZShmKSk7XHJcblx0XHR9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbXNnID0gdGhpcy5wbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKChub3RlcyBhcyBhbnkpLm1hcCgoZjpURmlsZSk9PmYucGF0aC5zbGljZShzbGljZSkpKTtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5kaWFsb2dfc3VnZ2VzdChtc2csbm90ZXMpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9ub3RlKHRmaWxlOlRGaWxlLG5ld190YWI9ZmFsc2UscmV2ZWFsRm9sZGVyPWZhbHNlLGNvbGxhcHNlPXRydWUpe1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdFx0aWYobmV3X3RhYiB8fCAhdmlldyB8fCAhdmlldy5sZWFmKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNlIGlmKCh2aWV3LmxlYWYgYXMgYW55KS5waW5uZWQpe1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmlldy5sZWFmLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYocmV2ZWFsRm9sZGVyKXtcclxuXHRcdFx0XHRpZihjb2xsYXBzZSl7XHJcblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnRyZWUuc2V0Q29sbGFwc2VBbGwodHJ1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCh0aGlzLnBsdWdpbi5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkucmV2ZWFsSW5Gb2xkZXIodGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfb3Blbl9ub3RlKCl7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdGdldF90ZmlsZShwYXRoOnN0cmluZyxvbmx5X2ZpcnN0PXRydWUpe1xyXG5cdFx0dHJ5e1xyXG5cdFx0XHRwYXRoID0gcGF0aC5zcGxpdCgnfCcpWzBdLnJlcGxhY2UoJ1tbJywnJykucmVwbGFjZSgnXV0nLCcnKTtcclxuXHRcdFx0bGV0IHRmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoKVxyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgdGZpbGVzID0gKHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55KS51bmlxdWVGaWxlTG9va3VwLmdldChwYXRoLnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0XHRpZighdGZpbGVzKXtcclxuXHRcdFx0XHR0ZmlsZXMgPSAodGhpcy5hcHAubWV0YWRhdGFDYWNoZSBhcyBhbnkpLnVuaXF1ZUZpbGVMb29rdXAuZ2V0KHBhdGgudG9Mb3dlckNhc2UoKSsnLm1kJyk7XHJcblx0XHRcdFx0aWYoIXRmaWxlcyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHBhdGggPSBwYXRoKycubWQnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgY3RmaWxlcyA9IHRmaWxlcy5maWx0ZXIoKHg6VEZpbGUpPT54Lm5hbWU9PXBhdGgpXHJcblx0XHRcdGlmKGN0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRcdGlmKG9ubHlfZmlyc3Qpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGN0ZmlsZXNbMF1cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiBjdGZpbGVzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZih0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRcdGlmKG9ubHlfZmlyc3Qpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRmaWxlc1swXVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRmaWxlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1jYXRjaHtcclxuXHRcdFx0cmV0dXJuIG51bGxcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF90YWdzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJuIFtdfVxyXG5cdFx0bGV0IG1jYWNoZT0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0bGV0IHRhZ3M6QXJyYXk8c3RyaW5nPiA9IFtdXHJcblx0XHRpZihtY2FjaGU/LnRhZ3Mpe1xyXG5cdFx0XHRmb3IobGV0IGN1cnIgb2YgbWNhY2hlLnRhZ3Mpe1xyXG5cdFx0XHRcdGlmKCF0YWdzLmNvbnRhaW5zKGN1cnIudGFnKSl7XHJcblx0XHRcdFx0XHR0YWdzLnB1c2goY3Vyci50YWcpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihtY2FjaGU/LmZyb250bWF0dGVyPy50YWdzKXtcclxuXHRcdFx0aWYoQXJyYXkuaXNBcnJheShtY2FjaGUuZnJvbnRtYXR0ZXIudGFncykpe1xyXG5cdFx0XHRcdGZvcihsZXQgY3VyciBvZiBtY2FjaGUuZnJvbnRtYXR0ZXIudGFncyl7XHJcblx0XHRcdFx0XHRsZXQgdGFnID0gJyMnK2N1cnI7XHJcblx0XHRcdFx0XHRpZighdGFncy5jb250YWlucyh0YWcpKXtcclxuXHRcdFx0XHRcdFx0dGFncy5wdXNoKHRhZylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNlIGlmKHR5cGVvZiBtY2FjaGUuZnJvbnRtYXR0ZXIudGFncyA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRcdGxldCB0YWcgPSBgI2ArbWNhY2hlLmZyb250bWF0dGVyLnRhZ3NcclxuXHRcdFx0XHRpZighdGFncy5jb250YWlucyh0YWcpKXtcclxuXHRcdFx0XHRcdHRhZ3MucHVzaCh0YWcpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRhZ3NcclxuXHR9XHJcblxyXG5cdGdldF9yZWNlbnRfdGZpbGVzKG9ubHlfbWQ9dHJ1ZSk6QXJyYXk8VEZpbGU+e1xyXG5cdFx0bGV0IHJlY2VudCA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdyZWNlbnQtZmlsZXMtb2JzaWRpYW4nKTtcclxuXHRcdGlmKHJlY2VudCl7XHJcblx0XHRcdGxldCBmaWxlcyA9IHJlY2VudC5kYXRhLnJlY2VudEZpbGVzLm1hcChcclxuXHRcdFx0XHQoeDphbnkpPT50aGlzLmdldF90ZmlsZSh4LnBhdGgpXHJcblx0XHRcdCkuZmlsdGVyKCh4OmFueSk9PngpXHJcblx0XHRcdHJldHVybiBmaWxlc1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCByZWNlbnQgPSBbXVxyXG5cdFx0XHRsZXQgZmlsZXMgPSAodGhpcy5hcHAud29ya3NwYWNlIGFzIGFueSkucmVjZW50RmlsZVRyYWNrZXI/Lmxhc3RPcGVuRmlsZXNcclxuXHRcdFx0aWYoZmlsZXMgICYmIGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZWNlbnQgPSBmaWxlcy5tYXAoKHg6c3RyaW5nKT0+dGhpcy5nZXRfdGZpbGUoeCkpLmZpbHRlcigoeDpURmlsZSk9PngpXHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHRmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmVjZW50LnVuc2hpZnQodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYob25seV9tZCl7XHJcblx0XHRcdFx0cmVjZW50ID0gcmVjZW50LmZpbHRlcigoeDpURmlsZSk9PnguZXh0ZW5zaW9uPT0nbWQnKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZWNlbnRcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9sYXN0X2RhaWx5X25vdGUocmVjZW50X2ZpcnN0PXRydWUpe1xyXG5cdFx0bGV0IHBhdHRlcm49L15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvO1xyXG5cclxuXHRcdGlmKHJlY2VudF9maXJzdCl7XHJcblx0XHRcdGxldCByZWNlbnQgPSB0aGlzLmdldF9yZWNlbnRfdGZpbGVzKClcclxuXHRcdFx0Zm9yKGxldCB0ZmlsZSBvZiByZWNlbnQpe1xyXG5cdFx0XHRcdGlmKHRmaWxlLmJhc2VuYW1lLm1hdGNoKHBhdHRlcm4pKXtcclxuXHRcdFx0XHRcdHJldHVybiB0ZmlsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IHQgPSBtb21lbnQoKVxyXG5cdFx0Zm9yKGxldCBpPTA7aTwyMDtpKyspe1xyXG5cdFx0XHRsZXQgeHQgPSB0LmNsb25lKCkuYWRkKC1pLCdkYXlzJylcclxuXHRcdFx0Ly8gXHU1RTkzXHU0RTJEXHU2MjQwXHU2NzA5XHU2NTg3XHU0RUY2XHJcblx0XHRcdGxldCBmbmFtZSA9IHh0LmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShmbmFtZSk7XHJcblx0XHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLmZpbHRlcihcclxuXHRcdFx0KHg6VEZpbGUpPT54LmJhc2VuYW1lLm1hdGNoKHBhdHRlcm4pXHJcblx0XHQpO1xyXG5cdFx0ZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzKGZpbGVzLCduYW1lJyk7XHJcblx0XHRpZihmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdHJldHVybiBmaWxlc1tmaWxlcy5sZW5ndGgtMV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGdldF9uZWlnaGJvcl9sZWFmKG9mZnNldD0xKXtcclxuXHRcdGxldCBhcHAgPSB0aGlzLnBsdWdpbi5hcHBcclxuXHRcdGxldCBsZWF2ZXMgPSBhcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbWFya2Rvd24nKTtcclxuXHRcdGxldCBhY3RpdmVMZWFmID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRpZihhY3RpdmVMZWFmKXtcclxuXHRcdFx0bGV0IGlkeCA9IGxlYXZlcy5tYXAoeD0+eC52aWV3PT1hY3RpdmVMZWFmKS5pbmRleE9mKHRydWUpO1xyXG5cdFx0XHRpZHggPSBpZHgrb2Zmc2V0O1xyXG5cdFx0XHRpZihpZHg8MCB8fCBpZHg+bGVhdmVzLmxlbmd0aC0xKXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbGVhdmVzW2lkeF07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKHNraXBfY29ub3RlPXRydWUpe1xyXG5cdFx0bGV0IGxlYXZlczpBcnJheTxhbnk+ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbWFya2Rvd24nKTtcclxuXHRcdGxlYXZlcyA9IGxlYXZlcy5maWx0ZXIoeD0+eC5nZXRWaWV3U3RhdGUoKS5zdGF0ZS5maWxlKTtcclxuXHRcdGxlYXZlcyA9IGxlYXZlcy5zb3J0KChhLGIpPT5iLmFjdGl2ZVRpbWUgLSBhLmFjdGl2ZVRpbWUpO1xyXG5cclxuXHRcdGZvcihsZXQgbGVhZiBvZiBsZWF2ZXMpe1xyXG5cdFx0XHRsZXQgZmlsZSA9IGxlYWYuZ2V0Vmlld1N0YXRlKCkuc3RhdGUuZmlsZTtcclxuXHRcdFx0aWYoc2tpcF9jb25vdGUgJiYgdGhpcy5nZXRfdGFncyhmaWxlKS5jb250YWlucygnI2Nvbm90ZScpKXtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbGVhZjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbGVhZiA9IG51bGw7XHJcblx0XHRmb3IobGV0IGkgb2YgWzEsLTEsMF0pe1xyXG5cdFx0XHRsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X25laWdoYm9yX2xlYWYoaSk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHJldHVybiBsZWFmO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGdldCBjdXJyZW50X25vdGUoKTpURmlsZXxudWxse1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0fVxyXG5cclxuXHRnZXRfc2VsZWN0ZWRfZmlsZXMoY3VycmVudF9pZl9ub19zZWxlY3RlZD10cnVlKXtcclxuXHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHQgIFwiLnRyZWUtaXRlbS1zZWxmLmlzLXNlbGVjdGVkXCJcclxuXHRcdCk7XHJcblx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KSA9PiB7XHJcblx0XHQgIHZhciBfYTtcclxuXHRcdCAgcmV0dXJuIChfYSA9IHguZGF0YXNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhdGg7XHJcblx0XHR9KTtcclxuXHRcdGxldCB0ZmlsZXMgPSBpdGVtcy5tYXAoXHJcblx0XHRcdCh4KSA9PiB0aGlzLmdldF90ZmlsZSh4KSkuZmlsdGVyKCh4KSA9PiB4LmV4dGVuc2lvbiA9PSBcIm1kXCJcclxuXHRcdClcclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdHJldHVybiB0ZmlsZXNcclxuXHRcdH1lbHNlIGlmKGN1cnJlbnRfaWZfbm9fc2VsZWN0ZWQgJiYgdGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRyZXR1cm4gW3RoaXMuY3VycmVudF9ub3RlXVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2lubGlua3ModGZpbGU9dGhpcy5jdXJyZW50X25vdGUsb25seV9tZD10cnVlKTpBcnJheTxURmlsZT57XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW11cclxuXHJcblx0XHRsZXQgaW5saW5rcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkuZ2V0QmFja2xpbmtzRm9yRmlsZSh0ZmlsZSk7XHJcblx0XHRmb3IobGV0IFtrLHZdIG9mIGlubGlua3MuZGF0YSl7XHJcblx0XHRcdGxldCBjdXJyID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChrKTtcclxuXHRcdFx0aWYoY3Vycil7XHJcblx0XHRcdFx0cmVzLnB1c2goY3VycilcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9vdXRsaW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxvbmx5X21kPXRydWUpOkFycmF5PFRGaWxlPntcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCBtY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRpZighbWNhY2hlKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW107XHJcblx0XHRpZihtY2FjaGUubGlua3Mpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0Zm9yKGxldCBsaW5rIG9mIG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKCFvbmx5X21kICYmIG1jYWNoZS5lbWJlZHMpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmVtYmVkcyl7XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUobGluay5saW5rKTtcclxuXHRcdFx0XHRpZih0ZmlsZSAmJiAhcmVzLmNvbnRhaW5zKHRmaWxlKSl7XHJcblx0XHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2xpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLG9ubHlfbWQ9dHJ1ZSl7XHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZ2V0X2lubGlua3ModGZpbGUsb25seV9tZCk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSxvbmx5X21kKTtcclxuXHRcdGZvcihsZXQgbGluayBvZiBpbmxpbmtzKXtcclxuXHRcdFx0aWYoIW91dGxpbmtzLmNvbnRhaW5zKGxpbmspKXtcclxuXHRcdFx0XHRvdXRsaW5rcy5wdXNoKGxpbmspXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBvdXRsaW5rcztcclxuXHR9XHJcblxyXG5cdGdldF9ncm91cF9pbmxpbmtzKHRmaWxlczpBcnJheTxURmlsZT4sbGV2ZWw9MSl7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHR3aGlsZShsZXZlbCE9MCl7XHJcblx0XHRcdGxldCBjdXJyID0gaXRlbXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHRcdGZvcihsZXQgYyBvZiBjdXJyKXtcclxuXHRcdFx0XHRsZXQgbGlua3MgPSB0aGlzLmdldF9pbmxpbmtzKGMsdHJ1ZSk7XHJcblx0XHRcdFx0Zm9yKGxldCBsaW5rIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRcdGlmKCFpdGVtcy5jb250YWlucyhsaW5rKSl7XHJcblx0XHRcdFx0XHRcdGl0ZW1zLnB1c2gobGluaylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoY3Vyci5sZW5ndGg9PWl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV2ZWwgPSBsZXZlbC0xO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1zO1xyXG5cdH1cclxuXHJcblx0Z2V0X2dyb3VwX291dGxpbmtzKHRmaWxlczpBcnJheTxURmlsZT4sbGV2ZWw9MSl7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHR3aGlsZShsZXZlbCE9MCl7XHJcblx0XHRcdGxldCBjdXJyID0gaXRlbXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHRcdGZvcihsZXQgYyBvZiBjdXJyKXtcclxuXHRcdFx0XHRsZXQgbGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyhjLHRydWUpO1xyXG5cdFx0XHRcdGZvcihsZXQgbGluayBvZiBsaW5rcyl7XHJcblx0XHRcdFx0XHRpZighaXRlbXMuY29udGFpbnMobGluaykpe1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5wdXNoKGxpbmspXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGN1cnIubGVuZ3RoPT1pdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldmVsID0gbGV2ZWwtMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9XHJcblxyXG5cdGdldF9ncm91cF9saW5rcyh0ZmlsZXM6QXJyYXk8VEZpbGU+LGxldmVsPTEpe1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0d2hpbGUobGV2ZWwhPTApe1xyXG5cdFx0XHRsZXQgY3VyciA9IGl0ZW1zLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0XHRmb3IobGV0IGMgb2YgY3Vycil7XHJcblx0XHRcdFx0bGV0IGxpbmtzID0gdGhpcy5nZXRfbGlua3MoYyx0cnVlKTtcclxuXHRcdFx0XHRmb3IobGV0IGxpbmsgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdFx0aWYoIWl0ZW1zLmNvbnRhaW5zKGxpbmspKXtcclxuXHRcdFx0XHRcdFx0aXRlbXMucHVzaChsaW5rKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihjdXJyLmxlbmd0aD09aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXZlbCA9IGxldmVsLTE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxuXHRnZXRfYnJvdGhlcnModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYodGZpbGUmJnRmaWxlLnBhcmVudCl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKHRmaWxlLnBhcmVudCxmYWxzZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRnZXRfdW5jbGVzKHRmaWxlOlRGaWxlKXtcclxuXHRcdGlmKHRmaWxlICYmIHRmaWxlLnBhcmVudCAmJiB0ZmlsZS5wYXJlbnQucGFyZW50KXtcclxuXHRcdFx0bGV0IGZvbGRlciA9IHRmaWxlLnBhcmVudC5wYXJlbnQ7XHJcblx0XHRcdHJldHVybiBmb2xkZXIuY2hpbGRyZW4uZmlsdGVyKFxyXG5cdFx0XHRcdCh4OlRBYnN0cmFjdEZpbGUpPT54IGluc3RhbmNlb2YgVEZpbGVcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtdXHJcblx0fVxyXG5cclxuXHRnZXRfdGZpbGVzX29mX2ZvbGRlcih0Zm9sZGVyOlRGb2xkZXJ8bnVsbCx3aXRoX2NoaWxkcmVuPWZhbHNlKTphbnl7XHJcblx0XHRpZih0Zm9sZGVyPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0bGV0IG5vdGVzID0gW107XHJcblx0XHRmb3IobGV0IGMgb2YgdGZvbGRlci5jaGlsZHJlbil7XHJcblx0XHRcdGlmKGMgaW5zdGFuY2VvZiBURmlsZSAmJiBjLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdG5vdGVzLnB1c2goYyk7XHJcblx0XHRcdH1lbHNlIGlmKGMgaW5zdGFuY2VvZiBURm9sZGVyICYmIHdpdGhfY2hpbGRyZW4pe1xyXG5cdFx0XHRcdGxldCB0bXAgPSB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGMpO1xyXG5cdFx0XHRcdGZvcihsZXQgeCBvZiB0bXApe1xyXG5cdFx0XHRcdFx0bm90ZXMucHVzaCh4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBub3RlcztcclxuXHJcblx0fVxyXG5cclxuXHRpbmRleE9mRm9sZGVyKHRmaWxlOlRGb2xkZXIsdGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgZm5vdGUgPSB0aGlzLmdldF90ZmlsZSh0ZmlsZS5uYW1lKycubWQnKTtcclxuXHRcdGlmKCFmbm90ZSl7cmV0dXJuIC0xO31cclxuXHRcdGxldCBtc2cgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRmbm90ZSxcIkZvbGRlclByZXZOb3RlXCJcclxuXHRcdCk7XHJcblx0XHRpZighbXNnfHx0eXBlb2YobXNnKSE9J3N0cmluZycpe3JldHVybiAtMTt9XHJcblx0XHRsZXQgYW5jaG9yID0gdGhpcy5nZXRfdGZpbGUobXNnKVxyXG5cdFx0aWYoIWFuY2hvcil7cmV0dXJuIC0xO31cclxuXHRcdGxldCBpZHggPSB0ZmlsZXMuaW5kZXhPZihhbmNob3IpO1xyXG5cdFx0bGV0IG9mZnNldCA9IHRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdGZub3RlLFwiRm9sZGVyUHJldk5vdGVPZmZzZXRcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRpZih0eXBlb2Yob2Zmc2V0KT09J3N0cmluZycpe1xyXG5cdFx0XHRpZHggPSBpZHggKyBwYXJzZUZsb2F0KG9mZnNldCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWR4ID0gaWR4ICsgMC41O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlkeDtcclxuXHR9XHJcblxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0aWYodGZpbGUucGFyZW50PT1jdXJyPy5wYXJlbnQpe1xyXG5cdFx0XHRtc2cgPSB0ZmlsZS5iYXNlbmFtZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtc2cgPSB0ZmlsZS5wYXRoO1xyXG5cdFx0fVxyXG5cdFx0aWYodGZpbGU9PXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdFx0cmV0dXJuIGBcdUQ4M0NcdURGRTAgJHttc2d9YFxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBtc2c7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxjdXJyX2ZpcnN0PWZhbHNlLHNtb2RlPScnKXtcclxuXHRcdGlmKHRmaWxlKXt0ZmlsZT09dGhpcy5jdXJyZW50X25vdGU7fVxyXG5cdFx0bGV0IGt2ID0gW1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fZ2V0X2Jyb3RoZXJzLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fbm90ZWNoYWluLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fdW5jbGVfbm90ZXMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9zYW1lX2ZvbGRlcixcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlua3Nfb3V0bGlua3MsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9pbmxpbnMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9vdXRsaW5rcyxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2FsbF9ub2VzLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fcmVjZW50LFxyXG5cdFx0XVxyXG5cdFx0XHJcblx0XHRpZihjdXJyX2ZpcnN0KXtcclxuXHRcdFx0a3YudW5zaGlmdCh0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fY3VycmVudG5vdGUpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0a3YucHVzaCh0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fY3VycmVudG5vdGUpXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1vZGUgPSAnJztcclxuXHRcdGlmKGt2LmNvbnRhaW5zKHNtb2RlKSl7XHJcblx0XHRcdG1vZGUgPSBzbW9kZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtb2RlID0gYXdhaXQgdGhpcy5wbHVnaW4uZGlhbG9nX3N1Z2dlc3QodGhpcy5wbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKGt2KSxrdik7XHJcblx0XHR9XHJcblx0XHRpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2N1cnJlbnRub3RlKXtcclxuXHRcdFx0cmV0dXJuIFt0ZmlsZV07XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2dldF9icm90aGVycyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3NhbWVfZm9sZGVyKXtcclxuXHRcdFx0aWYodGZpbGU/LnBhcmVudCl7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIodGZpbGUucGFyZW50LHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlua3Nfb3V0bGlua3Mpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfbGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9pbmxpbnMpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX291dGxpbmtzKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X291dGxpbmtzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fYWxsX25vZXMpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfYWxsX3RmaWxlcygpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9yZWNlbnQpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfcmVjZW50X3RmaWxlcygpXHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3VuY2xlX25vdGVzKXtcclxuXHRcdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF91bmNsZXModGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX25vdGVjaGFpbil7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHQvLyBDaGFpblxyXG5cdGdldF9wcmV2X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm47fVxyXG5cdFx0aWYoKHRmaWxlIGFzIGFueSkuZGVsZXRlZCl7XHJcblx0XHRcdGxldCB0ZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZmlsZXMgPSB0ZmlsZXMuZmlsdGVyKGY9PntcclxuXHRcdFx0XHRpZighZil7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IG5leHQgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZix0aGlzLm5leHQpXHJcblx0XHRcdFx0aWYodHlwZW9mKG5leHQpIT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gPT0gbmV4dFxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0aWYodGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGVzWzBdO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMucHJldik7XHJcblx0XHRcdGlmKCFuYW1lfHx0eXBlb2YobmFtZSkhPSdzdHJpbmcnKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdHJldHVybiBub3RlP25vdGU6bnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fcHJldl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk7XHJcblx0XHR0aGlzLm9wZW5fbm90ZShub3RlKTtcclxuXHR9XHJcblxyXG5cdGdldF9uZXh0X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRpZigodGZpbGUgYXMgYW55KS5kZWxldGVkKXtcclxuXHRcdFx0bGV0IHRmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdFx0bGV0IHByZXYgPSBcclxuXHRcdFx0dGZpbGVzID0gdGZpbGVzLmZpbHRlcihmPT57XHJcblx0XHRcdFx0aWYoIWYpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCBwcmV2ID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGYsdGhpcy5wcmV2KVxyXG5cdFx0XHRcdGlmKHR5cGVvZihwcmV2KSE9J3N0cmluZycpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBgW1ske3RmaWxlLmJhc2VuYW1lfV1dYD09IHByZXZcclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlc1swXTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgbmFtZSA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLm5leHQpO1xyXG5cdFx0XHRpZighbmFtZXx8dHlwZW9mKG5hbWUpIT0nc3RyaW5nJyl7cmV0dXJuIG51bGw7fVxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3RmaWxlKG5hbWUpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZT9ub3RlOm51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuX25leHRfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpO1xyXG5cdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfY2hhaW4odGZpbGU9dGhpcy5jdXJyZW50X25vdGUscHJldj0xMCxuZXh0PTEwLHdpdGhfc2VsZj10cnVlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih3aXRoX3NlbGYpe1xyXG5cdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcdFxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0bXApO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy51bnNoaWZ0KG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcclxuXHRcdHRtcCA9IHRmaWxlO1xyXG5cdFx0Zm9yKGxldCBpPW5leHQ7aSE9MDtpLS0pe1xyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X25leHRfbm90ZSh0bXApO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfZmlyc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwtMSwwLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzWzBdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xhc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwwLC0xLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzW25vdGVzLmxlbmd0aC0xXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9uZWlnaGJvcnModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0dGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKSxcclxuXHRcdFx0dGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKSxcclxuXHRcdF1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3NldF9wcmV2KHRmaWxlOlRGaWxlLHByZXY6VEZpbGV8bnVsbCl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCB8fCB0ZmlsZT09cHJldil7cmV0dXJuO31cclxuXHRcdGlmKHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk9PXByZXYpe3JldHVybjt9XHJcblx0XHRsZXQgbXNnID0gYE5vdGUgQ2hhaW46ICR7cHJldj8uYmFzZW5hbWV9IC0tPiBcdUQ4M0NcdURGRTAke3RmaWxlLmJhc2VuYW1lfWA7XHJcblx0XHRpZihwcmV2PT1udWxsICl7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLnByZXYsbnVsbFxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLnByZXYsYFtbJHtwcmV2LmJhc2VuYW1lfV1dYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X25leHQodGZpbGU6VEZpbGUsbmV4dDpURmlsZXxudWxsKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsIHx8IHRmaWxlPT1uZXh0KXtyZXR1cm47fVxyXG5cdFx0aWYodGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKT09bmV4dCl7cmV0dXJuO31cclxuXHRcdGxldCBtc2cgPSBgTm90ZSBDaGFpbjogXHVEODNDXHVERkUwJHt0ZmlsZT8uYmFzZW5hbWV9IDwtLSAke25leHQ/LmJhc2VuYW1lfWA7XHJcblx0XHRpZihuZXh0PT1udWxsICl7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLm5leHQsbnVsbFxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLm5leHQsYFtbJHtuZXh0LmJhc2VuYW1lfV1dYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X3ByZXZfbmV4dCh0ZmlsZTpURmlsZSxwcmV2OlRGaWxlLG5leHQ6VEZpbGUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwgfHwgcHJldj09bmV4dHx8dGZpbGU9PXByZXZ8fHRmaWxlPT1uZXh0KXtyZXR1cm47fVxyXG5cclxuXHRcdGlmKHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk9PXByZXYpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9uZXh0KHRmaWxlLG5leHQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKT09bmV4dCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGUscHJldik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbXNnID0gYE5vdGUgQ2hhaW46ICR7cHJldj8uYmFzZW5hbWV9IC0tPiBcdUQ4M0NcdURGRTAke3RmaWxlPy5iYXNlbmFtZX0gPC0tICR7bmV4dD8uYmFzZW5hbWV9YDtcclxuXHRcdGxldCBmbTp7W2tleTpzdHJpbmddOmFueX0gPSB7fTtcclxuXHRcdGZtW3RoaXMucHJldl0gPSBwcmV2P2BbWyR7cHJldi5iYXNlbmFtZX1dXWA6bnVsbDtcclxuXHRcdGZtW3RoaXMubmV4dF0gPSBuZXh0P2BbWyR7bmV4dC5iYXNlbmFtZX1dXWA6bnVsbDtcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLmVkaXRvci5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIodGZpbGUsZm0pO1xyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fbGlua19wcmV2X25leHQocHJldjpURmlsZSxuZXh0OlRGaWxlKXtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYobmV4dCxwcmV2KTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X25leHQocHJldixuZXh0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHQvLyBcdTZFMDVcdTk2NjRcdTgxRUFcdTk1RURcdTczQUZcclxuXHRcdGxldCBwcmV2ID0gdGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlc1swXSk7XHJcblx0XHRpZih0ZmlsZXMuY29udGFpbnMocHJldikpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2KHRmaWxlc1swXSxudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTZFMDVcdTk2NjRcdTgxRUFcdTk1RURcdTczQUZcclxuXHRcdGxldCBuZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlc1t0ZmlsZXMubGVuZ3RoLTFdKTtcclxuXHRcdGlmKHRmaWxlcy5jb250YWlucyhuZXh0KSl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X25leHQodGZpbGVzW3RmaWxlcy5sZW5ndGgtMV0sbnVsbCk7XHJcblx0XHR9XHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPD0xKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bGV0IE4gPSB0ZmlsZXMubGVuZ3RoO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dCh0ZmlsZXNbMF0sdGZpbGVzWzFdKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGVzW04tMV0sdGZpbGVzW04tMl0pO1xyXG5cdFx0Zm9yKGxldCBpPTE7aTx0ZmlsZXMubGVuZ3RoLTE7aSsrKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHRmaWxlc1tpXSx0ZmlsZXNbaS0xXSx0ZmlsZXNbaSsxXSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3BvcF9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfcHJldl9uZXh0KG5vdGVzWzBdLG5vdGVzWzFdKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FzX2hlYWQodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBoZWFkID0gdGhpcy5nZXRfZmlyc3Rfbm90ZShhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9saW5rX3ByZXZfbmV4dCh0ZmlsZSxoZWFkKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FzX3RhaWwodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCB0YWlsID0gdGhpcy5nZXRfbGFzdF9ub3RlKGFuY2hvcik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfcHJldl9uZXh0KHRhaWwsdGZpbGUpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBhbmNob3JfbmV4dCA9IHRoaXMuZ2V0X25leHRfbm90ZShhbmNob3IpO1xyXG5cdFx0aWYoYW5jaG9yX25leHQ9PXRmaWxlKXtyZXR1cm47fVxyXG5cclxuXHRcdGxldCB0ZmlsZV9uZWlnaGJvciA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRpZih0ZmlsZV9uZWlnaGJvclsxXT09YW5jaG9yKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKFxyXG5cdFx0XHRcdFt0ZmlsZV9uZWlnaGJvclswXSxhbmNob3IsdGZpbGUsYW5jaG9yX25leHRdXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9wb3Bfbm9kZSh0ZmlsZSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhbYW5jaG9yLHRmaWxlLGFuY2hvcl9uZXh0XSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBhbmNob3JfcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZShhbmNob3IpO1xyXG5cdFx0aWYoYW5jaG9yX3ByZXY9PXRmaWxlKXtyZXR1cm47fVxyXG5cdFx0bGV0IHRmaWxlX25laWdoYm9yID0gdGhpcy5nZXRfbmVpZ2hib3JzKHRmaWxlKTtcclxuXHRcdGlmKHRmaWxlX25laWdoYm9yWzBdPT1hbmNob3Ipe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX2NvbmNhdF90ZmlsZXMoXHJcblx0XHRcdFx0W2FuY2hvcl9wcmV2LHRmaWxlLGFuY2hvcix0ZmlsZV9uZWlnaGJvclsxXV1cclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3BvcF9ub2RlKHRmaWxlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKFthbmNob3JfcHJldix0ZmlsZSxhbmNob3JdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGlmKCF0ZmlsZS5wYXJlbnQgfHwgdGZpbGUucGFyZW50LnBhcmVudCE9YW5jaG9yLnBhcmVudCl7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUodGZpbGUucGFyZW50Lm5hbWUpO1xyXG5cdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRhd2FpdCB0aGlzLnBsdWdpbi5lZGl0b3Iuc2V0X211bHRpX2Zyb250bWF0dGVyKFxyXG5cdFx0XHRub3RlLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJGb2xkZXJQcmV2Tm90ZVwiOmBbWyR7YW5jaG9yLmJhc2VuYW1lfV1dYCxcclxuXHRcdFx0XHRcIkZvbGRlclByZXZOb3RlT2Zmc2V0XCI6MC41LFxyXG5cdFx0ICAgIH1cclxuXHRcdClcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD09MCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZmlsZXMgPSBhd2FpdCB0aGlzLnN1Z2dlc3Rlcl9zb3J0KG5vdGVzKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhmaWxlcyk7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlcyhmaWxlczpBcnJheTxURmlsZT4sZmllbGQ6YW55KTphbnl7XHJcblx0XHRpZih0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0aWYoZmllbGQ9PT0nbmFtZScgfHwgZmllbGQ9PT0nYWxwaGFiZXRpY2FsJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nbXRpbWUnfHwgZmllbGQ9PT0nYnlNb2RpZmllZFRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Py5tdGltZS1iLnN0YXQ/Lm10aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nY3RpbWUnIHx8IGZpZWxkPT09J2J5Q3JlYXRlZFRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Py5jdGltZS1iLnN0YXQ/LmN0aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nYWxwaGFiZXRpY2FsUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2J5TW9kaWZpZWRUaW1lUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLnN0YXQ/Lm10aW1lLWIuc3RhdD8ubXRpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdieUNyZWF0ZWRUaW1lUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLnN0YXQ/LmN0aW1lLWIuc3RhdD8uY3RpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdjaGFpbicpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmlsZXM7XHJcblx0XHR9ZWxzZSBpZih0eXBlb2YgZmllbGQgPT09ICdvYmplY3QnKXtcclxuXHRcdFx0aWYoZmllbGQgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0bGV0IG5maWxlcyA9IHRoaXMuc29ydF90ZmlsZXMoZmlsZXMsZmllbGRbMF0pO1xyXG5cdFx0XHRcdGlmKGZpZWxkLmxlbmd0aD49Mil7XHJcblx0XHRcdFx0XHRpZihmaWVsZFsxXT09PSd4Jyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZmlsZXMucmV2ZXJzZSgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBuZmlsZXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzOkFycmF5PFRBYnN0cmFjdEZpbGU+KXtcclxuXHRcdGxldCBub3RlcyA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGaWxlKTtcclxuXHRcdGxldCByZXM6VEFic3RyYWN0RmlsZVtdID0gW107XHJcblx0XHRsZXQgY3RmaWxlczpURmlsZVtdID0gW107XHJcblx0XHR3aGlsZShub3Rlcy5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBub3RlID0gbm90ZXNbMF07XHJcblx0XHRcdGlmKG5vdGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdFx0bGV0IHhjaGFpbiA9IHRoaXMuZ2V0X2NoYWluKG5vdGUsLTEsLTEpO1xyXG5cdFx0XHRcdGZvcihsZXQgeCBvZiB4Y2hhaW4pe1xyXG5cdFx0XHRcdFx0aWYobm90ZXMuY29udGFpbnMoeCkpe1xyXG5cdFx0XHRcdFx0XHRjdGZpbGVzLnB1c2goeCk7XHJcblx0XHRcdFx0XHRcdG5vdGVzLnJlbW92ZSh4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXMucHVzaCguLi5jdGZpbGVzKTtcclxuXHRcdGxldCBjYW52YXMgPSByZXMuZmlsdGVyKGY9PihmIGluc3RhbmNlb2YgVEZpbGUpICYmKGYuZXh0ZW5zaW9uPT0nY2FudmFzJykpXHJcblx0XHRyZXMgPSByZXMuZmlsdGVyKGY9PihmIGluc3RhbmNlb2YgVEZpbGUpICYmKGYuZXh0ZW5zaW9uIT0nY2FudmFzJykpO1xyXG5cdFx0bGV0IGZvbGRlcnMgPSB0ZmlsZXMuZmlsdGVyKGY9PmYgaW5zdGFuY2VvZiBURm9sZGVyKTtcclxuXHRcdGlmKGZvbGRlcnMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgaWR4cyA9IGZvbGRlcnMubWFwKFxyXG5cdFx0XHRcdChmOlRGb2xkZXIpPT50aGlzLmluZGV4T2ZGb2xkZXIoZixjdGZpbGVzKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXMucHVzaCguLi5mb2xkZXJzKTtcclxuXHRcdFx0ZnVuY3Rpb24gaW5kZXhPZihmOlRBYnN0cmFjdEZpbGUpe1xyXG5cdFx0XHRcdGlmKGYgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmluZGV4T2YoZik7XHJcblx0XHRcdFx0fWVsc2UgaWYoZiBpbnN0YW5jZW9mIFRGb2xkZXIpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGlkeHNbZm9sZGVycy5pbmRleE9mKGYpXTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzID0gcmVzLnNvcnQoKGEsYik9PmluZGV4T2YoYSktaW5kZXhPZihiKSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgY2FudmFzKXtcclxuXHRcdFx0bGV0IHJuYW1lID0gcmVzLm1hcCh4PT54IGluc3RhbmNlb2YgVEZvbGRlcj94Lm5hbWU6ICh4IGFzIFRGaWxlKS5iYXNlbmFtZSk7XHJcblx0XHRcdGxldCBjbmFtZSA9ICh0ZmlsZSBhcyBURmlsZSkuYmFzZW5hbWU7XHJcblx0XHRcdGxldCBpZHggPSBybmFtZS5pbmRleE9mKGNuYW1lKTtcclxuXHRcdFx0aWYoaWR4PDApe1xyXG5cdFx0XHRcdGlkeCA9IHJuYW1lLmluZGV4T2YoY25hbWUuc3BsaXQoJy4nKS5zbGljZSgwLC0xKS5qb2luKCcuJykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGlkeDwwKXtcclxuXHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5zcGxpY2UoaWR4KzEsMCx0ZmlsZSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlc19mb2xkZXJfZmlyc3QodGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgQSA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGb2xkZXIpLnNvcnQoKGEsYik9PihhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKSk7XHJcblx0XHRsZXQgQiA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGaWxlKTtcclxuXHRcdHJldHVybiB0aGlzLnBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoW0EsQl0pO1xyXG5cdH1cclxuXHJcblx0c29ydF90ZmlsZXNfYnlfZmllbGQodGZpbGVzOkFycmF5PFRGaWxlPixmaWVsZDpzdHJpbmcpe1xyXG5cdFx0bGV0IHJlcyA9IHRmaWxlcy5zb3J0KFxyXG5cdFx0XHQoYSxiKT0+e1xyXG5cdFx0XHRcdGxldCBhdiA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihhLGZpZWxkKTtcclxuXHRcdFx0XHRsZXQgYnYgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoYixmaWVsZCk7XHJcblx0XHRcdFx0aWYodHlwZW9mKGF2KSE9dHlwZW9mKGJ2KSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gMFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZih0eXBlb2YoYXYpPT0nbnVtYmVyJyAmJiB0eXBlb2YoYnYpPT0nbnVtYmVyJyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gYXYgLSBidjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYodHlwZW9mKGF2KT09J3N0cmluZycgJiYgdHlwZW9mKGJ2KT09J3N0cmluZycpe1xyXG5cdFx0XHRcdFx0bGV0IHYgPSAoYXYgYXMgc3RyaW5nKS5sb2NhbGVDb21wYXJlKGJ2IGFzIHN0cmluZylcclxuXHRcdFx0XHRcdHJldHVybiB2XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAwXHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdnZXN0ZXJfc29ydCh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdGlmKCF0ZmlsZXMpe3JldHVybiBbXTt9XHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPT0wKXtyZXR1cm4gW119O1xyXG5cdFx0bGV0IGt2ID0ge1xyXG5cdFx0XHQnY2hhaW4nOidjaGFpbicsXHJcblx0XHRcdCduYW1lIChhIHRvIHopJzonbmFtZScsXHJcblx0XHRcdCdjdGltZSAob2xkIHRvIG5ldyknOidjdGltZScsXHJcblx0XHRcdCdtdGltZSAob2xkIHRvIG5ldyknOidtdGltZScsXHJcblx0XHRcdCduYW1lICh6IHRvIGEpJzpbJ25hbWUnLCd4J10sXHJcblx0XHRcdCdjdGltZSAobmV3IHRvIG9sZCknOlsnY3RpbWUnLCd4J10sXHJcblx0XHRcdCdtdGltZSAobmV3IHRvIG9sZCknOlsnbXRpbWUnLCd4J10sXHJcblx0XHR9XHJcblx0XHRsZXQgZmllbGQgPSBhd2FpdCB0aGlzLnBsdWdpbi5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0T2JqZWN0LmtleXMoa3YpLFxyXG5cdFx0XHRPYmplY3QudmFsdWVzKGt2KVxyXG5cdFx0KTtcclxuXHRcdGlmKGZpZWxkPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0aWYoZmllbGQ9PSdjaGFpbicpeyBcclxuXHRcdFx0dGZpbGVzID0gdGhpcy5zb3J0X3RmaWxlcyh0ZmlsZXMsJ25hbWUnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzKHRmaWxlcyxmaWVsZCk7XHJcblx0fVxyXG5cclxuXHR2aWV3X3NvcnRfYnlfY2hhaW4oKXtcclxuXHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcclxuXHRcdFx0XCJmaWxlLWV4cGxvcmVyXCJcclxuXHRcdClbMF0/LnZpZXcgYXMgYW55O1xyXG5cdFx0aWYoIXZpZXcpe3JldHVybjt9XHJcblx0XHR2aWV3LnNvcnQoKTtcclxuXHRcdGlmKHZpZXcucmVhZHkpe1xyXG5cdFx0XHRmb3IobGV0IHBhdGggaW4gdmlldy5maWxlSXRlbXMpe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gdmlldy5maWxlSXRlbXNbcGF0aF07XHJcblx0XHRcdFx0aWYoaXRlbS52Q2hpbGRyZW4pe1xyXG5cdFx0XHRcdFx0bGV0IGZpbGVzID0gaXRlbS52Q2hpbGRyZW4uX2NoaWxkcmVuLm1hcCgoZjphbnkpPT5mLmZpbGUpO1xyXG5cdFx0XHRcdFx0ZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0XHRcdGxldCBjaGlsZHJlbiA9IGl0ZW0udkNoaWxkcmVuLl9jaGlsZHJlbi5zb3J0KFxyXG5cdFx0XHRcdFx0XHQoYTphbnksYjphbnkpPT5maWxlcy5pbmRleE9mKGEuZmlsZSktZmlsZXMuaW5kZXhPZihiLmZpbGUpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRpdGVtLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihjaGlsZHJlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZpZXcudHJlZS5pbmZpbml0eVNjcm9sbC5jb21wdXRlKClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldF9maWxlX2xpbmtzKHRmaWxlOlRGaWxlLHhsaW5rcz10cnVlLGlubGlua3M9dHJ1ZSxvdXRsaW5rcz10cnVlLG9ubHltZD1mYWxzZSl7XHJcblx0XHRsZXQgaXRlbXM6e1trZXk6c3RyaW5nXTphbnl9ID0ge31cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gaXRlbXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlbXNbJ1x1RDgzQ1x1REZFMCAnK3RmaWxlLmJhc2VuYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgodGZpbGUucGF0aClcclxuXHRcdGlmKHhsaW5rcyl7XHJcblx0XHRcdGxldCB0bXA7XHJcblx0XHRcdHRtcCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSwnZ2l0aHViJyk7XHJcblx0XHRcdGlmKHRtcCl7XHJcblx0XHRcdFx0aWYodG1wLmNvbnRhaW5zKCdnaXRodWIuY29tJykpe1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGdpdGh1YiddID0gdG1wO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGdpdGh1YiddID0gYGh0dHBzOi8vZ2l0aHViLmNvbS9gK3RtcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dG1wID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLCdodWdnaW5nZmFjZScpO1xyXG5cdFx0XHRpZih0bXApe1xyXG5cdFx0XHRcdGlmKHRtcC5jb250YWlucygnaHVnZ2luZ2ZhY2UuY28nKSl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERjEwaHVnZ2luZ2ZhY2VcdUQ4M0VcdUREMTcnXSA9IHRtcDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdUQ4M0NcdURGMTBodWdnaW5nZmFjZVx1RDgzRVx1REQxNyddID0gYGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vYCt0bXA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRtcCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSwnYXJ4aXYnKTtcclxuXHRcdFx0aWYodG1wPy5JRCl7XHJcblx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGFyeGl2J10gPSBgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzL2ArdG1wPy5JRDtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGxldCB0ZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSlcclxuXHRcdFx0Ly8gXHU1MzM5XHU5MTREXHU1OTE2XHU5MEU4XHU5NEZFXHU2M0E1XHJcblx0XHRcdGNvbnN0IHJlZ2V4ID0gL1xcW1teKFxcW1xcXSldKj9cXF1cXCguKj9cXCkvZztcclxuXHRcdFx0Y29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2gocmVnZXgpO1xyXG5cdFx0XHRpZiAobWF0Y2hlcykge1xyXG5cdFx0XHRcdGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xyXG5cdFx0XHRcdFx0Ly8gXHU2M0QwXHU1M0Q2XHU1MzM5XHU5MTREXHU3Njg0XHU3RUM0XHJcblx0XHRcdFx0XHRsZXQga2V5ID0gbWF0Y2guc2xpY2UoMSxtYXRjaC5pbmRleE9mKCddKCcpKTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IG1hdGNoLnNsaWNlKG1hdGNoLmluZGV4T2YoJ10oJykpLnNsaWNlKDIsLTEpO1xyXG5cdFx0XHRcdFx0aWYodmFsdWU9PT0nJyl7Y29udGludWU7fVxyXG5cdFx0XHRcdFx0aWYoa2V5PT09Jycpe1xyXG5cdFx0XHRcdFx0XHRrZXkgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmKHZhbHVlLnN0YXJ0c1dpdGgoJ2h0dHAnKSl7XHJcblx0XHRcdFx0XHRcdGtleT0nXHVEODNDXHVERjEwICcra2V5O1xyXG5cdFx0XHRcdFx0fWVsc2UgaWYodmFsdWUuc3RhcnRzV2l0aCgnZmlsZTovLy8nKSl7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc2xpY2UoOClcclxuXHRcdFx0XHRcdFx0a2V5PSAnXHVEODNEXHVEQ0MxICcgK2tleTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRrZXkgPSAnXHVEODNEXHVERDE3ICcra2V5O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aXRlbXNba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoaW5saW5rcyl7XHJcblx0ICAgICAgICBsZXQgbGlua3MgPSB0aGlzLmdldF9pbmxpbmtzKHRmaWxlLGZhbHNlKTtcclxuXHQgICAgICAgIGZvcihsZXQgaSBvZiBsaW5rcyl7XHJcblx0ICAgICAgICAgICAgaWYob25seW1kJiYgIShpLmV4dGVuc2lvbj09PSdtZCcpKXtjb250aW51ZTt9XHJcblx0XHRcdFx0aWYoaS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLmJhc2VuYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoaS5wYXRoKTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLm5hbWVdID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5nZXRGdWxsUGF0aChpLnBhdGgpO1xyXG5cdFx0XHRcdH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgICBpZihvdXRsaW5rcyl7XHJcblx0ICAgICAgICBsZXQgbGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSxmYWxzZSk7XHJcblx0ICAgICAgICBmb3IobGV0IGkgb2YgbGlua3Mpe1xyXG5cdCAgICAgICAgICAgIGlmKG9ubHltZCYmICEoaS5leHRlbnNpb249PT0nbWQnKSl7Y29udGludWU7fVxyXG5cdFx0XHRcdGlmKGkuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5iYXNlbmFtZV0gPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmdldEZ1bGxQYXRoKGkucGF0aCk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5uYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoaS5wYXRoKTtcclxuXHRcdFx0XHR9XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHRcdGl0ZW1zWydcdUQ4M0RcdURDOTIgdmF1bHQnXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoJy4nKTtcclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9XHJcblxyXG59IiwgIlxyXG5pbXBvcnQgeyBcclxuXHRBcHAsIE1vZGFsLCBOb3RpY2UsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcbiAgICBURmlsZVxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RlQ29udGVudE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gICAgY29udGVudDogc3RyaW5nO1xyXG4gICAgcGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGNvbnRlbnQ6IHN0cmluZywgcGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLm1vZGFsRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICB0aGlzLm1vZGFsRWwuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7IC8vIFx1NkRGQlx1NTJBMFx1NkVEQVx1NTJBOFx1Njc2MVxyXG5cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbm90ZS1jb250ZW50LWNvbnRhaW5lcicgfSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKCdtYXJrZG93bi1yZW5kZXJlZCcpO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLWNlbGwnO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7IC8vIFx1NkRGQlx1NTJBMFx1NEUwMFx1NEU5Qlx1NTE4NVx1OEZCOVx1OERERFxyXG5cclxuICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTRFMDBcdTRFMkFcdTRFMzRcdTY1RjZcdTc2ODQgQ29tcG9uZW50IFx1NUI5RVx1NEY4QlxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoKTtcclxuICAgICAgICBcclxuICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlcih0aGlzLmFwcCwgdGhpcy5jb250ZW50LCBjb250YWluZXIsICcnLCBjb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENsaWNrTGlzdGVuZXIoY29udGFpbmVyKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGxldCB7Y29udGVudEVsfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2xpY2tMaXN0ZW5lcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0EnICYmIHRhcmdldC5oYXNDbGFzcygnaW50ZXJuYWwtbGluaycpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhyZWYgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbk5vdGVJbk1haW5WaWV3KGhyZWYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb3Blbk5vdGVJbk1haW5WaWV3KGxpbmtUZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGxpbmtUZXh0LCAnJywgZmFsc2UsIHsgYWN0aXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShgRXJyb3Igb3BlbmluZyBub3RlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVFZGl0b3JNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIGZpbGVQYXRoOiBzdHJpbmc7IC8vIFx1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1NUM1RVx1NjAyN1xyXG4gICAgaXNFZGl0TW9kZTogYm9vbGVhbjsgLy8gXHU2REZCXHU1MkEwXHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU1QzVFXHU2MDI3XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGZpbGVQYXRoOiBzdHJpbmcsIGlzRWRpdE1vZGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgICAgdGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xyXG4gICAgICAgIHRoaXMuaXNFZGl0TW9kZSA9IGlzRWRpdE1vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgIC8vIFx1ODNCN1x1NTNENlx1NjU4N1x1NEVGNlx1NUJGOVx1OEM2MVxyXG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLmZpbGVQYXRoKSBhcyBURmlsZTtcclxuICAgICAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NjVCMFx1NzY4NFx1NURFNVx1NEY1Q1x1NTMzQVx1NTNGNlx1NUI1MFx1NUU3Nlx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlLCB7IHN0YXRlOiB7IG1vZGU6ICdzb3VyY2UnIH0gfSk7IC8vIFx1NEVFNVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFx1NTE3M1x1OTVFRFx1NUY1M1x1NTI0RFx1NkEyMVx1NjAwMVx1N0E5N1x1NTNFM1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRmlsZSBub3QgZm91bmQ6ICR7dGhpcy5maWxlUGF0aH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFx1NTE3Nlx1NEVENlx1NkEyMVx1NUYwRlx1NzY4NFx1NTkwNFx1NzQwNlx1OTAzQlx1OEY5MVxyXG4gICAgICAgICAgICBuZXcgTm90aWNlKCdOb3QgaW4gZWRpdCBtb2RlLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxtb21lbnQsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyLFxyXG5cdE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHRcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ3Byb2Nlc3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5DVGV4dGFyZWF7XHJcblx0eWFtbGpzID0gcmVxdWlyZSgnanMteWFtbCcpXHJcblx0cGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRhcHA6QXBwO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcigpXHJcblx0fVxyXG5cdFxyXG5cdGFycmF5QnVmZmVyVG9CYXNlNjQoYnVmZmVyOiBBcnJheUJ1ZmZlcikge1xyXG5cdFx0bGV0IGJpbmFyeSA9ICcnO1xyXG5cdFx0bGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuXHRcdGxldCBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KTtcclxuXHR9XHJcblx0YXN5bmMgcmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihmaWVsZD0ndGV4dGFyZWEnKXtcclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luXHJcblx0XHRuYy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKGZpZWxkLCBhc3luYyAoXHJcblx0XHRcdHNvdXJjZTogc3RyaW5nLCBcclxuXHRcdFx0ZWw6IEhUTUxFbGVtZW50LCBcclxuXHRcdFx0Y3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0XHJcblx0XHQpID0+IHtcclxuXHRcdFx0c291cmNlID0gc291cmNlLnRyaW0oKVxyXG5cdFx0XHRsZXQgY29uZmlnO1xyXG5cdFx0XHRpZihzb3VyY2U9PScnKXtcclxuXHRcdFx0XHRjb25maWcgPSB7fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRjb25maWcgPSBuYy50ZXh0YXJlYS55YW1sanMubG9hZChzb3VyY2UpO1xyXG5cdFx0XHR9XHJcblx0XHRcclxuXHRcdFx0bGV0IGNvbnRhaW5lciA9IGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiAndGV4dGFyZWEtY29udGFpbmVyJyB9KTtcclxuXHJcblx0XHRcdGxldCBhcmVhOmFueT1udWxsO1xyXG5cdFx0XHRpZihjb25maWdbJ3RleHRhcmVhJ10hPWZhbHNlKXtcclxuXHRcdFx0XHRsZXQgY2xzID0gJ2NvZGVfYmxvY2tfdGV4dGFyZWEnXHJcblx0XHRcdFx0aWYoY29uZmlnLnRleHRhcmVhPy5jbHMpe1xyXG5cdFx0XHRcdFx0Y2xzID0gY29uZmlnWyd0ZXh0YXJlYSddWydjbHMnXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhcmVhID0gY29udGFpbmVyLmNyZWF0ZUVsKFwidGV4dGFyZWFcIix7Y2xzOmNsc30pO1xyXG5cdFx0XHRcdGFyZWEuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuXHRcdFx0XHRhcmVhLnN0eWxlLmhlaWdodCA9ICcyMDBweCdcclxuXHRcdFx0XHRsZXQgc3R5bGUgPSBjb25maWcudGV4dGFyZWE/LnN0eWxlXHJcblx0XHRcdFx0aWYoc3R5bGUgJiYgdHlwZW9mKHN0eWxlKT09J29iamVjdCcpe1xyXG5cdFx0XHRcdFx0Zm9yKGxldCBuYW1lIGluIHN0eWxlKXtcclxuXHRcdFx0XHRcdFx0aWYobmFtZT09J2JhY2tncm91bmRJbWFnZScpe1xyXG5cdFx0XHRcdFx0XHRcdGxldCBpbWcgPSBuYy5jaGFpbi5nZXRfdGZpbGUoc3R5bGVbbmFtZV0pXHJcblx0XHRcdFx0XHRcdFx0aWYoaW1nKXtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBkYXRhID0gYXdhaXQgbmMuYXBwLnZhdWx0LnJlYWRCaW5hcnkoaW1nKVxyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHRleHQgPSB0aGlzLmFycmF5QnVmZmVyVG9CYXNlNjQoZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgYnM2NCA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHt0ZXh0fWA7XHJcblx0XHRcdFx0XHRcdFx0XHQoYXJlYSBhcyBhbnkpLnN0eWxlW25hbWVdID0gYHVybCgnJHticzY0fScpYFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0KGFyZWEgYXMgYW55KS5zdHlsZVtuYW1lXSA9IHN0eWxlW25hbWVdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IobGV0IGsgaW4gY29uZmlnKXtcclxuXHRcdFx0XHRpZihrLnN0YXJ0c1dpdGgoJ2J1dHRvbnMnKSl7XHJcblx0XHRcdFx0XHRsZXQgYnRucyA9IGNvbmZpZ1trXTtcclxuXHRcdFx0XHRcdGlmKGJ0bnMgJiYgQXJyYXkuaXNBcnJheShidG5zKSl7XHJcblx0XHRcdFx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NjMwOVx1OTRBRVx1NUJCOVx1NTY2OFxyXG5cdFx0XHRcdFx0XHRsZXQgYnV0dG9uQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiAnY29kZV9ibG9ja190ZXh0YXJlYV9idG5fY29udGFpbmVyJyB9KTtcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7IC8vIFx1OEJCRVx1N0Y2RVx1NjMwOVx1OTRBRVx1NUJCOVx1NTY2OFx1NEUzQWZsZXhcdTVFMDNcdTVDNDBcdUZGMENcdTRGN0ZcdTYzMDlcdTk0QUVcdTU3MjhcdTU0MENcdTRFMDBcdTg4NENcdTY2M0VcdTc5M0FcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2ZsZXgtc3RhcnQnOyAvLyBcdThCQkVcdTdGNkVcdTYzMDlcdTk0QUVcdTRFNEJcdTk1RjRcdTc2ODRcdTk1RjRcdThERERcdTU3NDdcdTUzMDBcdTUyMDZcdTVFMDNcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9ICcxMHB4J1xyXG5cdFx0XHRcdFx0XHRmb3IobGV0IGJ0biBvZiBidG5zKXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbmFtZSA9IGJ0blswXVxyXG5cdFx0XHRcdFx0XHRcdGxldCBmbmFtZSA9IGJ0blsxXVxyXG5cdFx0XHRcdFx0XHRcdGlmKCFuYW1lIHx8ICFmbmFtZSl7Y29udGludWV9XHJcblxyXG5cdFx0XHRcdFx0XHRcdGxldCBjbHMgPSAnY29kZV9ibG9ja190ZXh0YXJlYV9idG4nXHJcblx0XHRcdFx0XHRcdFx0aWYoYnRuWzJdKXtcclxuXHRcdFx0XHRcdFx0XHRcdGNscyA9IGJ0blsyXVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQvLyBcdTVFOTNcdTgxRUFcdTVFMjZcdTUxRkRcdTY1NzBcclxuXHRcdFx0XHRcdFx0XHRsZXQgdWZ1bmMgPSAobmMudGV4dGFyZWEgYXMgYW55KVtmbmFtZV07XHJcblx0XHRcdFx0XHRcdFx0aWYoIXVmdW5jKXtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGN1c3RvbUpTL3RlbXBsYXRlclx1NTFGRFx1NjU3MFxyXG5cdFx0XHRcdFx0XHRcdFx0dWZ1bmMgPSBhd2FpdCBuYy51dGlscy5nZXRfc3RyX2Z1bmMobmMuYXBwLGZuYW1lKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYodWZ1bmMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHhidG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogbmFtZSxjbHM6Y2xzfSk7XHJcblx0XHRcdFx0XHRcdFx0XHR4YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR1ZnVuYyhhcmVhLHNvdXJjZSxlbCxjdHgpXHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBcdTU0N0RcdTRFRTRcclxuXHRcdFx0XHRcdFx0XHRsZXQgYyA9IChuYy5hcHAgYXMgYW55KS5jb21tYW5kcz8uZmluZENvbW1hbmQoZm5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdGlmKGMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHhidG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogbmFtZSxjbHM6Y2xzfSk7XHJcblx0XHRcdFx0XHRcdFx0XHR4YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQobmMuYXBwIGFzIGFueSkuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKGZuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0bGV0IHRmaWxlID0gbmMuY2hhaW4uZ2V0X3RmaWxlKGZuYW1lKVxyXG5cdFx0XHRcdFx0XHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCB4YnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IG5hbWUsY2xzOmNsc30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0eGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmMudXRpbHMucGFyc2VfdGVtcGxhdGVyKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5jLmFwcCxmbmFtZSx0cnVlLHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZWE6YXJlYSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNvdXJjZTpzb3VyY2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbDplbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN0eDpjdHhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihhcmVhICYmIGNvbmZpZ1snZm9jdXMnXSE9ZmFsc2Upe1xyXG5cdFx0XHRcdGFyZWEuZm9jdXMoKVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGNsZWFyX2FyZWEoYXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkge1xyXG5cdFx0YXJlYS52YWx1ZSA9ICcnO1xyXG5cdH1cclxuXHJcblx0Y29weV9hcmVhKGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcclxuXHRcdGFyZWEuc2VsZWN0KCk7XHJcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChhcmVhLnZhbHVlKTtcclxuXHR9XHJcblxyXG5cdGxvZ19hcmVhKGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdcdTVGNTNcdTUyNERUZXh0YXJlYVx1NEUzQVx1RkYxQScpXHJcblx0XHRjb25zb2xlLmxvZyhhcmVhKVxyXG5cdH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsVEFic3RyYWN0RmlsZSxURmlsZSxURm9sZGVyLFZhdWx0LENhY2hlZE1ldGFkYXRhXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05vdGVDaGFpbn0gZnJvbSBcIi4vTm90ZUNoYWluXCI7XHJcbmltcG9ydCB7IHN5bWxpbmsgfSBmcm9tICdmcyc7XHJcblxyXG5cclxubGV0IGNoYWluX3NvcnQgPSBmdW5jdGlvbihvcmdfc29ydDpGdW5jdGlvbikge1xyXG5cdGxldCBwbHVnaW4gPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbiguLi5kOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHRpZihwbHVnaW4/LnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3Jlcil7XHJcblx0XHRcdFx0bGV0IGUgPSB0aGlzLmZpbGVcclxuXHRcdFx0XHQsIHQgPSB0aGlzLnZpZXdcclxuXHRcdFx0XHQsIGkgPSBlLmNoaWxkcmVuLnNsaWNlKCk7XHJcblx0XHRcdFx0aSA9IGkuZmlsdGVyKCh4OlRBYnN0cmFjdEZpbGUpPT54KTtcclxuXHRcdFx0XHRpZihpLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRcdGxldCBpdGVtcyA9IHBsdWdpbi5jaGFpbi5jaGlsZHJlbltpWzBdLnBhcmVudC5wYXRoXTtcclxuXHRcdFx0XHRcdGlmKGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0bGV0IGEgPSBpdGVtcy5maWx0ZXIoKHg6VEFic3RyYWN0RmlsZSk9PmkuY29udGFpbnMoeCkpO1xyXG5cdFx0XHRcdFx0XHRsZXQgYiA9IGl0ZW1zLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+IWkuY29udGFpbnMoeCkpO1xyXG5cdFx0XHRcdFx0XHRhLnB1c2goLi4uYik7XHJcblx0XHRcdFx0XHRcdGkgPSBhO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihwbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdCl7XHJcblx0XHRcdFx0XHRpID0gcGx1Z2luLmNoYWluLnNvcnRfdGZpbGVzX2ZvbGRlcl9maXJzdChpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHIgPSBbXTtcclxuXHRcdFx0XHRmb3IgKGxldCBvID0gMCwgYSA9IGk7IG8gPCBhLmxlbmd0aDsgbysrKSB7XHJcblx0XHRcdFx0XHRsZXQgcyA9IGFbb11cclxuXHRcdFx0XHRcdCwgbCA9IHQuZmlsZUl0ZW1zW3MucGF0aF07XHJcblx0XHRcdFx0XHRsICYmIHIucHVzaChsKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihyKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcywuLi5kKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBvcmdfc29ydC5jYWxsKHRoaXMsLi4uZCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5sZXQgZ2V0U29ydGVkRm9sZGVySXRlbXMgPSBmdW5jdGlvbihvcmdfc29ydDpGdW5jdGlvbikge1xyXG5cdGxldCBwbHVnaW4gPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbihlOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHR0cnl7XHJcblx0XHRcdFx0bGV0IHJlcyA9IG9yZ19zb3J0LmNhbGwodGhpcyxlKTtcclxuXHRcdFx0XHRsZXQgdGZpbGVzID0gcGx1Z2luLmNoYWluLmNoaWxkcmVuW2UucGF0aF07XHJcblx0XHRcdFx0aWYodGZpbGVzKXtcclxuXHRcdFx0XHRcdHJlcyA9IHJlcy5zb3J0KChhOmFueSxiOmFueSk9PnRmaWxlcy5pbmRleE9mKGEuZmlsZSktdGZpbGVzLmluZGV4T2YoYi5maWxlKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiByZXM7XHJcblx0XHRcdH1jYXRjaChlKXtcclxuXHRcdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcyxlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmxldCBnZXRUdGl0bGUgPSBmdW5jdGlvbihvcmdfZ2V0VHRpbGU6RnVuY3Rpb24pIHtcclxuXHRsZXQgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24oZTphbnkpe1xyXG5cdFx0aWYocGx1Z2luKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGxldCByZXMgPSBwbHVnaW4uZXhwbG9yZXIuZ2V0X2Rpc3BsYXlfdGV4dCh0aGlzLmZpbGUpXHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fWNhdGNoKGUpe1xyXG5cdFx0XHRcdHJldHVybiBvcmdfZ2V0VHRpbGUuY2FsbCh0aGlzKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBvcmdfZ2V0VHRpbGUuY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ0ZpbGVFeHBsb3JlcntcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0Y2hhaW46Tm90ZUNoYWluO1xyXG5cdGdldFNvcnRlZEZvbGRlckl0ZW1zOkZ1bmN0aW9uO1xyXG5cdGdldFNvcnRlZEZvbGRlckl0ZW1zX25ldzpGdW5jdGlvbjtcclxuXHRnZXRUaXRsZTpGdW5jdGlvbjtcclxuXHRnZXRUaXRsZV9uZXc6RnVuY3Rpb247XHJcblx0X0ZvbGRlckRvbV86YW55O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKXtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5jaGFpbiA9IHBsdWdpbi5jaGFpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMucmVnaXN0ZXIoKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlZ2lzdGVyKCl7XHJcblx0XHRhd2FpdCB0aGlzLndhaXRGb3JGaWxlRXhwbG9yZXIoKVxyXG5cdFx0dGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtcyA9IHRoaXMuZmlsZV9leHBsb3Jlci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0U29ydGVkRm9sZGVySXRlbXM7XHJcblx0XHR0aGlzLmdldFNvcnRlZEZvbGRlckl0ZW1zX25ldyA9IGdldFNvcnRlZEZvbGRlckl0ZW1zKHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXMpO1xyXG5cdFx0dGhpcy5maWxlX2V4cGxvcmVyLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRTb3J0ZWRGb2xkZXJJdGVtcyA9IHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXNfbmV3O1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGl0ZW0gPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zW1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmNoYWluLmdldF9hbGxfdGZpbGVzKClbMF0ucGF0aFxyXG5cdFx0XHRdXHJcblx0XHJcblx0XHRcdGlmKGl0ZW0pe1xyXG5cdFx0XHRcdHRoaXMuZ2V0VGl0bGUgPSBpdGVtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRUaXRsZVxyXG5cdFx0XHRcdHRoaXMuZ2V0VGl0bGVfbmV3ID0gZ2V0VHRpdGxlKHRoaXMuZ2V0VGl0bGUpXHJcblx0XHRcdFx0aXRlbS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0VGl0bGUgPSB0aGlzLmdldFRpdGxlX25ld1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLnNvcnQoMCx0cnVlKTtcclxuXHRcdFx0dGhpcy5zZXRfZGlzcGxheV90ZXh0KClcclxuXHRcdFx0dGhpcy5zZXRfZmlsZWl0ZW1fc3R5bGUoKVxyXG5cdFx0XHRcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgdW5yZWdpc3Rlcigpe1xyXG5cdFx0aWYodGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtcyl7XHJcblx0XHRcdHRoaXMuZmlsZV9leHBsb3Jlci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0U29ydGVkRm9sZGVySXRlbXMgPSB0aGlzLmdldFNvcnRlZEZvbGRlckl0ZW1zO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdGZvcihsZXQga2V5IGluIGl0ZW1zKXtcclxuXHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdGF3YWl0IHRoaXMuX3NldF9kaXNwbGF5X3RleHRfKGl0ZW0sdGhpcy5nZXRfb3JpZ2luX3RleHQoaXRlbS5maWxlKSlcclxuXHRcdFx0aXRlbS5lbC5zdHlsZS5iYWNrZ3JvdW5kID0gbnVsbFxyXG5cdFx0XHRpdGVtLmVsLnN0eWxlLmJvcmRlciA9IG51bGxcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHdhaXRGb3JGaWxlRXhwbG9yZXIoKSB7XHJcblx0XHR3aGlsZSAoISh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXMpIHtcclxuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpOyAvLyBcdTdCNDlcdTVGODUxMDBtc1x1NTE4RFx1NjhDMFx1NjdFNVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHR9XHJcblxyXG5cdGdldCBmaWxlX2V4cGxvcmVyKCl7XHJcblx0XHRsZXQgYSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoXHJcblx0XHRcdFwiZmlsZS1leHBsb3JlclwiXHJcblx0XHQpXHJcblx0XHRsZXQgdmlldyA9IGFbMF0/LnZpZXc7XHJcblx0XHRyZXR1cm4gdmlldztcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgc29ydChuc2xlZXA9MCxpbml0PWZhbHNlKXtcclxuXHRcdGlmKCh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KT8uc29ydCl7XHJcblx0XHRcdGlmKG5zbGVlcD4wKXtcclxuXHRcdFx0XHRhd2FpdCBzbGVlcChuc2xlZXApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGluaXQpe1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmNoYWluLmluaXRfY2hpbGRyZW4oKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoT2JqZWN0LmtleXModGhpcy5wbHVnaW4uY2hhaW4uY2hpbGRyZW4pLmxlbmd0aD09MCl7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKT0+e1xyXG5cdFx0XHRcdFx0dGhpcy5zb3J0KG5zbGVlcCx0cnVlKTtcclxuXHRcdFx0XHR9LCAzMDAwKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0KHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVx0XHJcblx0fVxyXG5cclxuXHRnZXRfZmllbGRfb2ZfZGlzcGxheV90ZXh0KHRmaWxlOlRBYnN0cmFjdEZpbGUpOnN0cmluZ3tcclxuXHRcdGlmKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2Rpc3BsYXlfdGV4dCl7XHJcblx0XHRcdGxldCBpdGVtID0gIHRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXJfY29uZmlnKHRmaWxlLHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2Rpc3BsYXlfdGV4dClcclxuXHRcdFx0aWYodHlwZW9mKGl0ZW0pICE9ICdzdHJpbmcnKXtcclxuXHRcdFx0XHRyZXR1cm4gJydcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gaXRlbVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICcnXHJcblx0fVxyXG5cclxuXHRnZXRfb3JpZ2luX3RleHQodGZpbGU6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0aWYodGZpbGUuZXh0ZW5zaW9uPT0nbWQnKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGUuYmFzZW5hbWVcclxuXHRcdFx0fWVsc2UgaWYodGZpbGUuZXh0ZW5zaW9uPT0nY2FudmFzJyl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlLmJhc2VuYW1lXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiB0ZmlsZS5uYW1lXHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gdGZpbGUubmFtZVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2l0ZW0odGZpbGU6VEFic3RyYWN0RmlsZSxmaWVsZDpzdHJpbmcpe1xyXG5cdFx0aWYoIWZpZWxkKXtyZXR1cm4gJyd9XHJcblx0XHRsZXQgZmllbGRzID0gZmllbGQuc3BsaXQoJ3wnKVxyXG5cdFx0bGV0IGl0ZW06YW55ID0gJydcclxuXHRcdGZvcihsZXQgZiBvZiBmaWVsZHMpe1xyXG5cdFx0XHRpZihmPT0nJDAnKXtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3JpZ2luX3RleHQodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYoZi5zdGFydHNXaXRoKCc/Jykpe1xyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRcdH1cclxuXHRcdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdFx0bGV0IHMgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGYpXHJcblx0XHRcdFx0aWYodHlwZW9mIHMgPT09ICdudW1iZXInKXtcclxuXHRcdFx0XHRcdGl0ZW0gPSBgJHtzfWBcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlb2YocykhPSdzdHJpbmcnIHx8IHM9PScnKXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGl0ZW0gPSBzXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoZmllbGRzLmxhc3QoKT8uc3RhcnRzV2l0aCgnPycpICYmIGl0ZW0pe1xyXG5cdFx0XHRyZXR1cm4gZmllbGRzLmxhc3QoKT8uc2xpY2UoMSkucmVwbGFjZSgvXFwkMS9nLGl0ZW0pICB8fCAnJ1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1cclxuXHR9XHJcblxyXG5cdGdldF9kaXNwbGF5X3RleHQodGZpbGU6VEFic3RyYWN0RmlsZSkge1xyXG5cdFx0bGV0IHN0ciA9IHRoaXMuZ2V0X2ZpZWxkX29mX2Rpc3BsYXlfdGV4dCh0ZmlsZSlcclxuXHJcblx0XHRcclxuXHRcdGlmKCFzdHIgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0KXtcclxuXHRcdFx0c3RyID0gYDwke3RoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdH0+PCQwPmBcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRzdHIgPSBgPCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0fT4ke3N0cn1gXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKCFzdHIgfHwgc3RyPT0nJDAnIHx8IHN0cj09JzwkMD4nKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X29yaWdpbl90ZXh0KHRmaWxlKVxyXG5cdFx0fVxyXG5cdCAgXHJcblx0XHRsZXQgbXN0ciA9IHN0ci5yZXBsYWNlKC9cXDwoLis/KT9cXD4vZywgKG1hdGNoOnN0cmluZywgZmllbGQ6c3RyaW5nKSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9pdGVtKHRmaWxlLGZpZWxkKVxyXG5cdFx0fSlcclxuXHRcdG1zdHIgPSBtc3RyXHJcblx0XHRpZihtc3RyPT0nJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9vcmlnaW5fdGV4dCh0ZmlsZSlcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbXN0clxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X3NldF9kaXNwbGF5X3RleHRfKGl0ZW06YW55LHR4dDphbnkpe1xyXG5cdFx0aWYoaXRlbSAmJiB0eHQpe1xyXG5cdFx0XHRpZih0eXBlb2YodHh0KT09J3N0cmluZycpe1xyXG5cdFx0XHRcdGl0ZW0uaW5uZXJFbC5zZXRUZXh0KHR4dClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRzZXRfZGlzcGxheV90ZXh0KCl7XHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRsZXQgdHh0ID0gdGhpcy5nZXRfZGlzcGxheV90ZXh0KGl0ZW0uZmlsZSlcclxuXHRcdFx0dGhpcy5fc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbSx0eHQpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBnZXRfZmlsZWl0ZW1fc3R5bGUodGZpbGU6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKXtcclxuXHRcdFx0bGV0IHN0eWxlID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcl9jb25maWcodGZpbGUsdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcilcclxuXHRcdFx0aWYodHlwZW9mKHN0eWxlKT09J3N0cmluZycpe1xyXG5cdFx0XHRcdGxldCBmdW5jID0gYXdhaXQgdGhpcy5wbHVnaW4udXRpbHMuZ2V0X3N0cl9mdW5jKHRoaXMuYXBwLHN0eWxlKVxyXG5cdFx0XHRcdGlmKGZ1bmMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHN0eWxlXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2ZpbGVpdGVtX3N0eWxlKCl7XHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRsZXQgc3R5bGUgPSBhd2FpdCB0aGlzLmdldF9maWxlaXRlbV9zdHlsZShpdGVtLmZpbGUpXHJcblx0XHRcdGF3YWl0IHRoaXMuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoaXRlbS5maWxlLHN0eWxlKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUodGZpbGU6VEFic3RyYWN0RmlsZSxzdHlsZT1udWxsKXtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cdFx0aWYoIXN0eWxlKXtcclxuXHRcdFx0c3R5bGUgPSBhd2FpdCB0aGlzLmdldF9maWxlaXRlbV9zdHlsZSh0ZmlsZSlcclxuXHRcdH1cclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdGxldCBpdGVtID0gaXRlbXNbdGZpbGUucGF0aF1cclxuXHRcdGlmKGl0ZW0pe1xyXG5cdFx0XHRpZih0eXBlb2Yoc3R5bGUpPT0nZnVuY3Rpb24nKXtcclxuXHRcdFx0XHRzdHlsZSA9IGF3YWl0IChzdHlsZSBhcyBhbnkpKHRmaWxlKVxyXG5cdFx0XHRcdGlmKCFzdHlsZSl7XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoc3R5bGU9PW51bGwpe1xyXG5cdFx0XHRcdGl0ZW0uZWwuc3R5bGUuYmFja2dyb3VuZCA9IG51bGxcclxuXHRcdFx0XHRpdGVtLmVsLnN0eWxlLmJvcmRlciA9IG51bGxcclxuXHRcdFx0fWVsc2UgaWYgKHR5cGVvZihzdHlsZSk9PSdzdHJpbmcnKXtcclxuXHRcdFx0XHRpdGVtLmVsLnN0eWxlLmJhY2tncm91bmQgPSBzdHlsZVxyXG5cdFx0XHR9ZWxzZSBpZih0eXBlb2Yoc3R5bGUpPT0nb2JqZWN0Jyl7XHJcblx0XHRcdFx0Zm9yKGxldCBrIGluIChzdHlsZSBhcyBhbnkpKXtcclxuXHRcdFx0XHRcdChpdGVtIGFzIGFueSkuZWwuc3R5bGVba10gPSAoc3R5bGUgYXMgYW55KVtrXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fWVsc2UgaWYodHlwZW9mKHN0eWxlKT09J2Z1bmN0aW9uJyl7XHJcblx0XHRcdFx0YXdhaXQgKHN0eWxlIGFzIGFueSkodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiXHJcblxyXG5leHBvcnQgY2xhc3MgU3RyaW5nc3tcclxuICAgIGxhbmd1YWdlOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgbGV0IGxhbmcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmd1YWdlJyk7XHJcbiAgICAgICAgaWYobGFuZyl7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcclxuICAgICAgICB9XHJcblx0fVxyXG5cclxuICAgIGdldCBjbWRfbWVybWFpZF9mbG93Y2hhcnRfbGluaygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWRcdTk0RkVcdTYzQTVcdTUzNjFcdTcyNDcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZCBvZiBsaW5rZWQgbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWRcdTc2RUVcdTVGNTVcdTUzNjFcdTcyNDcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZCBvZiBmb2xkZXIgbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21lcm1haWRfZmxvd2NoYXJ0X2F1dG8oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdNZXJtYWlkXHU1MzYxXHU3MjQ3J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWQgb2Ygbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IGNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2IC0gXHU0RjdGXHU3NTI4XHU3Q0ZCXHU3RURGXHU3QTBCXHU1RThGXHU2MjUzXHU1RjAwXHVGRjA4XHU0RUM1XHU2ODRDXHU5NzYyXHVGRjA5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZpbGUgLSBvcGVuIHdpdGggc3lzdGVtIGFwcCAoZGVza3RvcCBvbmx5KSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfZmlsZV9zaG93X2luX3N5c3RlbV9leHBsb3Jlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjU4N1x1NEVGNiAtIFx1NTcyOFx1N0NGQlx1N0VERlx1NkQ0Rlx1ODlDOFx1NzY4NFx1NjdFNVx1NzcwQlx1RkYwOFx1NEVDNVx1Njg0Q1x1OTc2Mlx1RkYwOSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdGaWxlIC0gc2hvdyBpbiBzeXN0ZW0gZXhwbG9yZXIgKGRlc2t0b3Agb25seSknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2ZpbGVfcmVuYW1lKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2IC0gXHU5MUNEXHU1NDdEXHU1NDBEXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZpbGUgLSByZW5hbWUgZmlsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgY21kX2xvbmdmb3JtMm5vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RUxvbmdGb3JtXHU5MUNEXHU3RjZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Jlc2V0IG5vdGUgY2hhaW4gYnkgbG9uZ2Zvcm0nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2xvbmdmb3JtNG5vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RVx1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MVx1RkYwQ1x1OTFDRFx1N0Y2RUxvbmdGb3JtXHU1NzNBXHU2NjZGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZXNldCBsb25nZm9ybSBzY2VuZXMgYnkgbm90ZSBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3NvcnRfZmlsZV9leHBsb3Jlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RVx1N0IxNFx1OEJCMFx1OTRGRVx1NjM5Mlx1NUU4RidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiU29ydCBmaWxlIGV4cGxvcmVyIGJ5IG5vdGUgY2hhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX25vdGVzX3NtYXJ0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY2N0FcdTgwRkRcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gbm90ZSBzbWFydGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJPcGVuIG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX3ByZXZfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBwcmV2IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoYWluX21vdmVfdXBfbm9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBub2RlIHVwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjaGFpbl9tb3ZlX2Rvd25fbm9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBub2RlIGRvd25cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX25leHRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBuZXh0IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9yZXZlYWxfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUI5QVx1NEY0RFx1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUmV2ZWFsIGN1cnJlbnQgZmlsZSBpbiBuYXZpZ2F0aW9uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9hbmRfcmV2ZWFsX25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYyNTNcdTVGMDBcdTVFNzZcdTVCOUFcdTRGNERcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gYW5kIHJldmVhbCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9wcmV2X25vdGVfb2ZfcmlnaHRfbGVhZigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTNGM1x1NEZBN1x1OTg3NVx1OTc2Mlx1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBwcmV2IG5vdGUgb2YgcmlnaHQgbGVhZlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUzRjNcdTRGQTdcdTk4NzVcdTk3NjJcdTYyNTNcdTVGMDBcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gbmV4dCBub3RlIG9mIHJpZ2h0IGxlYWZcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9leGVjdXRlX3RlbXBsYXRlX21vZGFsKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjY3XHU4ODRDXHU4MTFBXHU2NzJDXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJFeGVjdXRlIFRlbXBsYXRlciBtb2RhbFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQyRlx1NzUyOC9cdTUxNzNcdTk1RUQgY3NzIFx1NEVFM1x1NzgwMVx1NTc1NydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiVG9vZ2xlIGNzcyBibG9jayBpbiBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgY21kX3NldF9mcm9udG1hdHRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI0MFx1OTAwOVx1N0IxNFx1OEJCMFx1OEJCRVx1N0Y2RVx1NUM1RVx1NjAyNydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiU2V0IGZyb25tYXR0ZXIgZm9yIHNlbGVjdGVkIG5vdGVzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfbW92ZV9uZXh0X2xldmVsKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QwXHU5QUQ4XHU3RjI5XHU4RkRCXHU1QzQyXHU3RUE3J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbmNyZWFzZSB0aGUgaW5kZW50YXRpb24gbGV2ZWxcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9tb3ZlX25vbmVfbGV2ZWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUyMjBcdTk2NjRcdTdGMjlcdThGREJcdTVDNDJcdTdFQTcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlbW92ZSB0aGUgaW5kZW50YXRpb24gbGV2ZWxcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9tb3ZlX3ByZXZfbGV2ZWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTk2NERcdTRGNEVcdTdGMjlcdThGREJcdTVDNDJcdTdFQTcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkRlY3JlYXNlIHRoZSBpbmRlbnRhdGlvbiBsZXZlbFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2luc2VydF9jb21tYW5kX2lkKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QyXHU1MTY1XHU1NDdEXHU0RUU0SUQnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkluc2VydCBjb21tYW5kIGlkXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgZmlsZW1lbnVfY3JlYXRlX25leHRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTIxQlx1NUVGQVx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIG5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlsZW1lbnVfbW92ZV9hc19uZXh0X25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTc5RkJcdTUyQThcdTRFM0FcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vdmUgYXMgbmV4dCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZXMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTc5RkJcdTUyQThcdTRFM0FcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjBcdUZGMDhcdTkwMDlcdTRFMkRcdTdCMTRcdThCQjBcdUZGMDknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vdmUgYXMgbmV4dCBub3RlcyhzZWxlY3RlZClcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNsZWFyX2lubGlua3MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTZFMDVcdTc0MDZcdTdCMTRcdThCQjBcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnQ2xlYXIgaW5saW5rcyBvZiBjdXJyZW50IGZpbGUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU3OUZCXHU1MkE4XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNb3ZlIGN1cnJlbnQgZmlsZSB0byBhbm90aGVyIGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEZcdTY2RkZcdTYzNjJcdTdCMTRcdThCQjBcdTUxODVcdTVCQjknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlcGxhY2UgYnkgcmVnZXhcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoYWluX2luc2VydF9ub2RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QyXHU1MTY1XHU4MjgyXHU3MEI5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnNlcnQgbm9kZSBvZiBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hhaW5fc2V0X3NlcV9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5MUNEXHU1ODUxXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU1OTM5XHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWJ1aWxkIHRoZSBjaGFpbiBvZiBjdXJyZW50IGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JlYXRlX25ld19ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MjFCXHU1RUZBXHU2NUIwXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgbmV3IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfaXNTb3J0RmlsZUV4cGxvcmVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2ODM5XHU2MzZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxXHU2MzkyXHU1RThGXHU3NkVFXHU1RjU1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJTb3J0IGJ5IGNoYWluIGluIGZpbGUgZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX2lzRm9sZGVyRmlyc3QoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYzOTJcdTVFOEZcdTY1RjZcdTc2RUVcdTVGNTVcdTY1RjZcdTY1ODdcdTRFRjZcdTU5MzlcdTRGMThcdTUxNDhcdUZGMUYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlNvcnQgZm9sZGVyIGZpcnN0IGluIGZpbGUgZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX1ByZXZDaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMFx1NjU3MFx1OTFDRlx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTnVtYmVyIG9mIHByZXYgbm90ZXMgdG8gc2hvdz9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfTmV4dENoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwXHU2NTcwXHU5MUNGXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOdW1iZXIgb2YgbmV4dCBub3RlcyB0byBzaG93P1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19zdWdnZXN0ZXJOb3Rlc01vZGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuY2hhaW5faW5zZXJ0X25vZGV9XHVGRjFBXHU5RUQ4XHU4QkE0XHU2QTIxXHU1RjBGYFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5jaGFpbl9pbnNlcnRfbm9kZX06RGVmYXVsdCBtb2RlYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19hdXRvX25vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1ODFFQVx1NTJBOFx1OTFDRFx1NTg1MVx1NjU4N1x1NEVGNlx1NTkzOVx1N0IxNFx1OEJCMFx1OTRGRVx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQXV0byBidWlsZCBub3RlY2hhaW4gb2YgZm9sZGVyIHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3JlZnJlc2hEYXRhVmlldygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1NTIzN1x1NjVCMERhdGF2aWV3XHU4OUM2XHU1NkZFXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWZyZXNoIGRhdGF2aWV3IHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3JlZnJlc2hUYXNrcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1NTIzN1x1NjVCMFRhc2tzXHU4OUM2XHU1NkZFXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWZyZXNoIHRhc2tzIHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3dvcmRjb3V0KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU3RURGXHU4QkExXHU2QkNGXHU2NUU1XHU1QjU3XHU2NTcwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWdpc3RlciBkYWlseSB3b3JkIGNvdW50P1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHNldHRpbmdfYXZhdGEoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU5MzRcdTUwQ0YnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkF2YXRhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZ2V0IHNldHRpbmdfd29yZGNvdXRfeGZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OERGM1x1OEZDN1x1NEVFNVx1NEUwQlx1NzZFRVx1NUY1NSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiSWdub3JlIHRoZXNlIGZvbGRlcnNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfbm90aWNlX3doaWxlX21vZGlmeV9jaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NEZFRVx1NjUzOVx1N0IxNFx1OEJCMFx1OTRGRVx1NjVGNlx1NjYzRVx1NzkzQVx1OTAxQVx1NzdFNVx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTm90aWNlIHdoaWxlIG1vZGlmeSBub3RlIGNoYWluP1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IHNldHRpbmdfZmllbGRfb2ZfZGlzcGxheV90ZXh0KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU2NjNFXHU3OTNBXHU2NTg3XHU0RUY2XHU1NDBEJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJEaXNwbGF5IHRleHQgZm9yIG5vdGVzIGluIGZpbGUtZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NEY3Rlx1NzUyOENvbmZsdWVuY2VcdTdGMjlcdThGREJcdTY4M0NcdTVGMEYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlVzZSBjb25mbHVlbmNlIGluZGVudGF0aW9uIGZvcm1hdFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU1MTQzXHU3RDIwXHU5OENFXHU2ODNDJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJGaWxlLWl0ZW0gc3R5bGUgZm9yIG5vdGVzIGluIGZpbGUtZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfc3VnZ2VzdGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QyXHU1MTY1XHU2QTIxXHU1RjBGXHVGRjA4XHU3NkY4XHU1QkY5XHU0RThFXHU5NTFBXHU3MEI5XHVGRjA5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnNlcnQgbW9kZShyZWxhdGUgdG8gYW5jaG9yKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X25vZGVfYWZ0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfbm9kZV9iZWZvcmUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUyNERcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlByZXYgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfbm9kZV9hc19oZWFkKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5NEZFXHU1OTM0J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJIZWFkIG9mIGNoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2luc2VydF9ub2RlX2FzX3RhaWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTk0RkVcdTVDM0UnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlRhaWwgb2YgdGhhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X2ZvbGRlcl9hZnRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjU4N1x1NEVGNlx1NTkzOVx1NTQwRVx1N0Y2RSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRm9sZGVyIGFzIG5leHRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fZ2V0X2Jyb3RoZXJzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDBDXHU3RUE3XHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOb3RlcyBpbiBzYW1lIGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9zYW1lX2ZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1N0VBN1x1N0IxNFx1OEJCMCtcdTVCNTBcdTc2RUVcdTVGNTUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5vdGVzIGluIHNhbWUgZm9sZGVyKHJlY3Vyc2l2ZSlcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5saW5rc19vdXRsaW5rcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTFGQVx1OTRGRStcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm91dExpbmtzICsgaW5MaW5rc1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbmxpbnMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcImlubGlua3NcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fb3V0bGlua3MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUxRkFcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm91dGxpbmtzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2FsbF9ub2VzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJBbGwgbm90ZXNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fcmVjZW50KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU4RkQxXHU2NzFGXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWNlbnRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fdW5jbGVfbm90ZXMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTRFMEFcdTdFQTdcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5vdGVzIGluIGdyYW5kcGEgZm9sZGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX25vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTm90ZSBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jdXJyZW50bm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3VycmVudCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NoYWluX2luc2VydF9ub2RlX2FmdGVyKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NkRGQlx1NTJBMFx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIG5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OTRGRVx1NUMzRVx1NkRGQlx1NTJBMFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIHRhaWwgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2REZCXHU1MkEwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgcHJldiBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NoYWluX2luc2VydF9ub2RlX2FzX2hlYWQoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5NEZFXHU1OTM0XHU2REZCXHU1MkEwXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgaGVhZCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2l0ZW1fY2hhaW5faW5zZXJ0X251bGwoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NUUwXHU5NEZFXHU2M0E1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgbm90ZSBub3QgaW4gY2hhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByb21wdF9ub3RlbmFtZSgpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdThGOTNcdTUxNjVcdTdCMTRcdThCQjBcdTU0MEQnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIklucHV0IG5vdGUgbmFtZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgbGV0IHN0cmluZ3MgPSBuZXcgU3RyaW5ncygpOyIsICJpbXBvcnQgeyB0aW1lIH0gZnJvbSAnY29uc29sZSc7XHJcbmltcG9ydCB7IFxyXG4gICAgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcbiAgICBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsXHJcbiAgICBURmlsZSwgVEZvbGRlciwgbW9tZW50LCBFZGl0b3JQb3NpdGlvbiwgRWRpdG9yU2VsZWN0aW9uXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCAqIGFzIGludGVybmFsIGZyb20gJ3N0cmVhbSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFdvcmRDb3VudHtcclxuXHRhcHA6QXBwO1xyXG4gICAgcGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRucmV0cnk6bnVtYmVyO1xyXG4gICAgdGltZXJJZDpOb2RlSlMuVGltZW91dDtcclxuICAgIGN1cnJfYWN0aXZlX2ZpbGU6VEZpbGU7XHJcbiAgICBldmVudHM6IEFycmF5PG9iamVjdD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4sYXBwOkFwcCl7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IGFwcDtcclxuXHRcdHRoaXMubnJldHJ5PTEwMDtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoKTsgICBcclxuXHR9XHJcblxyXG4gICAgZmlsdGVyKHRmaWxlOlRGaWxlKXtcclxuICAgICAgICBpZighdGZpbGUpe3JldHVybiBmYWxzZTt9XHJcbiAgICAgICAgaWYoKHRmaWxlIGFzIGFueSkuZGVsZXRlZCl7cmV0dXJuIGZhbHNlO31cclxuICAgICAgICBpZih0ZmlsZS5leHRlbnNpb24hPSdtZCcpe3JldHVybiBmYWxzZTt9XHJcbiAgICAgICAgbGV0IHhmb2xkZXJzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdW50eGZvbGRlci5zcGxpdCgnXFxuJykuZmlsdGVyKHg9PnghPScnKTtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gb2YgeGZvbGRlcnMpe1xyXG4gICAgICAgICAgICBpZih0ZmlsZS5wYXRoLnN0YXJ0c1dpdGgoaXRlbSkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihpdGVtPT0nLycpe1xyXG4gICAgICAgICAgICAgICAgaWYodGZpbGUucGFyZW50Py5wYXRoPT0nLycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBcdTdFREZcdThCQTFcdTVCNTdcdTY1NzBcclxuICAgIGNvdW50X3dvcmRzKGN0eDpzdHJpbmcsaWdub3JlPS9bXFxzIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXF1eX2B7fH1cdUZGMENcdTMwMDJcdUZGMDFcdUZGMUZcdTMwMTBcdTMwMTFcdTMwMDFcdUZGMUJcdUZGMUFcdTIwMUNcdTIwMURcdTIwMThcdTIwMTlcdTMwMEFcdTMwMEJcdUZGMDhcdUZGMDlcdUZGM0JcdUZGM0RcdTIwMTRcdTIwMjZcdUZGRTVdL2cpe1xyXG4gICAgICAgIGxldCBOID0gY3R4LnJlcGxhY2UoaWdub3JlLCAnJykubGVuZ3RoO1xyXG4gICAgICAgIGxldCBlbnJlZ2V4ID0gL1thLXpBLVowLTktXSsvZztcclxuICAgICAgICBsZXQgbWF0Y2hlcyA9IGN0eC5tYXRjaChlbnJlZ2V4KTtcclxuICAgICAgICBpZihtYXRjaGVzKXtcclxuICAgICAgICAgICAgbGV0IGVsZW49MDtcclxuICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKHg9PmVsZW49ZWxlbit4Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIE4gPSBOLWVsZW4rbWF0Y2hlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNldF9tdGltZV92YWx1ZSh0ZmlsZTpURmlsZSxrZXk6c3RyaW5nLHZhbDpudW1iZXIpe1xyXG5cclxuICAgICAgICBsZXQgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgICAgbGV0IGVkaXRvclN0YXRlOiB7XHJcbiAgICAgICAgICAgIGN1cnNvcj86IEVkaXRvclBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzZWxlY3Rpb24/OiBzdHJpbmcsXHJcbiAgICAgICAgICAgIHNhbmNob3I/OkVkaXRvclBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzaGVhZD86RWRpdG9yUG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNjcm9sbEluZm8/OiB7IGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIgfVxyXG4gICAgICAgIH0gPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGlmIChhY3RpdmVWaWV3ICYmIGFjdGl2ZVZpZXcuZmlsZSA9PT0gdGZpbGUpIHtcclxuICAgICAgICAgICAgbGV0IGVkaXRvciA9IGFjdGl2ZVZpZXcuZWRpdG9yO1xyXG4gICAgICAgICAgICBpZiAoZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZS5jdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZS5zZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZS5zYW5jaG9yID0gZWRpdG9yLmdldEN1cnNvcignYW5jaG9yJyk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZS5zaGVhZCA9IGVkaXRvci5nZXRDdXJzb3IoJ2hlYWQnKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvclN0YXRlLnNjcm9sbEluZm8gPSBlZGl0b3IuZ2V0U2Nyb2xsSW5mbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhbGluZSA9IGVkaXRvclN0YXRlPy5jdXJzb3I/LmxpbmUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IGFjdGl2ZVZpZXc/LmVkaXRvcj8uZ2V0TGluZShlZGl0b3JTdGF0ZS5jdXJzb3IubGluZSlcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYoYWxpbmUgJiYgYWxpbmUuc3RhcnRzV2l0aCgnfCcpICYmIGFsaW5lLmVuZHNXaXRoKCd8Jykpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuICAgICAgICAgICAgdGZpbGUsXHJcbiAgICAgICAgICAgIChmbSkgPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgdCA9IG1vbWVudC51bml4KHRmaWxlLnN0YXQubXRpbWUvMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbXRpbWUgPSB0LmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG4gICAgICAgICAgICAgICAgaWYoZm1ba2V5XT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG10aW1lPT0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykgJiYgbXRpbWUhPW1vbWVudC51bml4KHRmaWxlLnN0YXQuY3RpbWUvMTAwMCkuZm9ybWF0KCdZWVlZLU1NLUREJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XVt0LmFkZCgtMSwnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldW210aW1lXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0cyA9IE9iamVjdC5rZXlzKGZtW2tleV0pLnNvcnQoKGIsYSk9PmEubG9jYWxlQ29tcGFyZShiKSkuZmlsdGVyKHg9PiEoeD09bXRpbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0cy5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih2YWw+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldW210aW1lXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZm1ba2V5XVttdGltZV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XVttdGltZV0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHZhbC1mbVtrZXldW3RzWzBdXSkhPTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XVttdGltZV0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGZtW2tleV1bbXRpbWVdKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmbVtrZXldW210aW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAvLyBSZXN0b3JlIGVkaXRvciBzdGF0ZSBpZiBpdCB3YXMgc2F2ZWRcclxuICAgICAgICBpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LmZpbGUgPT09IHRmaWxlKSB7XHJcbiAgICAgICAgICAgIGxldCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcclxuICAgICAgICAgICAgaWYgKGVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclN0YXRlLnNlbGVjdGlvbiAmJiBlZGl0b3JTdGF0ZS5zYW5jaG9yICYmIGVkaXRvclN0YXRlLnNoZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZWRpdG9yLnNldFNlbGVjdGlvbihlZGl0b3JTdGF0ZS5zYW5jaG9yLGVkaXRvclN0YXRlLnNoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBFcnJvciBzZXR0aW5nIHNlbGVjdGlvbjoke2Vycm9yfWAsMzAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKGVkaXRvclN0YXRlLmN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGVkaXRvci5zZXRDdXJzb3IoZWRpdG9yU3RhdGUuY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTdGF0ZS5zY3JvbGxJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZWRpdG9yLnNjcm9sbFRvKGVkaXRvclN0YXRlLnNjcm9sbEluZm8ubGVmdCwgZWRpdG9yU3RhdGUuc2Nyb2xsSW5mby50b3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldF9uZXdfd29yZHModGZpbGU6VEZpbGUsZGF5PW1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKXtcclxuICAgICAgICBsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuICAgICAgICBsZXQgdmFsdWVzID0gbWV0YT8uZnJvbnRtYXR0ZXI/LndvcmRzO1xyXG4gICAgICAgIGlmKHZhbHVlcyl7XHJcbiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKS5zb3J0KChhLGIpPT5hLmxvY2FsZUNvbXBhcmUoYikpO1xyXG4gICAgICAgICAgICBsZXQgaWR4ID0ga2V5cy5pbmRleE9mKGRheSk7XHJcbiAgICAgICAgICAgIGlmKGlkeDwwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihpZHg9PTApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tkYXldO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbZGF5XS12YWx1ZXNba2V5c1tpZHgtMV1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVfd29yZF9jb3VudCh0ZmlsZTpURmlsZSl7XHJcbiAgICAgICAgaWYoIXRoaXMuZmlsdGVyKHRmaWxlKSl7cmV0dXJuO31cclxuICAgICAgICBsZXQgY3R4ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcbiAgICAgICAgbGV0IG1jYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKVxyXG4gICAgICAgIGlmKG1jYWNoZT8uZnJvbnRtYXR0ZXJQb3NpdGlvbil7XHJcbiAgICAgICAgICAgIGN0eCA9IGN0eC5zbGljZShtY2FjaGUuZnJvbnRtYXR0ZXJQb3NpdGlvbi5lbmQub2Zmc2V0KVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgTiA9IHRoaXMuY291bnRfd29yZHMoY3R4KTtcclxuICAgICAgICBhd2FpdCB0aGlzLnNldF9tdGltZV92YWx1ZSh0ZmlsZSwnd29yZHMnLE4pO1xyXG4gICAgfVxyXG5cclxuXHRjaGVja19mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrdjp7W2tleTpzdHJpbmddOmFueX0pOmJvb2xlYW57XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZighdGZpbGUpe3JldHVybiBmYWxzZTt9XHJcblx0XHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0XHRpZihtZXRhPy5mcm9udG1hdHRlcil7XHJcblx0XHRcdFx0Zm9yKGxldCBrIGluIGt2KXtcclxuXHRcdFx0XHRcdGlmKCEobWV0YS5mcm9udG1hdHRlcltrXT09a3Zba10pKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyB3YWl0X2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGt2Ontba2V5OnN0cmluZ106YW55fSxucmV0cnk9dGhpcy5ucmV0cnkpOlByb21pc2U8Ym9vbGVhbj57XHJcblx0XHRsZXQgZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0XHJcblx0XHR3aGlsZSghZmxhZyAmJiBucmV0cnk+MCl7XHJcblx0XHRcdGF3YWl0IHNsZWVwKDUwKTtcclxuXHRcdFx0bnJldHJ5ID0gbnJldHJ5LTE7XHJcblx0XHRcdGZsYWcgPSB0aGlzLmNoZWNrX2Zyb250bWF0dGVyKHRmaWxlLGt2KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmbGFnO1xyXG5cdH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVfd29yZF9jb3VudF9vZl92YXVsdCgpe1xyXG4gICAgICAgIGxldCB0ZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkuZmlsdGVyKCh4OlRGaWxlKT0+dGhpcy5maWx0ZXIoeCkpO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYCR7aX0vJHt0ZmlsZXMubGVuZ3RofToke3RmaWxlLm5hbWV9YCwzMDAwKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVfd29yZF9jb3VudCh0ZmlsZSk7XHJcbiAgICAgICAgICAgIGkgPSBpKzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyKCl7XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291dCl7XHJcblx0XHRcdHRoaXMucmVnZWlzdGVyX2VkaXRvcl9jaGFuZ2UoKTtcclxuXHRcdFx0dGhpcy5yZWdlaXN0ZXJfYWN0aXZlX2xlYWZfY2hhbmdlKCk7XHJcblx0XHR9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZ2Vpc3Rlcl9lZGl0b3JfY2hhbmdlKCl7ICAgIFxyXG4gICAgICAgIGxldCBlID0gdGhpcy5hcHAud29ya3NwYWNlLm9uKCdlZGl0b3ItY2hhbmdlJyxhc3luYyAoZWRpdG9yLGluZm8pPT57XHJcbiAgICAgICAgICAgIGlmKGluZm8uZmlsZT8uZXh0ZW5zaW9uIT0nbWQnKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnRpbWVySWQhPT1udWxsKXtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGluZm8uZmlsZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVfd29yZF9jb3VudCgoaW5mbyBhcyBhbnkpLmZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KGUpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2goZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnZWlzdGVyX2FjdGl2ZV9sZWFmX2NoYW5nZSgpe1xyXG4gICAgICAgIGxldCBlID0gdGhpcy5hcHAud29ya3NwYWNlLm9uKCdhY3RpdmUtbGVhZi1jaGFuZ2UnLGFzeW5jIChsZWFmKT0+e1xyXG5cclxuICAgICAgICAgICAgbGV0IHRmaWxlID0gKGxlYWY/LnZpZXcgYXMgYW55KS5maWxlO1xyXG4gICAgICAgICAgICBpZighbGVhZj8udmlldyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoISgobGVhZi52aWV3IGFzIGFueSk/LmZpbGU/LmV4dGVuc2lvbj09J21kJykpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlX3dvcmRfY291bnQodGZpbGUpO1xyXG4gICAgICAgICAgICBpZih0aGlzLmN1cnJfYWN0aXZlX2ZpbGU9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyX2FjdGl2ZV9maWxlID0gdGZpbGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5jdXJyX2FjdGl2ZV9maWxlICE9IHRmaWxlKXtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlX3dvcmRfY291bnQodGhpcy5jdXJyX2FjdGl2ZV9maWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vycl9hY3RpdmVfZmlsZSA9IHRmaWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChlKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHVucmVnaXN0ZXIoKXtcclxuICAgICAgICBmb3IobGV0IGUgb2YgdGhpcy5ldmVudHMpe1xyXG4gICAgICAgICAgICAoZSBhcyBhbnkpLmUub2ZmcmVmKGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMuc2xpY2UoLTEsMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X3dvcmRzX29mX3RmaWxlcyhmaWxlczpBcnJheTxURmlsZT58bnVsbD1udWxsKXtcclxuICAgICAgICBpZighZmlsZXMpe1xyXG4gICAgICAgICAgICBmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9hbGxfdGZpbGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmaWxlcy5tYXAoXHJcbiAgICAgICAgICAgIHg9PnRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoeCwnd29yZHMnKVxyXG4gICAgICAgICkuZmlsdGVyKHg9PngpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1bV93b3Jkc19vZl90aWZsZXMoZmlsZXM6QXJyYXk8VEZpbGU+fG51bGw9bnVsbCwgYmVndDpudW1iZXJ8c3RyaW5nPTEwLCBlbmR0Om51bWJlcnxzdHJpbmc9MCkge1xyXG4gICAgICAgIGZpbGVzID0gdGhpcy5nZXRfd29yZHNfb2ZfdGZpbGVzKGZpbGVzKVxyXG4gICAgICAgIGlmKHR5cGVvZihiZWd0KT09J251bWJlcicpe1xyXG4gICAgICAgICAgICBiZWd0ID0gbW9tZW50KCkuYWRkKC1iZWd0LCdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodHlwZW9mKGVuZHQpPT0nbnVtYmVyJyl7XHJcbiAgICAgICAgICAgIGVuZHQgPSBtb21lbnQoKS5hZGQoLWVuZHQsJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgc3RhcnREYXRlID0gbmV3IERhdGUoYmVndCk7XHJcbiAgICAgICAgbGV0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmR0KTtcclxuICAgICAgICBsZXQgZGFpbHlXb3JkQ291bnRzOntba2V5OnN0cmluZ106YW55fSA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBkYWlseVdvcmRDb3VudHMgd2l0aCBhbGwgZGF0ZXMgaW4gdGhlIHJhbmdlXHJcbiAgICAgICAgZm9yIChsZXQgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7IGRhdGUgPD0gZW5kRGF0ZTsgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSkpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuICAgICAgICAgICAgZGFpbHlXb3JkQ291bnRzW2RhdGVTdHJdID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3VtIHVwIHRoZSB3b3JkIGNvdW50cyBmb3IgZWFjaCBkYXRlXHJcbiAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZTphbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGxhc3RXb3JkQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgZWFybGllc3REYXRlID0gbmV3IERhdGUoT2JqZWN0LmtleXMoZmlsZSkuc29ydCgpWzBdKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGxhc3RXb3JkQ291bnQgd2l0aCB0aGUgZWFybGllc3QgZGF0ZSdzIHdvcmQgY291bnQgaW4gdGhlIGZpbGVcclxuICAgICAgICAgICAgaWYgKGVhcmxpZXN0RGF0ZSA8IHN0YXJ0RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdFdvcmRDb3VudCA9IGZpbGVbZWFybGllc3REYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpOyBkYXRlIDw9IGVuZERhdGU7IGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDEpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZVN0ciA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUuaGFzT3duUHJvcGVydHkoZGF0ZVN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0V29yZENvdW50ID0gZmlsZVtkYXRlU3RyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhaWx5V29yZENvdW50c1tkYXRlU3RyXSArPSBsYXN0V29yZENvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhaWx5V29yZENvdW50cztcclxuICAgIH1cclxuXHJcbiAgICBkaWZmX3dvcmRzX29mX3RpZmxlcyhkYWlseVdvcmRDb3VudHM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sIGZpcnN0X2FzX3plcm86IGJvb2xlYW4gPSB0cnVlKTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB7XHJcbiAgICAgICAgbGV0IGRhaWx5TmV3V29yZENvdW50czogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xyXG4gICAgICAgIGxldCBwcmV2aW91c1RvdGFsID0gMDtcclxuICAgICAgICBsZXQgZmlyc3QgPSAnJztcclxuICAgIFxyXG4gICAgICAgIGZvciAobGV0IGRhdGUgaW4gZGFpbHlXb3JkQ291bnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChmaXJzdCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGZpcnN0ID0gZGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRvdGFsID0gZGFpbHlXb3JkQ291bnRzW2RhdGVdO1xyXG4gICAgICAgICAgICBkYWlseU5ld1dvcmRDb3VudHNbZGF0ZV0gPSBjdXJyZW50VG90YWwgLSBwcmV2aW91c1RvdGFsO1xyXG4gICAgICAgICAgICBwcmV2aW91c1RvdGFsID0gY3VycmVudFRvdGFsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChmaXJzdF9hc196ZXJvICYmIGZpcnN0ICE9PSAnJykge1xyXG4gICAgICAgICAgICBkYWlseU5ld1dvcmRDb3VudHNbZmlyc3RdID0gMDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gZGFpbHlOZXdXb3JkQ291bnRzO1xyXG4gICAgfVxyXG59IiwgIlxyXG5pbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsbW9tZW50LFxyXG5cdFRBYnN0cmFjdEZpbGUsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHtOQ0VkaXRvcn0gZnJvbSAnLi9OQ0VkaXRvcic7XHJcbmltcG9ydCB7Z2V0X3RwX2Z1bmN9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7IHN0cmluZ3MgfSBmcm9tICcuL3N0cmluZ3MnO1xyXG5pbXBvcnQgeyBvZmYgfSBmcm9tICdwcm9jZXNzJztcclxuaW1wb3J0IHsgbGluayB9IGZyb20gJ2ZzJztcclxuXHJcblxyXG5cclxuY2xhc3MgTm90ZU5vZGUge1xyXG5cdHRmaWxlIDogVEZpbGU7XHJcblx0bm90ZTJpZCA6IHtba2V5OnN0cmluZ106YW55fTtcclxuXHRpZCA6IG51bWJlcjtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih0ZmlsZTpURmlsZSxwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnRmaWxlID0gdGZpbGU7XHJcblx0XHR0aGlzLm5vdGUyaWQgPSB7fTtcclxuXHRcdHRoaXMuaWQgPSAwO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHQvLyBcdThGRDRcdTU2REUgSURYWFhYXHJcblx0Z2V0X2lkKHRmaWxlOlRGaWxlKSB7XHJcblx0XHRpZiAodGZpbGUuYmFzZW5hbWUgaW4gdGhpcy5ub3RlMmlkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLm5vdGUyaWRbdGZpbGUuYmFzZW5hbWVdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5ld0lkID0gYElEJHt0aGlzLmlkLnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKX1gO1xyXG5cdFx0dGhpcy5ub3RlMmlkW3RmaWxlLmJhc2VuYW1lXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdHJldHVybiBuZXdJZDtcclxuXHJcblx0fVxyXG5cclxuXHQvLyBcdThGRDRcdTU2REVJRFhYWFhbXCJ0ZmlsZS5iYXNlbmFtZVwiXVxyXG5cdGdldF9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBpZCA9IHRoaXMuZ2V0X2lkKHRmaWxlKTtcclxuXHRcdHJldHVybiBgJHtpZH0oXCIke3RmaWxlLmJhc2VuYW1lfVwiKWBcclxuXHR9XHJcblxyXG5cdGdldF9tZWhybWFpZF9ub2RlKG5vZGU6c3RyaW5nLGF2YXRhPScnKXtcclxuXHRcdGlmIChub2RlIGluIHRoaXMubm90ZTJpZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5ub3RlMmlkW25vZGVdO1xyXG5cdFx0fVxyXG5cdFx0aWYobm9kZS5zdGFydHNXaXRoKCdzdWJncmFwaCAnKSl7XHJcblx0XHRcdHJldHVybiBub2RlLnNsaWNlKCdzdWJncmFwaCAnLmxlbmd0aClcclxuXHRcdH1cclxuXHRcdGxldCBuZXdJZCA9IGBJRCR7dGhpcy5pZC50b1N0cmluZygpLnBhZFN0YXJ0KDQsICcwJyl9YDtcclxuXHRcdHRoaXMubm90ZTJpZFtub2RlXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdGxldCB0ZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZShub2RlKTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0aWYoYXZhdGEgPT0nJyl7XHJcblx0XHRcdFx0YXZhdGEgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmF0YVxyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBtZXRhID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSxhdmF0YSk7XHJcblx0XHRcdGlmKG1ldGEpe1xyXG5cdFx0XHRcdGlmKG1ldGEuc3RhcnRzV2l0aCgnIycpKXtcclxuXHRcdFx0XHRcdG5vZGUgPSBgIVtbJHt0ZmlsZS5iYXNlbmFtZX0ke21ldGF9fG5vLWhlYWRdXWBcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG5vZGUgPSBtZXRhLnJlcGxhY2UoJ1NFTEYnLGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBgJHtuZXdJZH0oXCIke25vZGV9XCIpYDtcclxuXHR9XHJcblxyXG5cdGdldF9jYW52YXNfbm9kZShub2RlOnN0cmluZyl7XHJcblx0XHRpZiAobm9kZSBpbiB0aGlzLm5vdGUyaWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMubm90ZTJpZFtub2RlXTtcclxuXHRcdH1cclxuXHRcdGxldCBuZXdJZCA9IGBJRCR7dGhpcy5pZC50b1N0cmluZygpLnBhZFN0YXJ0KDQsICcwJyl9YDtcclxuXHRcdHRoaXMubm90ZTJpZFtub2RlXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdHJldHVybiBuZXdJZDtcclxuXHJcblx0fVxyXG5cclxuXHRub3RlczJjbGFzcygpe1xyXG5cdFx0bGV0IG1zZyA9ICdcXG4nO1xyXG5cdFx0Zm9yKGxldCB0ZmlsZSBpbiB0aGlzLm5vdGUyaWQpe1xyXG5cdFx0XHRtc2cgPSBtc2crYFxcdGNsYXNzICR7dGhpcy5ub3RlMmlkW3RmaWxlXX0gaW50ZXJuYWwtbGluaztcXG5gO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZ1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1lcm1haWRHcmFwaHtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0ZWRpdG9yOk5DRWRpdG9yO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMuZWRpdG9yID0gcGx1Z2luLmVkaXRvcjtcclxuXHR9XHJcblxyXG5cdGdldF9ub3RlX25vZGUodGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cdFx0cmV0dXJuIG5vZGU7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9jaGFpbihub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nPC0tPicpe1xyXG5cclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlKGk8aXRlbXMubGVuZ3RoLTEpe1xyXG5cdFx0XHRsZXQgcHJldiA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaV0pO1xyXG5cdFx0XHRsZXQgbmV4dCA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaSsxXSk7XHJcblx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7cHJldn0ke2xpbmV9JHtuZXh0fVxcbmA7XHJcblx0XHRcdGkgPSBpKzE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnK1wiXFx0ZW5kXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0c3ViZ3JhcGhfbGlua3Mobm9kZTpOb3RlTm9kZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGxpbmU9Jy0tPicsdGZpbGVzX2ZpcnN0PWZhbHNlKXtcclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cclxuXHRcdH1cclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGxldCBzaWQgPSBub2RlLmdldF9ub2RlKG5vZGUudGZpbGUpO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRsZXQgaWQgPSBub2RlLmdldF9ub2RlKGl0ZW1zW2ldKTtcclxuXHRcdFx0aWYodGZpbGVzX2ZpcnN0KXtcclxuXHRcdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke2lkfSR7bGluZX0ke3NpZH1cXG5gO1xyXG5cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtzaWR9JHtsaW5lfSR7aWR9XFxuYDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpID0gaSsxO1xyXG5cdFx0fVxyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnK1wiXFx0ZW5kXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0Ly8gW3NyYyxkc3QsaW9dXHJcblx0ZWRnZXNfb2ZfdGZpbGVzKHRmaWxlczpBcnJheTxURmlsZT4sbWVyZ2VfaW5vdXQ9dHJ1ZSl7XHJcblx0XHRsZXQgaW5saW5rczp7W2tleTpzdHJpbmddOkFycmF5PFRGaWxlPn0gPSB7fVxyXG5cdFx0bGV0IG91dGxpbmtzOntba2V5OnN0cmluZ106QXJyYXk8VEZpbGU+fSA9IHt9XHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdG91dGxpbmtzW3RmaWxlcy5pbmRleE9mKHRmaWxlKV0gPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSk7XHJcblx0XHRcdGlubGlua3NbdGZpbGVzLmluZGV4T2YodGZpbGUpXSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLHRydWUpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgZWRnZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0bGV0IGkgPSB0ZmlsZXMuaW5kZXhPZih0ZmlsZSk7XHJcblx0XHRcdGZvcihsZXQgb3V0bGluayBvZiBvdXRsaW5rc1tpXSl7XHJcblx0XHRcdFx0aWYodGZpbGVzLmNvbnRhaW5zKG91dGxpbmspKXtcclxuXHRcdFx0XHRcdGlmKHRmaWxlcy5pbmRleE9mKG91dGxpbmspPD1pKXtjb250aW51ZTt9XHJcblx0XHRcdFx0XHRpZihtZXJnZV9pbm91dCl7XHJcblx0XHRcdFx0XHRcdGlmKGlubGlua3NbaV0uY29udGFpbnMob3V0bGluaykpe1xyXG5cdFx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW3RmaWxlLG91dGxpbmssdHJ1ZV0pO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFt0ZmlsZSxvdXRsaW5rLGZhbHNlXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFt0ZmlsZSxvdXRsaW5rLGZhbHNlXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmb3IobGV0IGlubGluayBvZiBpbmxpbmtzW2ldKXtcclxuXHRcdFx0XHRpZih0ZmlsZXMuY29udGFpbnMoaW5saW5rKSl7XHJcblx0XHRcdFx0XHRpZih0ZmlsZXMuaW5kZXhPZihpbmxpbmspPD1pKXtjb250aW51ZTt9XHJcblx0XHRcdFx0XHRpZihtZXJnZV9pbm91dCl7XHJcblx0XHRcdFx0XHRcdGlmKCFvdXRsaW5rc1tpXS5jb250YWlucyhpbmxpbmspKXtcclxuXHRcdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFtpbmxpbmssdGZpbGUsZmFsc2VdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW2lubGluayx0ZmlsZSxmYWxzZV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGVkZ2VzO1xyXG5cdH1cclxuXHJcblx0c3ViZ3JhcGhfY3Jvc3Mobm9kZTpOb3RlTm9kZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGxpbmU9Jy0tPicsdGZpbGVzX2ZpcnN0PWZhbHNlKXtcclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IGVkZ2VzID0gdGhpcy5lZGdlc19vZl90ZmlsZXModGZpbGVzKTtcclxuXHRcdGZvcihsZXQgZWRnZSBvZiBlZGdlcyl7XHJcblx0XHRcdGxldCBzaWQgPSBub2RlLmdldF9ub2RlKGVkZ2VbMF0gYXMgYW55KTtcclxuXHRcdFx0bGV0IGRpZCA9IG5vZGUuZ2V0X25vZGUoZWRnZVsxXSBhcyBhbnkpO1xyXG5cdFx0XHRpZihlZGdlWzJdKXtcclxuXHRcdFx0XHRtc2cgPSBtc2cgKyBgJHtzdGFifSR7c2lkfTwtLi0+JHtkaWR9XFxuYDtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bXNnID0gbXNnICsgYCR7c3RhYn0ke3NpZH0tLi0+JHtkaWR9XFxuYDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRnZXRfZmxvd2NoYXJ0KHRmaWxlOlRGaWxlLE49MixjX2NoYWluPScjRjA1NDU0JyxjX2lubGluaz0nIzc3NkI1RCcsY19vdXRsaW5rPScjMjIyODMxJyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRsZXQgY2hhaW4gPSBuYy5jaGFpbi5nZXRfY2hhaW4odGZpbGUsTixOKVxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9jaGFpbihub2RlLGNoYWluLCdcdTdCMTRcdThCQjBcdTk0RkUnKTtcclxuXHJcblx0XHRsZXQgaW5saW5rcyA9IG5jLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLHRydWUpLmZpbHRlcigoeDpURmlsZSk9PiFjaGFpbi5jb250YWlucyh4KSk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSBuYy5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSkuZmlsdGVyKCh4OlRGaWxlKT0+IWNoYWluLmNvbnRhaW5zKHgpKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsaW5saW5rcywnXHU1MTY1XHU5NEZFJywnLS0+Jyx0cnVlKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsb3V0bGlua3MsJ1x1NTFGQVx1OTRGRScsJy0tPicpO1xyXG5cclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0J2NsYXNzRGVmIFx1N0IxNFx1OEJCMFx1OTRGRUMgZmlsbDonK2NfY2hhaW4sXHJcblx0XHRcdCdjbGFzc0RlZiBcdTUxNjVcdTk0RkVDIGZpbGw6JytjX2lubGluayxcclxuXHRcdFx0J2NsYXNzRGVmIFx1NTFGQVx1OTRGRUMgZmlsbDonK2Nfb3V0bGluayxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0J2NsYXNzIFx1N0IxNFx1OEJCMFx1OTRGRSBcdTdCMTRcdThCQjBcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTE2NVx1OTRGRSBcdTUxNjVcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTFGQVx1OTRGRSBcdTUxRkFcdTk0RkVDJyxcclxuXHRcdFx0JydcclxuXHRcdF0uam9pbignXFxuJylcclxuXHRcdG1zZyA9IG1zZytcIlxcYFxcYFxcYFwiO1xyXG5cdFx0bXNnID0gbXNnLnJlcGxhY2UoXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKHRmaWxlKX0gaW50ZXJuYWwtbGluaztgLFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9mb2xkZXIodGZpbGU6VEZpbGUsc3ViZ3JhcGg9J0ZvbGRlcicsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9ub3RlY2hhaW4odGZpbGU6VEZpbGUsTj0xMCxzdWJncmFwaD0nTm90ZUNoYWluJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGZpbGVzID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2NoYWluKHRmaWxlLE4sTik7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9jcm9zcyhhbmNob3I6VEZpbGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlc1swXSx0aGlzLnBsdWdpbik7XHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2Nyb3NzKG5vZGUsdGZpbGVzLHN1YmdyYXBoKTtcclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0YGNsYXNzRGVmICR7c3ViZ3JhcGh9QyBmaWxsOiR7Y29sb3J9YCxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0YGNsYXNzICR7c3ViZ3JhcGh9ICR7c3ViZ3JhcGh9Q2AsXHJcblx0XHRcdCcnXHJcblx0XHRdLmpvaW4oJ1xcbicpXHJcblx0XHRtc2cgPSBtc2crXCJcXGBcXGBcXGBcIjtcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZChhbmNob3IpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKGFuY2hvcil9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9zdWJncmFoX25hbWVzKGdyb3VwX25hbWU6c3RyaW5nLHRmaWxlczpBcnJheTxURmlsZT4sbmFtZT0nZ3JvdXAnKXtcclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cdFx0bGV0IGl0ZW1zOntba2V5OnN0cmluZ106c3RyaW5nfSA9IHt9XHJcblx0XHRmb3IobGV0IGNmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdGxldCBjZ3JvdXAgPSBuYy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGNmaWxlLG5hbWUpXHJcblx0XHRcdGlmKGNncm91cCAmJiBBcnJheS5pc0FycmF5KGNncm91cCkpe1xyXG5cdFx0XHRcdGZvcihsZXQgY2cgb2YgY2dyb3VwKXtcclxuXHRcdFx0XHRcdGxldCB0bXAgPSBjZy5zcGxpdCgnLycpO1xyXG5cdFx0XHRcdFx0aWYodG1wWzBdPT1ncm91cF9uYW1lKXtcclxuXHRcdFx0XHRcdFx0aWYodG1wLmxlbmd0aD09MSl7XHJcblx0XHRcdFx0XHRcdFx0aXRlbXNbdGZpbGVzLmluZGV4T2YoY2ZpbGUpXSA9ICcnO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRpdGVtc1t0ZmlsZXMuaW5kZXhPZihjZmlsZSldID0gdG1wWzFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXNcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9ncm91cHMoYW5jaG9yOlRGaWxlLG5hbWU9J2dyb3VwJyl7XHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHJcblx0XHRsZXQgdGZpbGVzID0gbmMuY2hhaW4uZ2V0X2Jyb3RoZXJzKGFuY2hvcik7XHJcblx0XHR0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfZ3JvdXBfbGlua3ModGZpbGVzLDEpXHJcblxyXG5cdFx0bGV0IG5vZGUgPSBuYy5tZXJtYWlkLmdldF9ub3RlX25vZGUoYW5jaG9yKTtcclxuXHJcblx0XHRcclxuXHRcdGxldCBncm91cCA9IG5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoYW5jaG9yLG5hbWUpO1xyXG5cdFx0aWYoIWdyb3VwfHwhQXJyYXkuaXNBcnJheShncm91cCkpe3JldHVybiBbXTt9XHJcblx0XHRsZXQgcmVzOkFycmF5PHN0cmluZz4gPSBbXTtcclxuXHRcdGZvcihsZXQgZyBvZiBncm91cCl7XHJcblx0XHRcdGcgPSBnLnNwbGl0KCcvJylbMF1cclxuXHRcdFx0bGV0IGl0ZW1zID0gdGhpcy5nZXRfc3ViZ3JhaF9uYW1lcyhnLHRmaWxlcyxuYW1lKTtcclxuXHRcdFx0bGV0IHN1YnMgPSBuZXcgU2V0KE9iamVjdC52YWx1ZXMoaXRlbXMpKVxyXG5cclxuXHRcdFx0bGV0IG1zZyA9IGBcXGBcXGBcXGBtZXJtYWlkXFxuLS0tXFxudGl0bGU6ICR7Z31cXG4tLS1cXG5mbG93Y2hhcnQgVERcXG5gO1xyXG5cdFx0XHRmb3IobGV0IHN1YiBvZiBzdWJzKXtcclxuXHRcdFx0XHRpZihzdWI9PScnKXtcclxuXHRcdFx0XHRcdGZvcihsZXQgaWR4IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0aWYoaXRlbXNbaWR4XT09c3ViKXtcclxuXHRcdFx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcbicrbm9kZS5nZXRfbm9kZSh0ZmlsZXNbaWR4XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG1zZyA9IG1zZysnXFxuc3ViZ3JhcGggJytzdWIrJ1xcbidcclxuXHRcdFx0XHRcdGZvcihsZXQgaWR4IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0aWYoaXRlbXNbaWR4XT09c3ViKXtcclxuXHRcdFx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcblxcdCcrbm9kZS5nZXRfbm9kZSh0ZmlsZXNbaWR4XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcbmVuZCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bXNnID0gbXNnKydcXG4nK3RoaXMuc3ViZ3JhcGhfY3Jvc3Mobm9kZSxPYmplY3Qua2V5cyhpdGVtcykubWFwKHg9PnRmaWxlc1t4XSkpO1xyXG5cdFx0XHRtc2cgPSBtc2crJ1xcbicrbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXG5cXGBcXGBcXGBcIjtcclxuXHRcdFx0cmVzLnB1c2gobXNnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfcmVsYXRpb25zaGlwX2dyYXBoKHRmaWxlOlRGaWxlLCBOPTEsIGtleT0nbGluaycsc2hvd19hbGxfbm9kZT10cnVlKSB7XHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdGxldCBtc2cgPSBcImBgYG1lcm1haWRcXG5mbG93Y2hhcnQgVERcXG5cIjtcclxuXHJcblx0XHQvLyBcdTgzQjdcdTUzRDYgTiBcdTVDNDJcdTk0RkVcdTYzQTVcdTc2ODRcdTdCMTRcdThCQjBcclxuXHRcdGxldCB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfZ3JvdXBfbGlua3MoW3RmaWxlXSwgTik7XHJcblx0XHRpZihzaG93X2FsbF9ub2RlKXtcclxuXHRcdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRcdG1zZyArPWAke25vZGUuZ2V0X25vZGUodGZpbGUpfVxcbmBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBcdTc1MjhcdTRFOEVcdThEREZcdThFMkFcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTdCMTRcdThCQjBcclxuXHRcdGxldCBwcm9jZXNzZWRGaWxlcyA9IG5ldyBTZXQ8VEZpbGU+KCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgY3VycmVudEZpbGUgb2YgdGZpbGVzKSB7XHJcblx0XHRcdGlmIChwcm9jZXNzZWRGaWxlcy5oYXMoY3VycmVudEZpbGUpKSBjb250aW51ZTsgLy8gXHU1OTgyXHU2NzlDXHU1REYyXHU1OTA0XHU3NDA2XHVGRjBDXHU4REYzXHU4RkM3XHJcblx0XHRcdHByb2Nlc3NlZEZpbGVzLmFkZChjdXJyZW50RmlsZSk7IC8vIFx1NjgwN1x1OEJCMFx1NEUzQVx1NURGMlx1NTkwNFx1NzQwNlxyXG5cclxuXHRcdFx0bGV0IGxpbmtzID0gbmMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihjdXJyZW50RmlsZSwga2V5KTtcclxuXHRcdFx0aWYgKGxpbmtzKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgW3JlbGF0aW9uLCBsaW5rZWROb3RlXSBvZiBPYmplY3QuZW50cmllcyhsaW5rcykpIHtcclxuXHRcdFx0XHRcdGlmKGxpbmtlZE5vdGUgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0XHRcdGZvcihsZXQgaXRlbSBvZiBsaW5rZWROb3RlKXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbGlua2VkVEZpbGUgPSBuYy5jaGFpbi5nZXRfdGZpbGUoaXRlbSBhcyBzdHJpbmcpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChsaW5rZWRURmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRtc2cgKz0gYFxcdCR7bm9kZS5nZXRfbm9kZShjdXJyZW50RmlsZSl9IC0tPnwke3JlbGF0aW9ufXwgJHtub2RlLmdldF9ub2RlKGxpbmtlZFRGaWxlKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGxldCBsaW5rZWRURmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShsaW5rZWROb3RlIGFzIHN0cmluZyk7XHJcblx0XHRcdFx0XHRcdGlmIChsaW5rZWRURmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0bXNnICs9IGBcXHQke25vZGUuZ2V0X25vZGUoY3VycmVudEZpbGUpfSAtLT58JHtyZWxhdGlvbn18ICR7bm9kZS5nZXRfbm9kZShsaW5rZWRURmlsZSl9XFxuYDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bXNnID0gbXNnICsgbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0bXNnICs9IFwiYGBgXCI7XHJcblx0XHRsZXQgY19hbmNob3I9JyM0MEE1NzgnXHJcblx0XHRtc2cgPSBtc2cucmVwbGFjZShcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfVxcbmNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRnZXRfbWVocm1haWRfZ3JhcGgodGZpbGU6VEZpbGUsIE49MSwga2V5PSdtZXJtYWlkJyxjX2FuY2hvcj0nI2Q0YzRiNycsZmllbGQ9J2F2YXRhJykge1xyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdGxldCBtc2cgPSBcImBgYG1laHJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblxyXG5cdFx0Ly8gXHU4M0I3XHU1M0Q2IE4gXHU1QzQyXHU5NEZFXHU2M0E1XHU3Njg0XHU3QjE0XHU4QkIwXHJcblx0XHRsZXQgdGZpbGVzO1xyXG5cdFx0aWYoTj09LTEpe1xyXG5cdFx0XHR0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYnJvdGhlcnModGZpbGUpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHRmaWxlcyA9IG5jLmNoYWluLmdldF9ncm91cF9saW5rcyhbdGZpbGVdLCBOKTtcclxuXHRcdH1cclxuXHRcdHRmaWxlcyA9IG5jLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlcykgYXMgVEZpbGVbXTtcclxuXHJcblx0XHRmb3IgKGxldCBjdXJyZW50RmlsZSBvZiB0ZmlsZXMpIHtcclxuXHRcdFx0bGV0IHNyYyA9IGBbWyR7Y3VycmVudEZpbGUuYmFzZW5hbWV9XV1gXHJcblx0XHRcdGxldCBsaW5rcyA9IG5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoY3VycmVudEZpbGUsIGtleSk7XHJcblx0XHRcdGlmIChsaW5rcyAmJiBBcnJheS5pc0FycmF5KGxpbmtzKSkge1xyXG5cdFx0XHRcdGZvcihsZXQgbGluayBvZiBsaW5rcyl7XHJcblx0XHRcdFx0XHRpZihsaW5rWydlZGdlJ10hPW51bGwgJiYgbGlua1snbm9kZSddIT1udWxsKXtcclxuXHRcdFx0XHRcdFx0bGV0IGNlZGdlID0gbGlua1snZWRnZSddO1xyXG5cdFx0XHRcdFx0XHRsZXQgY25vZGUgPSBsaW5rWydub2RlJ107XHJcblx0XHRcdFx0XHRcdGlmKGNlZGdlPT0nJyl7XHJcblx0XHRcdFx0XHRcdFx0Y2VkZ2UgPSAnJ1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRjZWRnZSA9IGB8XCIke2NlZGdlfVwifGBcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRsZXQgbGluZSA9ICctLT4nO1xyXG5cdFx0XHRcdFx0XHRpZihsaW5rWydsaW5lJ10pe1xyXG5cdFx0XHRcdFx0XHRcdGxpbmUgPSBsaW5rWydsaW5lJ11cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZihsaW5lWzBdPT0nPCcgJiYgbGluZVtsaW5lLmxlbmd0aC0xXSE9Jz4nKXtcclxuXHRcdFx0XHRcdFx0XHRsaW5lID0gbGluZS5zbGljZSgxKSsnPidcclxuXHRcdFx0XHRcdFx0XHRpZihjbm9kZSBpbnN0YW5jZW9mIEFycmF5KXtcclxuXHRcdFx0XHRcdFx0XHRcdGZvcihsZXQgaXRlbSBvZiBjbm9kZSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKGl0ZW0sZmllbGQpfSAke2xpbmV9ICR7Y2VkZ2V9ICR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShzcmMsZmllbGQpfVxcbmA7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0XHRtc2cgKz0gYCR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShjbm9kZSxmaWVsZCl9ICR7bGluZX0gJHtjZWRnZX0gJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9XFxuYDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGlmKGNub2RlIGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yKGxldCBpdGVtIG9mIGNub2RlKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bXNnICs9IGAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjLGZpZWxkKX0gJHtsaW5lfSAke2NlZGdlfSAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoaXRlbSxmaWVsZCl9XFxuYDtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9ICR7bGluZX0gJHtjZWRnZX0gJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKGNub2RlLGZpZWxkKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGlmKGxpbmtbJ2dyb3VwJ10pe1xyXG5cdFx0XHRcdFx0XHRcdG1zZyArPSBgc3ViZ3JhcGggJHtsaW5rWydncm91cCddfVxcblxcdCR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShzcmMsZmllbGQpfVxcbmVuZFxcbmBcclxuXHRcdFx0XHRcdFx0XHRpZihsaW5rWydjb2xvciddKXtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgY2xhc3NEZWYgJHtsaW5rWydncm91cCddfUNsYXNzIGZpbGw6JHtsaW5rWydjb2xvciddfVxcbmBcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgY2xhc3MgJHtsaW5rWydncm91cCddfSAke2xpbmtbJ2dyb3VwJ119Q2xhc3NcXG5gXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgc3JjID0gYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWBcclxuXHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyl9XFxuYFxyXG5cdFx0aWYoY19hbmNob3Ipe1xyXG5cdFx0XHRtc2cgKz0gYGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9XFxuY2xhc3MgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyl9IEFuY2hvcjtcXG5gXHJcblx0XHR9XHJcblx0XHRtc2cgKz0gXCJgYGBcIjtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVjaGFydEdyYXBoe1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5lZGl0b3IgPSBwbHVnaW4uZWRpdG9yO1xyXG5cdH1cclxuXHJcblxyXG5cdHN1YmdyYXBoX2NoYWluKG5vZGU6Tm90ZU5vZGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxsaW5lPSc8LS0+Jyl7XHJcblxyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgtMSl7XHJcblx0XHRcdGxldCBwcmV2ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpXSk7XHJcblx0XHRcdGxldCBuZXh0ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpKzFdKTtcclxuXHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtwcmV2fSR7bGluZX0ke25leHR9XFxuYDtcclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdH1cclxuXHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9saW5rcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IHNpZCA9IG5vZGUuZ2V0X25vZGUobm9kZS50ZmlsZSk7XHJcblx0XHR3aGlsZShpPGl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdGxldCBpZCA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaV0pO1xyXG5cdFx0XHRpZih0ZmlsZXNfZmlyc3Qpe1xyXG5cdFx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7aWR9JHtsaW5lfSR7c2lkfVxcbmA7XHJcblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke3NpZH0ke2xpbmV9JHtpZH1cXG5gO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkgPSBpKzE7XHJcblx0XHR9XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9jcm9zcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRsZXQgc2lkID0gbm9kZS5nZXRfbm9kZSh0ZmlsZSk7XHJcblx0XHRcdGxldCBvbGlua3MgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSk7XHJcblx0XHRcdGZvcihsZXQgb2xpbmsgb2Ygb2xpbmtzKXtcclxuXHRcdFx0XHRpZihvbGluaz09dGZpbGUpe2NvbnRpbnVlfVxyXG5cdFx0XHRcdGlmKHRmaWxlcy5jb250YWlucyhvbGluaykpe1xyXG5cdFx0XHRcdFx0bGV0IGlkID0gbm9kZS5nZXRfbm9kZShvbGluayk7XHJcblx0XHRcdFx0XHRtc2cgPSBtc2cgKyBgJHtzdGFifSR7c2lkfSR7bGluZX0ke2lkfVxcbmA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcdGVuZFxcblwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9mbG93Y2hhcnQodGZpbGU6VEZpbGUsTj0yLGNfY2hhaW49JyNGMDU0NTQnLGNfaW5saW5rPScjNzc2QjVEJyxjX291dGxpbms9JyMyMjI4MzEnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblx0XHRcclxuXHJcblx0XHRsZXQgbm9kZSA9IG5ldyBOb3RlTm9kZSh0ZmlsZSx0aGlzLnBsdWdpbik7XHJcblxyXG5cdFx0bGV0IG5jID0gdGhpcy5wbHVnaW47XHJcblxyXG5cdFx0bGV0IG1zZyA9IFwiXFxgXFxgXFxgbWVybWFpZFxcbmZsb3djaGFydCBURFxcblwiO1xyXG5cdFx0bGV0IGNoYWluID0gbmMuY2hhaW4uZ2V0X2NoYWluKHRmaWxlLE4sTilcclxuXHRcdG1zZyA9IG1zZyArIHRoaXMuc3ViZ3JhcGhfY2hhaW4obm9kZSxjaGFpbiwnXHU3QjE0XHU4QkIwXHU5NEZFJyk7XHJcblxyXG5cdFx0bGV0IGlubGlua3MgPSBuYy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSx0cnVlKS5maWx0ZXIoKHg6VEZpbGUpPT4hY2hhaW4uY29udGFpbnMoeCkpO1xyXG5cdFx0bGV0IG91dGxpbmtzID0gbmMuY2hhaW4uZ2V0X291dGxpbmtzKHRmaWxlLHRydWUpLmZpbHRlcigoeDpURmlsZSk9PiFjaGFpbi5jb250YWlucyh4KSk7XHJcblxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9saW5rcyhub2RlLGlubGlua3MsJ1x1NTE2NVx1OTRGRScsJy0tPicsdHJ1ZSk7XHJcblxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9saW5rcyhub2RlLG91dGxpbmtzLCdcdTUxRkFcdTk0RkUnLCctLT4nKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyBub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRtc2cgPSBtc2cgKyBbXHJcblx0XHRcdCdjbGFzc0RlZiBcdTdCMTRcdThCQjBcdTk0RkVDIGZpbGw6JytjX2NoYWluLFxyXG5cdFx0XHQnY2xhc3NEZWYgXHU1MTY1XHU5NEZFQyBmaWxsOicrY19pbmxpbmssXHJcblx0XHRcdCdjbGFzc0RlZiBcdTUxRkFcdTk0RkVDIGZpbGw6JytjX291dGxpbmssXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfWAsXHJcblx0XHRcdCdjbGFzcyBcdTdCMTRcdThCQjBcdTk0RkUgXHU3QjE0XHU4QkIwXHU5NEZFQycsXHJcblx0XHRcdCdjbGFzcyBcdTUxNjVcdTk0RkUgXHU1MTY1XHU5NEZFQycsXHJcblx0XHRcdCdjbGFzcyBcdTUxRkFcdTk0RkUgXHU1MUZBXHU5NEZFQycsXHJcblx0XHRcdCcnXHJcblx0XHRdLmpvaW4oJ1xcbicpXHJcblx0XHRtc2cgPSBtc2crXCJcXGBcXGBcXGBcIjtcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IGludGVybmFsLWxpbms7YCxcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfZm9sZGVyKHRmaWxlOlRGaWxlLHN1YmdyYXBoPSdGb2xkZXInLGNvbG9yPScjRjA1NDU0JyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB0ZmlsZXMgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfYnJvdGhlcnModGZpbGUpO1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvd2NoYXJ0X2Nyb3NzKHRmaWxlLHRmaWxlcyxzdWJncmFwaCxjb2xvcixjX2FuY2hvcik7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfbm90ZWNoYWluKHRmaWxlOlRGaWxlLE49MTAsc3ViZ3JhcGg9J05vdGVDaGFpbicsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9jaGFpbih0ZmlsZSxOLE4pO1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvd2NoYXJ0X2Nyb3NzKHRmaWxlLHRmaWxlcyxzdWJncmFwaCxjb2xvcixjX2FuY2hvcik7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfY3Jvc3MoYW5jaG9yOlRGaWxlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRsZXQgbm9kZSA9IG5ldyBOb3RlTm9kZSh0ZmlsZXNbMF0sdGhpcy5wbHVnaW4pO1xyXG5cdFx0bGV0IG1zZyA9IFwiXFxgXFxgXFxgbWVybWFpZFxcbmZsb3djaGFydCBURFxcblwiO1xyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9jcm9zcyhub2RlLHRmaWxlcyxzdWJncmFwaCk7XHJcblx0XHRtc2cgPSBtc2cgKyBub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRtc2cgPSBtc2cgKyBbXHJcblx0XHRcdGBjbGFzc0RlZiAke3N1YmdyYXBofUMgZmlsbDoke2NvbG9yfWAsXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfWAsXHJcblx0XHRcdGBjbGFzcyAke3N1YmdyYXBofSAke3N1YmdyYXBofUNgLFxyXG5cdFx0XHQnJ1xyXG5cdFx0XS5qb2luKCdcXG4nKVxyXG5cdFx0bXNnID0gbXNnK1wiXFxgXFxgXFxgXCI7XHJcblx0XHRtc2cgPSBtc2cucmVwbGFjZShcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQoYW5jaG9yKX0gaW50ZXJuYWwtbGluaztgLFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZChhbmNob3IpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JhcGh7XHJcblx0cGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRhcHA6QXBwO1xyXG5cdGVkaXRvcjpOQ0VkaXRvcjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbikge1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IHBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLmVkaXRvciA9IHBsdWdpbi5lZGl0b3I7XHJcblx0fVxyXG5cclxuXHRnZW5fcmFuZG9tX3N0cmluZyhsZW5ndGg6bnVtYmVyKSB7XHJcblx0XHRsZXQgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcblx0XHRsZXQgcmFuZG9tU3RyaW5nID0gJyc7XHJcblx0XHRcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdCAgbGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVycy5sZW5ndGgpO1xyXG5cdFx0ICByYW5kb21TdHJpbmcgKz0gY2hhcmFjdGVycy5jaGFyQXQocmFuZG9tSW5kZXgpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRyZXR1cm4gcmFuZG9tU3RyaW5nO1xyXG5cdCAgfVxyXG5cclxuXHRuZXdfbm90ZV9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdHJldHVybiBub2RlO1xyXG5cdH1cclxuXHJcblx0Z2VuX25vZGUoTk46Tm90ZU5vZGUsdGZpbGU6VEFic3RyYWN0RmlsZXxzdHJpbmcseD0wLHk9MCx3aWR0aD00MDAsaGVpZ2h0PTQwMCl7XHJcblx0XHRsZXQgcnNwOntba2V5OnN0cmluZ106YW55fSA9IHt9O1xyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSA9PSAnc3RyaW5nJyl7XHJcblx0XHRcdHJzcFsndHlwZSddID0gJ3RleHQnO1xyXG5cdFx0XHRyc3BbJ3RleHQnXSA9IHRmaWxlO1xyXG5cdFx0XHRyc3BbJ2lkJ10gPSBOTi5nZXRfY2FudmFzX25vZGUocnNwWyd0ZXh0J10pO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJzcFsndHlwZSddID0gJ2ZpbGUnO1xyXG5cdFx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpe1xyXG5cdFx0XHRcdHJzcFsnZmlsZSddID0gdGZpbGUucGF0aCsnLycrdGZpbGUubmFtZSsnLm1kJztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cnNwWydmaWxlJ10gPSB0ZmlsZS5wYXRoO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJzcFsnaWQnXSA9IE5OLmdldF9jYW52YXNfbm9kZShyc3BbJ2ZpbGUnXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cnNwWyd4J10gPSB4O1xyXG5cdFx0cnNwWyd5J10gPSB5O1xyXG5cdFx0cnNwWydoZWlnaHQnXSA9IGhlaWdodDtcclxuXHRcdHJzcFsnd2lkdGgnXSA9IHdpZHRoO1xyXG5cclxuXHRcdHJldHVybiByc3A7XHJcblx0fVxyXG5cclxuXHRyY19vZl9zZXF1ZW5jZShpOm51bWJlcixyOm51bWJlcixjOm51bWJlcil7XHJcblx0XHQvKlxyXG5cdFx0XHU1OTgyIHIgXHU4ODRDIGMgXHU1MjE3XHU2MzkyXHU1RThGXHVGRjBDXHU3QjJDIGkgXHU0RTJBXHU1MzYxXHU3MjQ3XHU1QkY5XHU1RTk0XHU3Njg0XHU4ODRDXHU1MjE3XHU1M0Y3XHU2NjJGXHU1OTFBXHU1QzExXHJcblx0XHQqL1xyXG5cdFx0bGV0IHJvdyA9IE1hdGguZmxvb3IoKGkgLSAxKSAvIGMpICsgMTtcclxuXHRcdGxldCBjb2wgPSByb3cgJSAyID09PSAxID8gKGkgLSAxKSAlIGMgKyAxIDogYyAtICgoaSAtIDEpICUgYyk7XHJcblx0XHRyZXR1cm4gW3JvdywgY29sXTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG5vdGVfdG9fY2FudmFzKHRmaWxlOlRGaWxlLG5yb3c9MSxuY29sPTEsd2lkdGg9NDAwLGhlaWdodD00MDAsd21hcmluPTEwMCxobWFyZ2luPTEwMCx3cml0ZT10cnVlKXtcclxuXHRcdGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQodGZpbGUpO1xyXG5cdFx0bGV0IHRpdGxlcyA9IFsuLi5jb250ZW50Lm1hdGNoQWxsKC9eKCMrKVxccysoLispL2dtKV07IC8vIFx1NTMzOVx1OTE0RFx1NjI0MFx1NjcwOVx1NjgwN1x1OTg5OFxyXG5cclxuXHRcdGlmKG5yb3cqbmNvbDx0aXRsZXMubGVuZ3RoKXtcclxuXHRcdFx0bmNvbCA9IE1hdGguY2VpbCh0aXRsZXMubGVuZ3RoL25yb3cpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBub2RlcyA9IFtdO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IE5OID0gdGhpcy5uZXdfbm90ZV9ub2RlKHRmaWxlKTtcclxuXHRcdGZvcihsZXQgbWF0Y2ggb2YgdGl0bGVzKXtcclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdFx0bGV0IHRpdGxlID0gYCFbWyR7dGZpbGUuYmFzZW5hbWV9IyR7bWF0Y2hbMl19XV1gO1xyXG5cdFx0XHRsZXQgcG9zID0gdGhpcy5yY19vZl9zZXF1ZW5jZShpLCBucm93LCBuY29sKTtcclxuXHRcdFx0bGV0IG5vZGUgPSB0aGlzLmdlbl9ub2RlKFxyXG5cdFx0XHRcdE5OPU5OLFxyXG5cdFx0XHRcdHRpdGxlLFxyXG5cdFx0XHRcdHBvc1sxXSood2lkdGgrd21hcmluKSxcclxuXHRcdFx0XHRwb3NbMF0qKGhlaWdodCtobWFyZ2luKSxcclxuXHRcdFx0XHR3aWR0aD13aWR0aCxcclxuXHRcdFx0XHRoZWlnaHQ9aGVpZ2h0XHJcblx0XHRcdClcclxuXHRcdFx0bm9kZXMucHVzaChub2RlKTtcclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSB7XHJcblx0XHRcdFwibm9kZXNcIjpub2RlcyxcclxuXHRcdFx0XCJlZGdlc1wiOltdXHJcblx0XHR9XHJcblx0XHRpZih3cml0ZSl7XHJcblx0XHRcdGxldCBwYXRoID0gdGhpcy5wYXRoX21kMmNhbnZhcyh0ZmlsZSk7XHJcblx0XHRcdGF3YWl0IHRoaXMud3JpdGVfY2FudmFzX2ZpbGUocmVzLHBhdGgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHdyaXRlX2NhbnZhc19maWxlKGNhbnZhczp7fSxwYXRoOnN0cmluZyl7XHJcblx0XHRsZXQgbXNnID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTtcclxuXHRcdGxldCBjYW52YXNGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcclxuXHRcdGlmIChjYW52YXNGaWxlKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoY2FudmFzRmlsZSBhcyBURmlsZSwgbXNnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NzUzQlx1NUUwM1x1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOFx1RkYwQ1x1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlx1NUU3Nlx1NTE5OVx1NTE2NVx1NTE4NVx1NUJCOVxyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY3JlYXRlKHBhdGgsIG1zZyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwYXRoX21kMmNhbnZhcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRyZXR1cm4gdGZpbGUucGF0aC5yZXBsYWNlKCcubWQnLCcuY2FudmFzJylcclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgXHJcblx0QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFBsdWdpblxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSAnLi4vbWFpbic7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOQ1NldHRpbmdzIHtcclxuXHRmaWVsZF9vZl9kaXNwbGF5X3RleHQ6c3RyaW5nO1xyXG5cdGZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdDpzdHJpbmc7XHJcblx0ZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcjpzdHJpbmc7XHJcblx0UHJldkNoYWluOnN0cmluZztcclxuXHROZXh0Q2hhaW46c3RyaW5nO1xyXG5cdGF1dG9fbm90ZWNoYWluOmJvb2xlYW47XHJcblx0bm90aWNlX3doaWxlX21vZGlmeV9jaGFpbjpib29sZWFuO1xyXG5cdHJlZnJlc2hEYXRhVmlldzpib29sZWFuO1xyXG5cdHJlZnJlc2hUYXNrczpib29sZWFuLFxyXG5cdGlzU29ydEZpbGVFeHBsb3Jlcjpib29sZWFuLFxyXG5cdGlzRm9sZGVyRmlyc3Q6Ym9vbGVhbixcclxuXHRzdWdnZXN0ZXJOb3Rlc01vZGU6c3RyaW5nLFxyXG5cdHdvcmRjb3V0OmJvb2xlYW4sXHJcblx0d29yZGNvdW50eGZvbGRlcjpzdHJpbmcsXHJcblx0bW9kYWxfZGVmYXVsdF93aWR0aDogbnVtYmVyLFxyXG4gICAgbW9kYWxfZGVmYXVsdF9oZWlnaHQ6IG51bWJlcixcclxuXHRhdmF0YTpzdHJpbmcsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBOQ1NldHRpbmdzID0ge1xyXG5cdFByZXZDaGFpbiA6IFwiMTBcIixcclxuXHROZXh0Q2hhaW4gOiBcIjEwXCIsXHJcblx0ZmllbGRfb2ZfZGlzcGxheV90ZXh0OiAnbm90ZWNoYWluLmRpc3BsYXknLFxyXG5cdGZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdDogJ25vdGVjaGFpbi5sZXZlbCcsXHJcblx0ZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcjonbm90ZWNoYWluLnN0eWxlJyxcclxuXHRhdXRvX25vdGVjaGFpbiA6IGZhbHNlLFxyXG5cdG5vdGljZV93aGlsZV9tb2RpZnlfY2hhaW46ZmFsc2UsXHJcblx0cmVmcmVzaERhdGFWaWV3IDogdHJ1ZSxcclxuXHRyZWZyZXNoVGFza3MgOiB0cnVlLFxyXG5cdGlzU29ydEZpbGVFeHBsb3JlciA6IHRydWUsXHJcblx0aXNGb2xkZXJGaXJzdCA6IHRydWUsXHJcblx0c3VnZ2VzdGVyTm90ZXNNb2RlOicnLFxyXG5cdHdvcmRjb3V0OnRydWUsXHJcblx0d29yZGNvdW50eGZvbGRlcjonJyxcclxuXHRtb2RhbF9kZWZhdWx0X3dpZHRoOiA4MDAsXHJcbiAgICBtb2RhbF9kZWZhdWx0X2hlaWdodDogNjAwLFxyXG5cdGF2YXRhOidhdmF0YScsXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTkNTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE5vdGVDaGFpblBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfaXNTb3J0RmlsZUV4cGxvcmVyKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTb3J0RmlsZUV4cGxvcmVyKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NvcnRGaWxlRXhwbG9yZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfaXNGb2xkZXJGaXJzdClcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlzRm9sZGVyRmlyc3QpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzRm9sZGVyRmlyc3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfUHJldkNoYWluKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLlByZXZDaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfc3VnZ2VzdGVyTm90ZXNNb2RlKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX2dldF9icm90aGVycycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2dldF9icm90aGVycylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX3VuY2xlX25vdGVzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fdW5jbGVfbm90ZXMpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9ub3RlY2hhaW4nLHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9ub3RlY2hhaW4pXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9zYW1lX2ZvbGRlcicsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3NhbWVfZm9sZGVyKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1faW5saW5rc19vdXRsaW5rcycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlua3Nfb3V0bGlua3MpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9pbmxpbnMnLHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9pbmxpbnMpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9vdXRsaW5rcycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX291dGxpbmtzKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fYWxsX25vZXMnLHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9hbGxfbm9lcylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX3JlY2VudCcsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3JlY2VudClcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcnLCcnKVxyXG5cclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VnZ2VzdGVyTm90ZXNNb2RlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN1Z2dlc3Rlck5vdGVzTW9kZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfTmV4dENoYWluKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLk5leHRDaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkgIFxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19hdXRvX25vdGVjaGFpbilcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9fbm90ZWNoYWluKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvX25vdGVjaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2Rpc3BsYXlfdGV4dClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLnNldF9kaXNwbGF5X3RleHQoKVxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfY29uZmx1ZW5jZV90YWJfZm9ybWF0KVxyXG5cdFx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5leHBsb3Jlci5zZXRfZGlzcGxheV90ZXh0KClcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX2ZpZWxkX29mX2JhY2tncm91bmRfY29sb3IpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2JhY2tncm91bmRfY29sb3IpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc2V0X2ZpbGVpdGVtX3N0eWxlKClcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSkpO1xyXG5cclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkgIFxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkgIFxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19yZWZyZXNoRGF0YVZpZXcpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19yZWZyZXNoVGFza3MpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoVGFza3MpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hUYXNrcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfd29yZGNvdXQpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291dClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdXQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLndvcmRjb3V0LnJlZ2lzdGVyKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ193b3JkY291dF94Zm9sZGVyKVxyXG5cdFx0XHRcdC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291bnR4Zm9sZGVyKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291bnR4Zm9sZGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19hdmF0YSlcclxuXHRcdFx0XHQuYWRkVGV4dEFyZWEodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhdGEpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YXRhID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgXHJcblx0Tm90aWNlLCBURmlsZVxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSAnLi4vbWFpbic7XHJcblxyXG5cclxuY29uc3QgY21kX2xvbmdmb3JtMm5vdGVjaGFpbiA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiBcImxvbmdmb3JtMm5vdGVjaGFpblwiLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2xvbmdmb3JtMm5vdGVjaGFpbixcclxuXHRpY29uOidnaXQtcHVsbC1yZXF1ZXN0LWNyZWF0ZS1hcnJvdycsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBjdXJyID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKGN1cnIgPT0gbnVsbCl7cmV0dXJuO31cclxuXHRcdHBsdWdpbi5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG5cdFx0XHRjdXJyLFxyXG5cdFx0XHRhc3luYyAoZm0pID0+e1xyXG5cdFx0XHRcdGlmKGN1cnI9PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IHNjZW5lcyA9IHBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoZm0ubG9uZ2Zvcm0uc2NlbmVzKTtcclxuXHRcdFx0XHRsZXQgaWdub3JlZEZpbGVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShmbS5sb25nZm9ybS5pZ25vcmVkRmlsZXMpO1xyXG5cdFx0XHRcdGlnbm9yZWRGaWxlcyA9IGlnbm9yZWRGaWxlcy5maWx0ZXIoKGY6c3RyaW5nKT0+IXNjZW5lcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShbc2NlbmVzLGlnbm9yZWRGaWxlc10pO1xyXG5cdFx0XHRcdG5vdGVzID0gbm90ZXMubWFwKChmOnN0cmluZyk9PnBsdWdpbi5jaGFpbi5nZXRfdGZpbGUoZikpO1xyXG5cdFx0XHRcdGlmKGN1cnIucGFyZW50PT1udWxsKXtyZXR1cm59O1xyXG5cdFx0XHRcdGxldCB0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoY3Vyci5wYXJlbnQpLmZpbHRlcigoZjphbnkpPT4hbm90ZXMuY29udGFpbnMoZikpO1xyXG5cdFx0XHRcdG5vdGVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShbdGZpbGVzLG5vdGVzXSk7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmNoYWluLmNoYWluX2NvbmNhdF90ZmlsZXMobm90ZXMpO1xyXG5cdFx0XHRcdHBsdWdpbi5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX2xvbmdmb3JtNG5vdGVjaGFpbiA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiBcImxvbmdmb3JtNG5vdGVjaGFpblwiLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2xvbmdmb3JtNG5vdGVjaGFpbixcclxuXHRpY29uOidnaXQtcHVsbC1yZXF1ZXN0LWRyYWZ0JyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0bGV0IGN1cnIgPSBwbHVnaW4uY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYoY3Vycj09bnVsbCB8fCBjdXJyLnBhcmVudD09bnVsbCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgcGF0aCA9IGN1cnIucGFyZW50LnBhdGgrJy8nK2N1cnIucGFyZW50Lm5hbWUrJy5tZCc7XHJcblx0XHRsZXQgZHN0ID0gYXdhaXQgbmMuY2hhaW4uZ2V0X3RmaWxlKHBhdGgpO1xyXG5cdFx0aWYoZHN0PT1udWxsKXtcclxuXHRcdFx0ZHN0ID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoXHJcblx0XHRcdFx0Y3Vyci5wYXJlbnQucGF0aCsnLycrY3Vyci5wYXJlbnQubmFtZSsnLm1kJywgXHJcblx0XHRcdFx0JydcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cclxuXHRcdGF3YWl0IG5jLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcblx0XHRcdGRzdCxcclxuXHRcdFx0Zm0gPT57XHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe1xyXG5cdFx0XHRcdFx0Zm1bJ2xvbmdmb3JtJ10gPSB7XHJcblx0XHRcdFx0XHRcdCdmb3JtYXQnOidzY2VuZXMnLFxyXG5cdFx0XHRcdFx0XHQndGl0bGUnOmRzdC5wYXJlbnQubmFtZSxcclxuXHRcdFx0XHRcdFx0J3dvcmtmbG93JzonRGVmYXVsdCBXb3JrZmxvdycsXHJcblx0XHRcdFx0XHRcdCdzY2VuZUZvbGRlcic6Jy8nLFxyXG5cdFx0XHRcdFx0XHQnc2NlbmVzJzpbXSxcclxuXHRcdFx0XHRcdFx0J2lnbm9yZWRGaWxlcyc6W10sXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0XHJcblx0XHRhd2FpdCBwbHVnaW4uYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0ZHN0LFxyXG5cdFx0XHRmbSA9PntcclxuXHRcdFx0XHRpZihkc3Q9PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0aWYoZHN0LnBhcmVudD09bnVsbCl7cmV0dXJufTtcclxuXHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gcGx1Z2luLmNoYWluLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGRzdC5wYXJlbnQpO1xyXG5cdFx0XHRcdG5vdGVzID0gcGx1Z2luLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKG5vdGVzKTtcclxuXHRcdFx0XHRmbS5sb25nZm9ybS5zY2VuZXMgPSBub3Rlcy5tYXAoKGY6VEZpbGUpPT5mLmJhc2VuYW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0YXdhaXQgbmMuY2hhaW4ub3Blbl9ub3RlKGRzdCk7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBjbWRfc29ydF9maWxlX2V4cGxvcmVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6IFwic29ydF9maWxlX2V4cGxvcmVyXCIsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfc29ydF9maWxlX2V4cGxvcmVyLFxyXG5cdGljb246J2Fycm93LWRvd24td2lkZS1uYXJyb3cnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCgwLHRydWUpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9ub3Rlc19zbWFydGVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdvcGVuX25vdGVzX3NtYXJ0ZXInLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9vcGVuX25vdGVzX3NtYXJ0ZXIsXHJcblx0aWNvbjonYmlub2N1bGFycycsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5vcGVuX25vdGVfc21hcnRlcigpO1xyXG5cdH1cclxufSlcclxuXHJcbmNvbnN0IGNtZF9vcGVuX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ3N1Z2dlc3Rvcl9vcGVuX25vdGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9vcGVuX25vdGUsXHJcblx0aWNvbDogJ3NxdWFyZS1hcnJvdy1vdXQtdXAtcmlnaHQnLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4uY2hhaW4uc3VnZ3VzdGVyX29wZW5fbm90ZSgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9wcmV2X25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fcHJldl9ub3RlcycsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fcHJldl9ub3RlLFxyXG5cdGljb246ICdmaWxlLW91dHB1dCcsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5vcGVuX3ByZXZfbm90ZXMoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX29wZW5fbmV4dF9ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdvcGVuX25leHRfbm90ZXMnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9vcGVuX25leHRfbm90ZSxcclxuXHRpY29uOiAnZmlsZS1pbnB1dCcsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5vcGVuX25leHRfbm90ZXMoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGNsZWFyX2lubGlua3MgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NsZWFyX2lubGlua3MnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNsZWFyX2lubGlua3MsXHJcblx0aWNvbjondW5saW5rJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNsZWFyX2lubGlua3MoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXInLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLm1vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcixcclxuXHRpY29uOidmb2xkZXItdHJlZScsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5jbWRfbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4ID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdyZXBsYWNlX25vdGVzX3dpdGhfcmVneCcsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3gsXHJcblx0aWNvbjoncmVnZXgnLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4ucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5faW5zZXJ0X25vZGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX2luc2VydF9ub2RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jaGFpbl9pbnNlcnRfbm9kZSxcclxuXHRpY29uOiAnZ2l0LWJyYW5jaC1wbHVzJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0YXdhaXQgcGx1Z2luLmNtZF9jaGFpbl9pbnNlcnRfbm9kZSgpO1xyXG5cdFx0YXdhaXQgcGx1Z2luLmV4cGxvcmVyLnNvcnQoNTAwKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5fc2V0X3NlcV9ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjaGFpbl9zZXRfc2VxX25vdGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNoYWluX3NldF9zZXFfbm90ZSxcclxuXHRpY29uOid3aW5kLWFycm93LWRvd24nLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcygpO1xyXG5cdFx0cGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5fbW92ZV91cF9ub2RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjaGFpbl9tb3ZlX3VwX25vZGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNoYWluX21vdmVfdXBfbm9kZSxcclxuXHRpY29uOiAnYXJyb3ctdXAtZnJvbS1saW5lJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRmaWxlID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGFuY2hvciA9IHBsdWdpbi5jaGFpbi5nZXRfcHJldl9ub3RlKHRmaWxlKTtcclxuXHRcdFx0aWYoYW5jaG9yKXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlKFxyXG5cdFx0XHRcdFx0dGZpbGUsYW5jaG9yXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNoYWluX21vdmVfZG93bl9ub2RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjaGFpbl9tb3ZlX2Rvbndfbm9kZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2hhaW5fbW92ZV9kb3duX25vZGUsXHJcblx0aWNvbjogJ2Fycm93LWRvd24tZnJvbS1saW5lJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRmaWxlID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGFuY2hvciA9IHBsdWdpbi5jaGFpbi5nZXRfbmV4dF9ub3RlKHRmaWxlKTtcclxuXHRcdFx0aWYoYW5jaG9yKXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIoXHJcblx0XHRcdFx0XHR0ZmlsZSxhbmNob3JcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlX25ld19ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjcmVhdGVfbmV3X25vdGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNyZWF0ZV9uZXdfbm90ZSxcclxuXHRpY29uOiAnZmlsZS1wbHVzJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRhcmdldHMgOntba2V5OnN0cmluZ106c3RyaW5nfSA9IHt9XHJcblx0XHR0YXJnZXRzW3BsdWdpbi5zdHJpbmdzLml0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXJdID0gJ2NoYWluX2luc2VydF9ub2RlX2FmdGVyJztcclxuXHRcdHRhcmdldHNbcGx1Z2luLnN0cmluZ3MuaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsXSA9ICdjaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsJztcclxuXHRcdHRhcmdldHNbcGx1Z2luLnN0cmluZ3MuaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmVdID0gJ2NoYWluX2luc2VydF9ub2RlX2JlZm9yZSc7XHJcblx0XHR0YXJnZXRzW3BsdWdpbi5zdHJpbmdzLml0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZF0gPSAnY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZCc7XHJcblx0XHR0YXJnZXRzW3BsdWdpbi5zdHJpbmdzLml0ZW1faXRlbV9jaGFpbl9pbnNlcnRfbnVsbF0gPSAnbnVsbCc7XHJcblxyXG5cdFx0bGV0IHRhcmdldCA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0cGx1Z2luLnV0aWxzLmFycmF5X3ByZWZpeF9pZChPYmplY3Qua2V5cyh0YXJnZXRzKSksIFxyXG5cdFx0XHRPYmplY3QudmFsdWVzKHRhcmdldHMpLCBcclxuXHRcdFx0dHJ1ZVxyXG5cdFx0KTtcclxuXHRcdGlmKCF0YXJnZXQpe3JldHVybjt9XHJcblx0XHRsZXQgbmFtZSA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfcHJvbXB0KHBsdWdpbi5zdHJpbmdzLnByb21wdF9ub3RlbmFtZSk7XHJcblx0XHRpZihuYW1lKXtcclxuXHRcdFx0bGV0IGN1cnIgPSBwbHVnaW4uY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0XHRpZihjdXJyICYmIGN1cnIucGFyZW50KXtcclxuXHRcdFx0XHRsZXQgcGF0aCA9IGN1cnIucGFyZW50LnBhdGgrJy8nK25hbWUrJy5tZCc7XHJcblx0XHRcdFx0bGV0IGRzdCA9IGF3YWl0IHBsdWdpbi5jaGFpbi5nZXRfdGZpbGUocGF0aCk7XHJcblx0XHRcdFx0aWYoZHN0PT1udWxsKXtcclxuXHRcdFx0XHRcdGRzdCA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuY3JlYXRlKFxyXG5cdFx0XHRcdFx0XHRjdXJyLnBhcmVudC5wYXRoKycvJytuYW1lKycubWQnLFxyXG5cdFx0XHRcdFx0XHQnJ1xyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0aWYoISh0YXJnZXQ9PT0nbnVsbCcpKXtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHBsdWdpbi5jaGFpbiBhcyBhbnkpW3RhcmdldF0oZHN0LGN1cnIpO1xyXG5cdFx0XHRcdFx0XHRpZih0YXJnZXQ9PSdjaGFpbl9pbnNlcnRfbm9kZV9hZnRlcid8fHRhcmdldD09J2NoYWluX2luc2VydF9ub2RlX2JlZm9yZScpe1xyXG5cclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uZWRpdG9yLnNldF9mcm9udG1hdHRlcl9hbGlnbl9maWxlKFxyXG5cdFx0XHRcdFx0XHRcdFx0Y3Vycixkc3QscGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdFxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgcGx1Z2luLmNoYWluLm9wZW5fbm90ZShkc3QpO1xyXG5cdFx0XHRcdFx0YXdhaXQgcGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cdFxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfcmV2ZWFsX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9yZXZlYWxfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3JldmVhbF9ub3RlLFxyXG5cdGljb246ICdsb2NhdGUnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRsZXQgbm90ZSA9IG5jLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKG5vdGUpe1xyXG5cdFx0XHRhd2FpdCAocGx1Z2luLmFwcCBhcyBhbnkpLmNvbW1hbmRzLmV4ZWN1dGVDb21tYW5kQnlJZCgnZmlsZS1leHBsb3JlcjpvcGVuJylcclxuXHRcdFx0YXdhaXQgKG5jLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS50cmVlLnNldENvbGxhcHNlQWxsKHRydWUpO1xyXG5cdFx0XHRhd2FpdCAobmMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnJldmVhbEluRm9sZGVyKG5vdGUpO1xyXG5cdFx0XHRhd2FpdCBzbGVlcCgxMDApO1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGNvbnRhaW5lckVsID0gbmMuZXhwbG9yZXIuZmlsZV9leHBsb3Jlci5jb250YWluZXJFbDtcclxuXHRcdFx0bGV0IHBhbmVsID0gY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLm5hdi1maWxlcy1jb250YWluZXInKTtcclxuXHRcdFx0bGV0IGl0ZW1FbD1jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYXRoPVwiJHtub3RlLnBhdGh9XCJdYCk7XHJcblx0XHRcdGlmKHBhbmVsICYmIGl0ZW1FbCAmJiAoaXRlbUVsIGFzIGFueSkub2Zmc2V0VG9wKXtcclxuXHRcdFx0XHRsZXQgeHRvcCA9IHBhbmVsLnNjcm9sbFRvcCsoKGl0ZW1FbCBhcyBhbnkpLm9mZnNldFRvcC0ocGFuZWwuc2Nyb2xsVG9wK3BhbmVsLmNsaWVudEhlaWdodC8yKSlcclxuXHRcdFx0XHRwYW5lbC5zY3JvbGxUbyh7IHRvcDogeHRvcCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBjbWRfb3Blbl9hbmRfcmV2ZWFsX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9vcGVuX2FuZF9yZXZlYWxfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fYW5kX3JldmVhbF9ub3RlLFxyXG5cdGljb246J21hcC1waW4taG91c2UnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRsZXQgbm90ZSA9IGF3YWl0IG5jLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKCk7XHJcblx0XHRpZihub3RlKXtcclxuXHRcdFx0YXdhaXQgbmMuY2hhaW4ub3Blbl9ub3RlKG5vdGUpO1xyXG5cdFx0XHRhd2FpdCAobmMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnRyZWUuc2V0Q29sbGFwc2VBbGwodHJ1ZSk7XHJcblx0XHRcdGF3YWl0IChuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkucmV2ZWFsSW5Gb2xkZXIobm90ZSk7XHJcblx0XHRcdGF3YWl0IHNsZWVwKDEwMCk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgY29udGFpbmVyRWwgPSBuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyLmNvbnRhaW5lckVsO1xyXG5cdFx0XHRsZXQgcGFuZWwgPSBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcubmF2LWZpbGVzLWNvbnRhaW5lcicpO1xyXG5cdFx0XHRsZXQgaXRlbUVsPWNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhdGg9XCIke25vdGUucGF0aH1cIl1gKTtcclxuXHRcdFx0aWYocGFuZWwgJiYgaXRlbUVsICYmIChpdGVtRWwgYXMgYW55KS5vZmZzZXRUb3Ape1xyXG5cdFx0XHRcdGxldCB4dG9wID0gcGFuZWwuc2Nyb2xsVG9wKygoaXRlbUVsIGFzIGFueSkub2Zmc2V0VG9wLShwYW5lbC5zY3JvbGxUb3ArcGFuZWwuY2xpZW50SGVpZ2h0LzIpKVxyXG5cdFx0XHRcdHBhbmVsLnNjcm9sbFRvKHsgdG9wOiB4dG9wLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX29wZW5fcHJldl9ub3RlX29mX3JpZ2h0X2xlYWYgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9vcGVuX3ByZXZfbm90ZV9vZl9yaWdodF9sZWFmJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9wcmV2X25vdGVfb2ZfcmlnaHRfbGVhZixcclxuXHRpY29uOiAnZmlsZS1vdXRwdXQnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRsZXQgbGVhZiA9IG5jLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRsZXQgcHJldiA9IG5jLmNoYWluLmdldF9wcmV2X25vdGUoKGxlYWYudmlldyBhcyBhbnkpLmZpbGUpO1xyXG5cdFx0XHRpZihwcmV2KXtcclxuXHRcdFx0XHRhd2FpdCBsZWFmLm9wZW5GaWxlKHByZXYse2FjdGl2ZTpmYWxzZX0pO1xyXG5cdFx0XHRcdGF3YWl0IG5jLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignZmlsZS1vcGVuJywgbGVhZik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9vcGVuX25leHRfbm90ZV9vZl9yaWdodF9sZWFmJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9uZXh0X25vdGVfb2ZfcmlnaHRfbGVhZixcclxuXHRpY29uOiAnZmlsZS1pbnB1dCcsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBsZWFmID0gbmMuY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0aWYobGVhZil7XHJcblx0XHRcdGxldCBuZXh0ID0gbmMuY2hhaW4uZ2V0X25leHRfbm90ZSgobGVhZi52aWV3IGFzIGFueSkuZmlsZSk7XHJcblx0XHRcdGlmKG5leHQpe1xyXG5cdFx0XHRcdGF3YWl0IGxlYWYub3BlbkZpbGUobmV4dCx7YWN0aXZlOmZhbHNlfSk7XHJcblx0XHRcdFx0YXdhaXQgbmMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdmaWxlLW9wZW4nLCBsZWFmKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfZmlsZV9vcGVuX3dpdGhfc3lzdGVtX2FwcCA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX2ZpbGVfb3Blbl93aXRoX3N5c3RlbV9hcHAnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwLFxyXG5cdGljb246J2Jvb2stb3BlbicsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGlmKChuYy5hcHAgYXMgYW55KS5pc01vYmlsZSl7cmV0dXJuO31cclxuXHRcdGxldCB0ZmlsZSA9IG5jLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGl0ZW1zID0gYXdhaXQgbmMuY2hhaW4uZ2V0X2ZpbGVfbGlua3ModGZpbGUpO1xyXG5cclxuXHRcdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhpdGVtcyk7XHJcblx0XHRcdGxldCBrZXkgPSBhd2FpdCBuYy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRuYy51dGlscy5hcnJheV9wcmVmaXhfaWQoa2V5cyksXHJcblx0XHRcdFx0a2V5c1xyXG5cdFx0XHQpXHJcblx0XHRcdFxyXG5cdFx0XHRpZihrZXkpe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XTtcclxuXHRcdFx0XHRsZXQgZWxlY3Ryb24gPSByZXF1aXJlKCdlbGVjdHJvbicpXHJcblx0XHRcdFx0ZWxlY3Ryb24ucmVtb3RlLnNoZWxsLm9wZW5QYXRoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfZmlsZV9zaG93X2luX3N5c3RlbV9leHBsb3JlcicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2ZpbGVfc2hvd19pbl9zeXN0ZW1fZXhwbG9yZXIsXHJcblx0aWNvbjonYm9vay1vcGVuLXRleHQnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRpZigobmMuYXBwIGFzIGFueSkuaXNNb2JpbGUpe3JldHVybjt9XHJcblx0XHRsZXQgdGZpbGUgPSBuYy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBpdGVtcyA9IGF3YWl0IG5jLmNoYWluLmdldF9maWxlX2xpbmtzKHRmaWxlKTtcclxuXHRcdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhpdGVtcyk7XHJcblx0XHRcdGxldCBrZXkgPSBhd2FpdCBuYy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRuYy51dGlscy5hcnJheV9wcmVmaXhfaWQoa2V5cyksXHJcblx0XHRcdFx0a2V5c1xyXG5cdFx0XHQpXHJcblx0XHRcdFxyXG5cdFx0XHRpZihrZXkpe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRcdGxldCBlbGVjdHJvbiA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcclxuXHRcdFx0XHRlbGVjdHJvbi5yZW1vdGUuc2hlbGwuc2hvd0l0ZW1JbkZvbGRlcihpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfZmlsZV9yZW5hbWUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9maWxlX3JlbmFtZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2ZpbGVfcmVuYW1lLFxyXG5cdGljb246ICdwZW4tbGluZScsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGlmKChuYy5hcHAgYXMgYW55KS5pc01vYmlsZSl7cmV0dXJuO31cclxuXHRcdGxldCB0ZmlsZSA9IG5jLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBpdGVtczp7W2tleTpzdHJpbmddOmFueX0gPSB7fVxyXG5cdFx0XHRsZXQgbGlua3MgPSBuYy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSxmYWxzZSk7XHJcblx0XHRcdGZvcihsZXQgaSBvZiBsaW5rcyl7XHJcblx0XHRcdFx0aWYoaS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLmJhc2VuYW1lXSA9IGk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpdGVtc1snXHUyMTM5XHVGRTBGICcraS5uYW1lXSA9IGk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGxpbmtzID0gbmMuY2hhaW4uZ2V0X291dGxpbmtzKHRmaWxlLGZhbHNlKTtcclxuXHRcdFx0Zm9yKGxldCBpIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRpZihpLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REQ3RVx1RkUwRiAnK2kuYmFzZW5hbWVdID0gaTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdUQ4M0NcdUREN0VcdUZFMEYgJytpLm5hbWVdID0gaTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoaXRlbXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGtleSA9IGF3YWl0IG5jLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzLFxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHRpZihrZXkpe1xyXG5cdFx0XHRcdGxldCBub3RlID0gaXRlbXNba2V5XTtcclxuXHRcdFx0XHRsZXQgcmVzID0gYXdhaXQgbmMuZGlhbG9nX3Byb21wdCgnTmV3IE5hbWUnLCcnLG5vdGUuYmFzZW5hbWUpO1xyXG5cdFx0XHRcdGlmKHJlcyAmJiAhKHJlcz09PW5vdGUuYmFzZW5hbWUpICYmICEocmVzPT09JycpKXtcclxuXHRcdFx0XHRcdGxldCBucGF0aCA9IG5vdGUucGFyZW50LnBhdGgrJy8nK3JlcysnLicrbm90ZS5leHRlbnNpb247XHJcblx0XHRcdFx0XHRsZXQgZHN0ID0gbmMuY2hhaW4uZ2V0X3RmaWxlKHJlcysnLicrbm90ZS5leHRlbnNpb24pO1xyXG5cdFx0XHRcdFx0aWYoZHN0KXtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnRXhpc3Q6JytyZXMrbm90ZS5leHRlbnNpb24sMzAwMCk7XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0bmMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUobm90ZSxucGF0aCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdjbWRfbWVybWFpZF9mbG93Y2hhcnRfbGluaycsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbWVybWFpZF9mbG93Y2hhcnRfbGluayxcclxuXHRpY29uOidmaWxlLWhlYXJ0JyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IFwiYGBgZGF0YXZpZXdqc1xcbmxldCBuYz1hcHAucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcXG5sZXQgbXNnID1uYy5tZXJtYWlkLmdldF9mbG93Y2hhcnQobnVsbCwyKTtcXG5kdi5zcGFuKG1zZylcXG5gYGBcIjtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlX2luX21vZGFsKGNvbnRlbnQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tZXJtYWlkX2Zsb3djaGFydF9mb2xkZXIgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF9tZXJtYWlkX2Zsb3djaGFydF9mb2xkZXInLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcixcclxuXHRpY29uOidmb2xkZXItaGVhcnQnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gXCJgYGBkYXRhdmlld2pzXFxubGV0IG5jPWFwcC5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xcbmxldCBtc2cgPW5jLm1lcm1haWQuZmxvd2NoYXJ0X2ZvbGRlcihudWxsLCdGb2xkZXInKTtcXG5kdi5zcGFuKG1zZylcXG5gYGBcIjtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlX2luX21vZGFsKGNvbnRlbnQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tZXJtYWlkX2Zsb3djaGFydF9hdXRvID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdjbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0bycsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0byxcclxuXHRpY29uOidoZWFydCcsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBcImBgYGRhdGF2aWV3anNcXG5sZXQgbmM9YXBwLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XFxubGV0IG1zZyA9bmMubWVybWFpZC5nZXRfbWVocm1haWRfZ3JhcGgobnVsbCw0LCdtZXJtYWlkJyk7XFxuZHYuc3Bhbihtc2cpXFxuYGBgXCI7XHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLmNoYWluLm9wZW5fbm90ZV9pbl9tb2RhbChjb250ZW50KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnY21kX2V4ZWN1dGVfdGVtcGxhdGVfbW9kYWwnLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2V4ZWN1dGVfdGVtcGxhdGVfbW9kYWwsXHJcblx0aWNvbjonZmlsZS10ZXJtaW5hbCcsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRwbCA9IChwbHVnaW4uYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zWyd0ZW1wbGF0ZXItb2JzaWRpYW4nXVxyXG5cdFx0aWYoIXRwbCl7cmV0dXJufVxyXG5cclxuXHRcdGxldCBmb2xkZXIgPSBwbHVnaW4uYXBwLnZhdWx0LmdldEZvbGRlckJ5UGF0aCh0cGwuc2V0dGluZ3MudGVtcGxhdGVzX2ZvbGRlcik7XHJcblx0XHRsZXQgc2xpY2UgPSAwXHJcblx0XHRsZXQgdGZpbGVzO1xyXG5cdFx0aWYoZm9sZGVyKXtcclxuXHRcdFx0c2xpY2UgPSBmb2xkZXIucGF0aC5sZW5ndGgrMVxyXG5cdFx0XHR0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoZm9sZGVyLHRydWUpXHJcblx0XHRcdHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF9hbGxfdGZpbGVzKClcclxuXHRcdH1cclxuXHRcdGxldCB0ZmlsZSA9IGF3YWl0IHBsdWdpbi5jaGFpbi5zdWdndXN0ZXJfbm90ZSh0ZmlsZXMgYXMgYW55LHNsaWNlKVxyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgcmVzID0gYXdhaXQgcGx1Z2luLnV0aWxzLnBhcnNlX3RlbXBsYXRlcihwbHVnaW4uYXBwLHRmaWxlLmJhc2VuYW1lKTtcclxuXHRcdFx0bGV0IHR4dCA9IHJlcy5qb2luKCdcXG4nKS50cmltKClcclxuXHRcdFx0bGV0IHZpZXcgPSAocGx1Z2luLmFwcC53b3Jrc3BhY2UgYXMgYW55KS5nZXRBY3RpdmVGaWxlVmlldygpXHJcblx0XHRcdGlmKHZpZXcpe1xyXG5cdFx0XHRcdHZpZXcuZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24odHh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF90b29nbGVfY3NzX2Jsb2NrX2luX25vdGUgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF90b29nbGVfY3NzX2Jsb2NrX2luX25vdGUnLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSxcclxuXHRpY29uOidhdG9tJyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4udXRpbHMudG9vZ2xlX25vdGVfY3NzKHBsdWdpbi5hcHAsZG9jdW1lbnQsJy8nKVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9zZXRfZnJvbnRtYXR0ZXIgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF9zZXRfZnJvbnRtYXR0ZXInLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3NldF9mcm9udG1hdHRlcixcclxuXHRpY29uOiAnZGF0YWJhc2UnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfc2VsZWN0ZWRfZmlsZXModHJ1ZSlcclxuXHRcdGlmKGZpbGVzLmxlbmd0aD09MCl7cmV0dXJufVxyXG5cdFx0bGV0IGZpZWxkID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19wcm9tcHQoJ0Zyb250bWF0dGVyIG5hbWUnKVxyXG5cdFx0aWYoIWZpZWxkKXtyZXR1cm59XHJcblx0XHRsZXQgcHJldiA9IHBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGZpbGVzWzBdLGZpZWxkKVxyXG5cdFx0aWYocHJldil7XHJcblx0XHRcdGlmKEFycmF5LmlzQXJyYXkocHJldikpe1xyXG5cdFx0XHRcdHByZXYgPSBwcmV2Lm1hcCh4PT54LnRvU3RyaW5nKCkpLmpvaW4oJ1xcbicpXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHByZXYgPSBwcmV2LnRvU3RyaW5nKClcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHByZXYgPSAnJ1xyXG5cdFx0fVxyXG5cdFx0bGV0IHZhbHVlID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19wcm9tcHQoJ0Zyb250bWF0dGVyIHZhbHVlJywnJyxwcmV2KVxyXG5cdFx0dmFsdWUgPSB2YWx1ZS50cmltKClcclxuXHRcdGlmKCF2YWx1ZSl7cmV0dXJufVxyXG5cdFx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXFxcbi9nLCdcXG4nKS5yZXBsYWNlKC9cXFxcdC9nLCdcXHQnKVxyXG5cdFx0dmFsdWUgPSB2YWx1ZS5zcGxpdCgnXFxuJylcclxuXHRcdHZhbHVlID0gdmFsdWUubWFwKCh4OnN0cmluZyk9PntcclxuXHRcdFx0aWYoeC5tYXRjaCgvXi0/XFxkKyQvKSl7XHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KHgpXHJcblx0XHRcdH1lbHNlIGlmKHgubWF0Y2goL14tP1xcZCsoXFwuXFxkKik/JC8pKXtcclxuXHRcdFx0XHRyZXR1cm4gcGFyc2VGbG9hdCh4KVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4geFxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0aWYodmFsdWUubGVuZ3RoPT0xKXtcclxuXHRcdFx0dmFsdWUgPSB2YWx1ZVswXVxyXG5cdFx0fVxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiBmaWxlcyl7XHJcblx0XHRcdGF3YWl0IHBsdWdpbi5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKHRmaWxlLGZpZWxkLHZhbHVlLDEpXHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21vdmVfbmV4dF9sZXZlbCA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnbW92ZV9uZXh0X2xldmVsJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tb3ZlX25leHRfbGV2ZWwsXHJcblx0aG90a2V5czogW3sgbW9kaWZpZXJzOiBbJ01vZCcsICdTaGlmdCddLCBrZXk6ICdMJyB9XSxcclxuXHRpY29uOiAnYXJyb3ctcmlnaHQtZnJvbS1saW5lJyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQga2V5ID0gcGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdFxyXG5cdFx0aWYoIWtleSl7cmV0dXJufVxyXG5cdFx0bGV0IHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfc2VsZWN0ZWRfZmlsZXMoKVxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRsZXQgbGV2ZWwgPSBwbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSxrZXkpXHJcblx0XHRcdGlmKCFsZXZlbCl7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5LFwiXFx0XCIsMSlcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5LGxldmVsK1wiXFx0XCIsMSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tb3ZlX25vbmVfbGV2ZWwgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ21vdmVfbm9uZV9sZXZlbCcsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbW92ZV9ub25lX2xldmVsLFxyXG5cdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydNb2QnLCAnU2hpZnQnXSwga2V5OiAnSycgfV0sXHJcblx0aWNvbjonYWxpZ24tanVzdGlmeScsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IGtleSA9IHBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdGlmKCFrZXkpe3JldHVybn1cclxuXHRcdGxldCB0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3NlbGVjdGVkX2ZpbGVzKClcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0bGV0IGxldmVsID0gcGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5KVxyXG5cdFx0XHRpZihsZXZlbCl7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5LFwiXCIsMSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tb3ZlX3ByZXZfbGV2ZWwgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ21vdmVfcHJldl9sZXZlbCcsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbW92ZV9wcmV2X2xldmVsLFxyXG5cdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydNb2QnLCAnU2hpZnQnXSwga2V5OiAnSicgfV0sXHJcblx0aWNvbjonYXJyb3ctbGVmdC1mcm9tLWxpbmUnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBrZXkgPSBwbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0XHJcblx0XHRpZigha2V5KXtyZXR1cm59XHJcblx0XHRsZXQgdGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF9zZWxlY3RlZF9maWxlcygpXHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdGxldCBsZXZlbCA9IHBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGtleSlcclxuXHRcdFx0aWYobGV2ZWwpe1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKHRmaWxlLGtleSxsZXZlbC5zbGljZSgxKSwxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX2luc2VydF9jb21tYW5kX2lkID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdpbnNlcnRfY29tbWFuZF9pZCcsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfaW5zZXJ0X2NvbW1hbmRfaWQsXHJcblx0aWNvbjondGVybWluYWwnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFxyXG5cdFx0bGV0IGVkaXRvciA9IChwbHVnaW4uYXBwIGFzIGFueSkud29ya3NwYWNlLmdldEFjdGl2ZUZpbGVWaWV3KCk/LmVkaXRvcjtcclxuXHRcdGlmKCFlZGl0b3Ipe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IGlkcyA6e1trZXk6c3RyaW5nXTpzdHJpbmd9ID0ge31cclxuXHRcdE9iamVjdC5rZXlzKFxyXG5cdFx0XHQocGx1Z2luLmFwcCBhcyBhbnkpLmNvbW1hbmRzLmNvbW1hbmRzXHJcblx0XHQpLmZvckVhY2goKHgpPT57XHJcblx0XHRcdGlkc1socGx1Z2luLmFwcCBhcyBhbnkpLmNvbW1hbmRzLmNvbW1hbmRzW3hdLm5hbWVdPXg7fVxyXG5cdFx0KVxyXG5cclxuXHRcdGxldCBuYW1lcyA9IE9iamVjdC5rZXlzKGlkcylcclxuXHJcblx0XHRsZXQgbXNnID0gcGx1Z2luLnV0aWxzLmFycmF5X3ByZWZpeF9pZChuYW1lcyk7XHJcblx0XHRsZXQgY21kID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19zdWdnZXN0KG1zZyxuYW1lcyk7XHJcblx0XHRpZihjbWQpe1xyXG5cdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihpZHNbY21kXSk7XHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuY29uc3QgY29tbWFuZEJ1aWxkZXJzID0gW1xyXG5cdGNtZF9vcGVuX25vdGUsXHJcblx0Y21kX3JldmVhbF9ub3RlLFxyXG5cdGNtZF9vcGVuX2FuZF9yZXZlYWxfbm90ZSxcclxuXHRjbWRfb3Blbl9wcmV2X25vdGUsXHJcblx0Y21kX29wZW5fbmV4dF9ub3RlLFxyXG5cdGNtZF9vcGVuX3ByZXZfbm90ZV9vZl9yaWdodF9sZWFmLFxyXG5cdGNtZF9vcGVuX25leHRfbm90ZV9vZl9yaWdodF9sZWFmLFxyXG5cdGNtZF9vcGVuX25vdGVzX3NtYXJ0ZXIsXHJcblx0Y21kX2xvbmdmb3JtMm5vdGVjaGFpbixcclxuXHRjbWRfbG9uZ2Zvcm00bm90ZWNoYWluLFxyXG5cdGNtZF9zb3J0X2ZpbGVfZXhwbG9yZXIsXHJcblx0Y2xlYXJfaW5saW5rcyxcclxuXHRyZXBsYWNlX25vdGVzX3dpdGhfcmVneCxcclxuXHRtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIsXHJcblx0Y2hhaW5faW5zZXJ0X25vZGUsXHJcblx0Y2hhaW5fc2V0X3NlcV9ub3RlLFxyXG5cdGNyZWF0ZV9uZXdfbm90ZSxcclxuXHRjaGFpbl9tb3ZlX3VwX25vZGUsXHJcblx0Y2hhaW5fbW92ZV9kb3duX25vZGUsXHJcblx0Y21kX2ZpbGVfcmVuYW1lLFxyXG5cdGNtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rLFxyXG5cdGNtZF9tZXJtYWlkX2Zsb3djaGFydF9mb2xkZXIsXHJcblx0Y21kX21lcm1haWRfZmxvd2NoYXJ0X2F1dG8sXHJcblx0Y21kX2V4ZWN1dGVfdGVtcGxhdGVfbW9kYWwsXHJcblx0Y21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSxcclxuXHRjbWRfc2V0X2Zyb250bWF0dGVyLFxyXG5cdGNtZF9tb3ZlX25leHRfbGV2ZWwsXHJcblx0Y21kX21vdmVfbm9uZV9sZXZlbCxcclxuXHRjbWRfbW92ZV9wcmV2X2xldmVsLFxyXG5cdGNtZF9pbnNlcnRfY29tbWFuZF9pZCxcclxuXTtcclxuXHJcbmNvbnN0IGNvbW1hbmRCdWlsZGVyc0Rlc2t0b3AgPSBbXHJcblx0Y21kX2ZpbGVfb3Blbl93aXRoX3N5c3RlbV9hcHAsXHJcblx0Y21kX2ZpbGVfc2hvd19pbl9zeXN0ZW1fZXhwbG9yZXIsXHJcblxyXG5dXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29tbWFuZHMocGx1Z2luOk5vdGVDaGFpblBsdWdpbikge1xyXG4gICAgY29tbWFuZEJ1aWxkZXJzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICBwbHVnaW4uYWRkQ29tbWFuZChjKHBsdWdpbikpO1xyXG4gICAgfSk7XHJcblx0aWYoKHBsdWdpbi5hcHAgYXMgYW55KS5pc01vYmlsZT09ZmFsc2Upe1xyXG5cdFx0Y29tbWFuZEJ1aWxkZXJzRGVza3RvcC5mb3JFYWNoKChjKSA9PiB7XHJcblx0XHRcdHBsdWdpbi5hZGRDb21tYW5kKGMocGx1Z2luKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEZ1enp5U3VnZ2VzdE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB0eXBlIHsgRnV6enlNYXRjaCAsIEFwcH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vLyBcdTZERkJcdTUyQTBcdTdDN0JcdTU3OEJcdTU4RjBcdTY2MEVcclxuaW50ZXJmYWNlIFN1Z2dlc3RlckNob29zZXIge1xyXG5cdHZhbHVlczoge1xyXG5cdFx0aXRlbTogc3RyaW5nO1xyXG5cdFx0bWF0Y2g6IHsgc2NvcmU6IG51bWJlcjsgbWF0Y2hlczogdW5rbm93bltdIH07XHJcblx0fVtdO1xyXG5cdHNlbGVjdGVkSXRlbTogbnVtYmVyO1xyXG5cdFtrZXk6IHN0cmluZ106IHVua25vd247XHJcbn1cclxuXHJcbi8vIFx1NjI2OVx1NUM1NUZ1enp5U3VnZ2VzdE1vZGFsXHU3Njg0XHU3QzdCXHU1NzhCXHJcbmludGVyZmFjZSBFeHRlbmRlZEZ1enp5U3VnZ2VzdE1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcblx0Y2hvb3NlcjogU3VnZ2VzdGVyQ2hvb3NlcjtcclxufVxyXG5cclxudHlwZSBPcHRpb25zID0ge1xyXG5cdGxpbWl0OiBGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+W1wibGltaXRcIl07XHJcblx0ZW1wdHlTdGF0ZVRleHQ6IEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz5bXCJlbXB0eVN0YXRlVGV4dFwiXTtcclxuXHRwbGFjZWhvbGRlcjogUGFyYW1ldGVyczxcclxuXHRcdEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz5bXCJzZXRQbGFjZWhvbGRlclwiXVxyXG5cdD5bMF0gZXh0ZW5kcyBzdHJpbmdcclxuXHRcdD8gc3RyaW5nXHJcblx0XHQ6IG5ldmVyO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvcHkgZnJvbSBRdWlja0FkZFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRTdWdnZXN0ZXIgZXh0ZW5kcyBGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+IHtcclxuXHRwcml2YXRlIHJlc29sdmVQcm9taXNlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcclxuXHRwcml2YXRlIHJlamVjdFByb21pc2U6IChyZWFzb24/OiB1bmtub3duKSA9PiB2b2lkO1xyXG5cdHB1YmxpYyBwcm9taXNlOiBQcm9taXNlPHN0cmluZz47XHJcblx0cHJpdmF0ZSByZXNvbHZlZDogYm9vbGVhbjtcclxuXHRwdWJsaWMgbmV3X3ZhbHVlOiBib29sZWFuO1xyXG5cdGlucHV0RWw6IGFueTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdWdnZXN0KFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRkaXNwbGF5SXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0aXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0b3B0aW9uczogUGFydGlhbDxPcHRpb25zPiA9IHt9LFxyXG5cdFx0bmV3X3ZhbHVlOmJvb2xlYW49ZmFsc2VcclxuXHQpIHtcclxuXHRcdGNvbnN0IG5ld1N1Z2dlc3RlciA9IG5ldyBJbnB1dFN1Z2dlc3RlcihcclxuXHRcdFx0YXBwLFxyXG5cdFx0XHRkaXNwbGF5SXRlbXMsXHJcblx0XHRcdGl0ZW1zLFxyXG5cdFx0XHRvcHRpb25zLFxyXG5cdFx0XHRuZXdfdmFsdWVcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gbmV3U3VnZ2VzdGVyLnByb21pc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoXHJcblx0XHRhcHA6IEFwcCxcclxuXHRcdHByaXZhdGUgZGlzcGxheUl0ZW1zOiBzdHJpbmdbXSxcclxuXHRcdHByaXZhdGUgaXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0b3B0aW9uczogUGFydGlhbDxPcHRpb25zPiA9IHt9LFxyXG5cdFx0bmV3X3ZhbHVlOiBib29sZWFuID0gZmFsc2VcclxuXHQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLm5ld192YWx1ZSA9IG5ld192YWx1ZVxyXG5cclxuXHRcdHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcclxuXHRcdFx0dGhpcy5yZWplY3RQcm9taXNlID0gcmVqZWN0O1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG5cdFx0XHRpZiAoZXZlbnQuY29kZSAhPT0gXCJUYWJcIikge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gXHU0RjdGXHU3NTI4XHU3QzdCXHU1NzhCXHU2NUFEXHU4QTAwXHU2NzY1XHU4QkJGXHU5NUVFY2hvb3NlclxyXG5cdFx0XHRjb25zdCBzZWxmID0gdGhpcyBhcyB1bmtub3duIGFzIEV4dGVuZGVkRnV6enlTdWdnZXN0TW9kYWw7XHJcblx0XHRcdGNvbnN0IHsgdmFsdWVzLCBzZWxlY3RlZEl0ZW0gfSA9IHNlbGYuY2hvb3NlcjtcclxuXHJcblx0XHRcdGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuaW5wdXRFbDtcclxuXHRcdFx0dGhpcy5pbnB1dEVsLnZhbHVlID0gdmFsdWVzW3NlbGVjdGVkSXRlbV0uaXRlbSA/PyB2YWx1ZTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLnBsYWNlaG9sZGVyKSB0aGlzLnNldFBsYWNlaG9sZGVyKG9wdGlvbnMucGxhY2Vob2xkZXIpO1xyXG5cdFx0aWYgKG9wdGlvbnMubGltaXQpIHRoaXMubGltaXQgPSBvcHRpb25zLmxpbWl0O1xyXG5cdFx0aWYgKG9wdGlvbnMuZW1wdHlTdGF0ZVRleHQpXHJcblx0XHRcdHRoaXMuZW1wdHlTdGF0ZVRleHQgPSBvcHRpb25zLmVtcHR5U3RhdGVUZXh0O1xyXG5cclxuXHRcdHRoaXMub3BlbigpO1xyXG5cdH1cclxuXHJcblx0Z2V0SXRlbVRleHQoaXRlbTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmIChpdGVtID09PSB0aGlzLmlucHV0RWwudmFsdWUpIHJldHVybiBpdGVtO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmRpc3BsYXlJdGVtc1t0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSldO1xyXG5cdH1cclxuXHJcblx0Z2V0SXRlbXMoKTogc3RyaW5nW10ge1xyXG5cdFx0aWYgKHRoaXMuaW5wdXRFbC52YWx1ZSA9PT0gXCJcInx8IXRoaXMubmV3X3ZhbHVlKSByZXR1cm4gdGhpcy5pdGVtcztcclxuXHRcdHJldHVybiBbLi4udGhpcy5pdGVtcyx0aGlzLmlucHV0RWwudmFsdWVdO1xyXG5cdH1cclxuXHJcblx0c2VsZWN0U3VnZ2VzdGlvbihcclxuXHRcdHZhbHVlOiBGdXp6eU1hdGNoPHN0cmluZz4sXHJcblx0XHRldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50XHJcblx0KSB7XHJcblx0XHR0aGlzLnJlc29sdmVkID0gdHJ1ZTtcclxuXHRcdHN1cGVyLnNlbGVjdFN1Z2dlc3Rpb24odmFsdWUsIGV2dCk7XHJcblx0fVxyXG5cclxuXHRvbkNob29zZUl0ZW0oaXRlbTogc3RyaW5nLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcblx0XHR0aGlzLnJlc29sdmVkID0gdHJ1ZTtcclxuXHRcdHRoaXMucmVzb2x2ZVByb21pc2UoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0c3VwZXIub25DbG9zZSgpO1xyXG5cdFx0aWYgKCF0aGlzLnJlc29sdmVkKSB0aGlzLnJlamVjdFByb21pc2UoXCJubyBpbnB1dCBnaXZlbi5cIik7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlhbG9nX3N1Z2dlc3QoZGlzcGxheUl0ZW1zOkFycmF5PHN0cmluZz4saXRlbXM6QXJyYXk8YW55PixwbGFjZWhvbGRlcj0nJyxuZXdfdmFsdWU9ZmFsc2UpIHtcclxuXHR0cnl7XHJcblx0XHRyZXR1cm4gYXdhaXQgSW5wdXRTdWdnZXN0ZXIuU3VnZ2VzdChcclxuXHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdGRpc3BsYXlJdGVtcyxcclxuXHRcdFx0aXRlbXMsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXHJcblx0XHRcdH0sXHJcblx0XHRcdG5ld192YWx1ZVxyXG5cdFx0KVxyXG5cdH1jYXRjaChlcnJvcil7XHJcblx0XHRcclxuXHRcdHJldHVybiBudWxsXHJcblx0fVxyXG5cdFxyXG59XHJcbiIsICJpbXBvcnQgdHlwZSB7IEFwcH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCwgTW9kYWwsIFRleHRDb21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbi8qKlxyXG4gKiBDb3B5IGZyb20gUXVpY2tBZGRcclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dFByb21wdCBleHRlbmRzIE1vZGFsIHtcclxuXHRwdWJsaWMgd2FpdEZvckNsb3NlOiBQcm9taXNlPHN0cmluZz47XHJcblxyXG5cdHByaXZhdGUgcmVzb2x2ZVByb21pc2U6IChpbnB1dDogc3RyaW5nKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgcmVqZWN0UHJvbWlzZTogKHJlYXNvbj86IHVua25vd24pID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSBkaWRTdWJtaXQgPSBmYWxzZTtcclxuXHRwcml2YXRlIGlucHV0Q29tcG9uZW50OiBUZXh0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgaW5wdXQ6IHN0cmluZztcclxuXHRwcml2YXRlIHJlYWRvbmx5IHBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgUHJvbXB0KFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRoZWFkZXI6IHN0cmluZyxcclxuXHRcdHBsYWNlaG9sZGVyPzogc3RyaW5nLFxyXG5cdFx0dmFsdWU/OiBzdHJpbmdcclxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0Y29uc3QgbmV3UHJvbXB0TW9kYWwgPSBuZXcgSW5wdXRQcm9tcHQoXHJcblx0XHRcdGFwcCxcclxuXHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRwbGFjZWhvbGRlcixcclxuXHRcdFx0dmFsdWVcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gbmV3UHJvbXB0TW9kYWwud2FpdEZvckNsb3NlO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRwcml2YXRlIGhlYWRlcjogc3RyaW5nLFxyXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmcsXHJcblx0XHR2YWx1ZT86IHN0cmluZ1xyXG5cdCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlciA/PyBcIlwiO1xyXG5cdFx0dGhpcy5pbnB1dCA9IHZhbHVlID8/IFwiXCI7XHJcblxyXG5cdFx0dGhpcy53YWl0Rm9yQ2xvc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy5yZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XHJcblx0XHRcdHRoaXMucmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0dGhpcy5vcGVuKCk7XHJcblxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkaXNwbGF5KCkge1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcyhcInF1aWNrQWRkTW9kYWxcIiwgXCJxYUlucHV0UHJvbXB0XCIpO1xyXG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdHRoaXMudGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuaGVhZGVyO1xyXG5cclxuXHRcdGNvbnN0IG1haW5Db250ZW50Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG5cdFx0dGhpcy5pbnB1dENvbXBvbmVudCA9IHRoaXMuY3JlYXRlSW5wdXRGaWVsZChcclxuXHRcdFx0bWFpbkNvbnRlbnRDb250YWluZXIsXHJcblx0XHRcdHRoaXMucGxhY2Vob2xkZXIsXHJcblx0XHRcdHRoaXMuaW5wdXRcclxuXHRcdCk7XHJcblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbkJhcihtYWluQ29udGVudENvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY3JlYXRlSW5wdXRGaWVsZChcclxuXHRcdGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXHJcblx0XHRwbGFjZWhvbGRlcj86IHN0cmluZyxcclxuXHRcdHZhbHVlPzogc3RyaW5nXHJcblx0KSB7XHJcblx0XHRjb25zdCB0ZXh0Q29tcG9uZW50ID0gbmV3IFRleHRDb21wb25lbnQoY29udGFpbmVyKTtcclxuXHJcblx0XHQodGV4dENvbXBvbmVudCBhcyBhbnkpLmlucHV0RWwuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuXHRcdCh0ZXh0Q29tcG9uZW50IGFzIGFueSlcclxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyID8/IFwiXCIpXHJcblx0XHRcdC5zZXRWYWx1ZSh2YWx1ZSA/PyBcIlwiKVxyXG5cdFx0XHQub25DaGFuZ2UoKHZhbHVlOnN0cmluZykgPT4gKHRoaXMuaW5wdXQgPSB2YWx1ZSkpXHJcblx0XHRcdC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuc3VibWl0RW50ZXJDYWxsYmFjayk7XHJcblxyXG5cdFx0cmV0dXJuIHRleHRDb21wb25lbnQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbihcclxuXHRcdGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXHJcblx0XHR0ZXh0OiBzdHJpbmcsXHJcblx0XHRjYWxsYmFjazogKGV2dDogTW91c2VFdmVudCkgPT4gdW5rbm93blxyXG5cdCkge1xyXG5cdFx0Y29uc3QgYnRuID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250YWluZXIpO1xyXG5cdFx0YnRuLnNldEJ1dHRvblRleHQodGV4dCkub25DbGljayhjYWxsYmFjayk7XHJcblxyXG5cdFx0cmV0dXJuIGJ0bjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlQnV0dG9uQmFyKG1haW5Db250ZW50Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgYnV0dG9uQmFyQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9XHJcblx0XHRcdG1haW5Db250ZW50Q29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0dGhpcy5jcmVhdGVCdXR0b24oXHJcblx0XHRcdGJ1dHRvbkJhckNvbnRhaW5lcixcclxuXHRcdFx0XCJPa1wiLFxyXG5cdFx0XHR0aGlzLnN1Ym1pdENsaWNrQ2FsbGJhY2tcclxuXHRcdCkuc2V0Q3RhKCkuYnV0dG9uRWwuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjBcIjtcclxuXHRcdHRoaXMuY3JlYXRlQnV0dG9uKFxyXG5cdFx0XHRidXR0b25CYXJDb250YWluZXIsXHJcblx0XHRcdFwiQ2FuY2VsXCIsXHJcblx0XHRcdHRoaXMuY2FuY2VsQ2xpY2tDYWxsYmFja1xyXG5cdFx0KTtcclxuXHJcblx0XHRidXR0b25CYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvdy1yZXZlcnNlXCI7XHJcblx0XHRidXR0b25CYXJDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImZsZXgtc3RhcnRcIjtcclxuXHRcdGJ1dHRvbkJhckNvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSBcIjFyZW1cIjtcclxuXHRcdGJ1dHRvbkJhckNvbnRhaW5lci5zdHlsZS5nYXAgPSBcIjAuNXJlbVwiO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdWJtaXRDbGlja0NhbGxiYWNrID0gKGV2dDogTW91c2VFdmVudCkgPT4gdGhpcy5zdWJtaXQoKTtcclxuXHRwcml2YXRlIGNhbmNlbENsaWNrQ2FsbGJhY2sgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB0aGlzLmNhbmNlbCgpO1xyXG5cclxuXHRwcml2YXRlIHN1Ym1pdEVudGVyQ2FsbGJhY2sgPSAoZXZ0OiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcblx0XHRpZiAoIWV2dC5pc0NvbXBvc2luZyAmJiBldnQua2V5ID09PSBcIkVudGVyXCIpIHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuc3VibWl0KCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cHJpdmF0ZSBzdWJtaXQoKSB7XHJcblx0XHR0aGlzLmRpZFN1Ym1pdCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjYW5jZWwoKSB7XHJcblx0XHR0aGlzLmNsb3NlKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlc29sdmVJbnB1dCgpIHtcclxuXHRcdGlmICghdGhpcy5kaWRTdWJtaXQpIHRoaXMucmVqZWN0UHJvbWlzZShcIk5vIGlucHV0IGdpdmVuLlwiKTtcclxuXHRcdGVsc2UgdGhpcy5yZXNvbHZlUHJvbWlzZSh0aGlzLmlucHV0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVtb3ZlSW5wdXRMaXN0ZW5lcigpIHtcclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQuaW5wdXRFbC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImtleWRvd25cIixcclxuXHRcdFx0dGhpcy5zdWJtaXRFbnRlckNhbGxiYWNrXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0c3VwZXIub25PcGVuKCk7XHJcblxyXG5cdFx0dGhpcy5pbnB1dENvbXBvbmVudC5pbnB1dEVsLmZvY3VzKCk7XHJcblx0XHR0aGlzLmlucHV0Q29tcG9uZW50LmlucHV0RWwuc2VsZWN0KCk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0c3VwZXIub25DbG9zZSgpO1xyXG5cdFx0dGhpcy5yZXNvbHZlSW5wdXQoKTtcclxuXHRcdHRoaXMucmVtb3ZlSW5wdXRMaXN0ZW5lcigpO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaWFsb2dfcHJvbXB0KGhlYWRlcjogc3RyaW5nPSdJbnB1dCcsIHBsYWNlaG9sZGVyOiBzdHJpbmc9JycsdmFsdWU6c3RyaW5nPScnKSB7XHJcblx0dHJ5e1xyXG5cdFx0cmV0dXJuIGF3YWl0IElucHV0UHJvbXB0LlByb21wdChcclxuXHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdGhlYWRlcixcclxuXHRcdFx0cGxhY2Vob2xkZXIsXHJcbiAgICAgICAgICAgIHZhbHVlXHJcblx0XHQpXHJcblx0fWNhdGNoe1xyXG5cdFx0cmV0dXJuIG51bGxcclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVPLFNBQVMsWUFBWSxLQUFRLE1BQVk7QUFFaEQ7QUFFTyxTQUFTLGdCQUFnQixPQUFpQixTQUFPLEdBQUU7QUFDdEQsTUFBSSxNQUFNLElBQUksTUFBTTtBQUNwQixNQUFJLElBQUksTUFBTSxPQUFPLFNBQVMsRUFBRTtBQUNoQyxXQUFRLElBQUUsR0FBRSxJQUFFLE1BQU0sUUFBTyxLQUFJO0FBQzNCLFFBQUksTUFBTyxJQUFJLFFBQVEsU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ2pELFFBQUksS0FBSyxHQUFHLGdCQUFTLE1BQU0sQ0FBQyxHQUFHO0FBQUEsRUFDbkM7QUFDQSxTQUFPO0FBQ1g7QUFFTyxTQUFTLGFBQWEsT0FBaUI7QUFDMUMsTUFBRyxTQUFPLE1BQUs7QUFBQyxXQUFPLENBQUM7QUFBQSxFQUFFO0FBQzFCLE1BQUcsT0FBTyxVQUFVLFVBQVM7QUFBQyxXQUFPLENBQUMsS0FBSztBQUFBLEVBQUU7QUFDN0MsTUFBRyxFQUFFLGlCQUFpQixRQUFPO0FBQUMsV0FBTyxDQUFDLEtBQUs7QUFBQSxFQUFFO0FBRTdDLE1BQUksTUFBTSxDQUFDO0FBQ1gsV0FBUSxRQUFRLE9BQU07QUFDbEIsUUFBRyxPQUFPLFNBQVMsVUFBUztBQUN4QixVQUFJLEtBQUssSUFBSTtBQUFBLElBQ2pCLFdBQVMsZ0JBQWdCLE9BQU07QUFDM0IsWUFBTSxJQUFJLE9BQU8sS0FBSyxhQUFhLElBQUksQ0FBQztBQUFBLElBQzVDLE9BQUs7QUFDRCxVQUFJLEtBQUssSUFBSTtBQUFBLElBQ2pCO0FBQUEsRUFDSjtBQUNBLFNBQU87QUFDWDtBQUVBLGVBQXNCLFlBQVksR0FBTSxHQUFNLEdBQU0sSUFBVSxHQUFTO0FBQ25FLE1BQUksSUFBSTtBQUNSLFNBQU0sRUFBRSxDQUFDLEtBQUcsUUFBUSxFQUFFLEVBQUUsQ0FBQyxNQUFJLElBQUc7QUFDNUIsVUFBTSxNQUFNLEVBQUU7QUFDZCxRQUFJLEtBQUc7QUFDUCxRQUFHLElBQUUsR0FBRTtBQUFDO0FBQUEsSUFBTTtBQUFBLEVBQ2xCO0FBQ0EsTUFBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBSSxHQUFFO0FBQ2hCLFdBQU87QUFBQSxFQUNYLE9BQUs7QUFDRCxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBRU8sU0FBUyxZQUFZLEtBQVEsUUFBZTtBQUlsRCxNQUFJLFlBQWEsSUFBWSxRQUFRO0FBQUEsSUFDcEM7QUFBQSxFQUNEO0FBQ0csTUFBRyxDQUFDLFdBQVU7QUFBQyxXQUFPO0FBQUEsRUFBSTtBQUM3QixNQUFJLFFBQVEsT0FBTyxNQUFNLEdBQUc7QUFDNUIsTUFBRyxNQUFNLENBQUMsRUFBRSxjQUFjLElBQUksS0FBRyxLQUFLLE1BQU0sVUFBUSxHQUFFO0FBQUMsV0FBTztBQUFBLEVBQVU7QUFFeEUsTUFBSSxVQUFVLFVBQVUsVUFBVSxvQkFDakMsbUJBQW1CLGNBQWM7QUFBQSxJQUNoQyxDQUFDLFNBQVksS0FBSyxLQUFLLGNBQWMsTUFBTSxDQUFDLENBQUMsS0FBRztBQUFBLEVBQ2pEO0FBRUQsTUFBRyxRQUFRLFVBQVEsR0FBRTtBQUFDLFdBQU87QUFBQSxFQUFTO0FBRXRDLFNBQU8sUUFBUSxDQUFDLEVBQUUsaUJBQWlCLElBQUksTUFBTSxDQUFDLENBQUM7QUFDaEQ7QUFFQSxlQUFzQixpQkFBaUIsS0FBUSxRQUFlO0FBRzFELE1BQUcsQ0FBQyxPQUFPLE1BQU0saUJBQWlCLEdBQUU7QUFDaEMsV0FBTztBQUFBLEVBQ1g7QUFDSCxNQUFJLFlBQWEsSUFBWSxRQUFRO0FBQUEsSUFDcEM7QUFBQSxFQUNEO0FBQ0csTUFBRyxDQUFDLFdBQVU7QUFBQyxXQUFPO0FBQUEsRUFBSTtBQUU3QixNQUFJLFFBQVEsT0FBTyxNQUFNLEdBQUc7QUFDNUIsTUFBRyxNQUFNLENBQUMsRUFBRSxjQUFjLElBQUksS0FBRyxLQUFLLE1BQU0sQ0FBQyxFQUFFLGNBQWMsTUFBTSxLQUFHLEtBQUssTUFBTSxVQUFRLEdBQUU7QUFBQyxXQUFPO0FBQUEsRUFBVTtBQUUxRyxNQUFJLFFBQVMsTUFBTSxVQUFVLFVBQ3pCLG9CQUNBLGVBQ0Esc0JBQ0EsK0JBQStCO0FBQ25DLFNBQU8sTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDO0FBQzdCO0FBRUEsZUFBc0Isa0JBQWtCLFFBQWU7QUFHbkQsTUFBRyxDQUFDLE9BQU8sTUFBTSw0Q0FBNEMsR0FBRTtBQUMzRCxXQUFPO0FBQUEsRUFDWDtBQUNBLE1BQUksUUFBUSxPQUFPLE1BQU0sR0FBRztBQUM1QixNQUFHLE9BQU8sZUFBZSxLQUFLLEdBQUU7QUFDNUIsUUFBSSxNQUFPLE9BQWUsS0FBSztBQUMvQixRQUFJLE1BQU0sTUFBTSxJQUFJO0FBQ3BCLGFBQVEsU0FBUyxNQUFNLE1BQU0sQ0FBQyxHQUFFO0FBQzVCLFlBQU0sSUFBSSxLQUFLO0FBQ2YsVUFBRyxDQUFDLEtBQUk7QUFDSixlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBRUEsZUFBc0IsYUFBYSxLQUFRLFFBQWU7QUFFdEQsTUFBSSxRQUFRLE1BQU0sWUFBWSxLQUFJLE1BQU07QUFDeEMsTUFBRyxPQUFNO0FBQUMsV0FBTztBQUFBLEVBQUs7QUFFdEIsVUFBUSxNQUFNLGlCQUFpQixLQUFJLE1BQU07QUFDekMsTUFBRyxPQUFNO0FBQUMsV0FBTztBQUFBLEVBQUs7QUFFdEIsVUFBUSxNQUFNLGtCQUFrQixNQUFNO0FBQ3RDLE1BQUcsT0FBTTtBQUFDLFdBQU87QUFBQSxFQUFLO0FBRXRCLFNBQU87QUFDWDtBQUdBLGVBQXNCLFlBQVksS0FBUSxVQUF1QixhQUF3QixhQUF1QixRQUFNLE1BQU07QUFDM0gsUUFBTSxTQUFTO0FBQUEsSUFDZCxlQUFlO0FBQUEsSUFDZjtBQUFBLElBQ0E7QUFBQSxJQUNNO0FBQUEsSUFDTixVQUFVO0FBQUEsRUFDWDtBQUNBLFFBQU0sVUFBVyxJQUFZLFFBQVE7QUFDckMsUUFBTSxTQUFTLFFBQVEsb0JBQW9CO0FBQzNDLE1BQUksQ0FBQyxRQUFRO0FBQ1osUUFBSSx3QkFBTyxnREFBZ0Q7QUFDM0Q7QUFBQSxFQUNEO0FBR0EsUUFBTSxFQUFDLFVBQVMsSUFBSSxRQUFRLG9CQUFvQjtBQUNoRCxRQUFNLFlBQVksTUFBTSxVQUFVLG9CQUFvQixtQkFBbUIsZ0JBQWdCLE1BQU07QUFDL0YsWUFBVSxPQUFPLENBQUM7QUFDbEIsUUFBTSxzQkFBc0IsTUFBTSxVQUFVLG9CQUFvQixlQUFlLHNCQUFzQiwrQkFBK0IsTUFBTTtBQUMxSSxzQkFBb0I7QUFBQSxJQUFRLENBQUMsT0FBVSxRQUFVO0FBQ2hELGdCQUFVLEtBQUssR0FBRyxJQUFJO0FBQUEsSUFDdkI7QUFBQSxFQUNBO0FBQ0EsTUFBSSxVQUFVO0FBQ2IsVUFBTSxzQkFBc0IsTUFBTSxVQUFVLG9CQUFvQixlQUFlLHNCQUFzQiwwQkFBMEIsTUFBTTtBQUNySSx3QkFBb0I7QUFBQSxNQUFRLENBQUMsT0FBVSxRQUFVO0FBQ2hELGtCQUFVLEtBQUssR0FBRyxJQUFJO0FBQUEsTUFDdkI7QUFBQSxJQUNBO0FBQUEsRUFDRDtBQUNBLFNBQU8sT0FBTSxZQUFjO0FBQzFCLFdBQU8sTUFBTSxVQUFVLE9BQU8sZUFBZSxTQUFTLFNBQVM7QUFBQSxFQUNoRTtBQUNEO0FBRUEsZUFBc0IsZ0JBQWdCLEtBQVEsVUFBc0IsVUFBUSxNQUFLLFFBQU0sTUFBTTtBQUN6RixNQUFJLEtBQUssSUFBWSxRQUFRLFVBQVUsWUFBWTtBQUNuRCxNQUFHLENBQUMsSUFBRztBQUFDO0FBQUEsRUFBTztBQUVmLE1BQUksT0FBTyxHQUFHLE1BQU0sVUFBVSxRQUFRO0FBQ3RDLE1BQUcsTUFBSztBQUNKLGVBQVc7QUFBQSxFQUNmO0FBRUEsTUFBSTtBQUNKLE1BQUksZ0JBQWdCO0FBQ3BCLE1BQUcsb0JBQW9CLHdCQUFNO0FBQ3pCLG9CQUFnQjtBQUNoQixRQUFHLFNBQVE7QUFDUCxlQUFTLE1BQU0sR0FBRyxPQUFPLHdCQUF3QixRQUFRO0FBQUEsSUFDN0QsT0FBSztBQUNELFVBQUksT0FBTyxNQUFNLElBQUksTUFBTSxXQUFXLFFBQVE7QUFDOUMsZUFBUyxDQUFDLElBQUk7QUFBQSxJQUNsQjtBQUFBLEVBQ0osT0FBSztBQUNELFFBQUcsU0FBUTtBQUNQLGVBQVMsTUFBTSxHQUFHLE9BQU8sd0JBQXdCLFFBQVE7QUFBQSxJQUM3RCxPQUFLO0FBQ0QsZUFBUyxDQUFDLFFBQVE7QUFBQSxJQUN0QjtBQUFBLEVBQ0o7QUFFQSxNQUFHLENBQUMsZUFBYztBQUNkLG9CQUFnQjtBQUFBLEVBQ3BCO0FBRUEsTUFBSSxjQUFjLElBQUksVUFBVSxjQUFjO0FBRTlDLE1BQUksUUFBUSxJQUFJLE1BQU0saUJBQWlCO0FBQ3ZDLE1BQUcsTUFBTSxVQUFRLEdBQUU7QUFBQztBQUFBLEVBQU87QUFDM0IsTUFBSSxjQUFlLE1BQU0sQ0FBQztBQUMxQixNQUFJLGVBQWUsTUFBTSxZQUFZLEtBQUksZUFBYyxhQUFZLGFBQVksUUFBTSxLQUFLO0FBQzFGLE1BQUcsY0FBYTtBQUNaLFFBQUksTUFBTSxDQUFDO0FBQ1gsYUFBUSxTQUFTLFFBQU87QUFDcEIsVUFBSSxPQUFPLE1BQU0sYUFBYSxLQUFLO0FBQ25DLFVBQUksS0FBSyxJQUFJO0FBQUEsSUFDakI7QUFDQSxXQUFPO0FBQUEsRUFDWCxPQUFLO0FBQ0QsV0FBTyxDQUFDO0FBQUEsRUFDWjtBQUNKO0FBRUEsZUFBc0IsZ0JBQWdCLEtBQVFBLFdBQWEsTUFBWSxVQUFRLE9BQU87QUFDbEYsTUFBSSxLQUFNLElBQVksUUFBUSxVQUFVLFlBQVk7QUFDcEQsTUFBSSxRQUFRLEdBQUcsTUFBTSxVQUFVLElBQUk7QUFDbkMsTUFBRyxDQUFDLE9BQU07QUFDTixRQUFJO0FBQ0osUUFBRyxRQUFNLEtBQUk7QUFDVCxlQUFTLEdBQUcsTUFBTSxlQUFlO0FBQUEsSUFDckMsT0FBSztBQUNELFVBQUksU0FBUyxHQUFHLE1BQU0sZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLE1BQVksRUFBRSxRQUFNLElBQUk7QUFDeEUsVUFBRyxPQUFPLFVBQVEsR0FBRTtBQUNoQjtBQUFBLE1BQ0o7QUFDQSxlQUFTLEdBQUcsTUFBTTtBQUFBLFFBQ2QsT0FBTyxJQUFJLENBQUMsTUFBWSxHQUFHLE1BQU0scUJBQXFCLENBQUMsQ0FBQztBQUFBLE1BQzVEO0FBQUEsSUFDSjtBQUVBLFFBQUcsT0FBTyxVQUFRLEdBQUU7QUFDaEI7QUFBQSxJQUNKO0FBQ0EsWUFBUSxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU07QUFDNUMsUUFBRyxDQUFDLE9BQU07QUFDTjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsTUFBSSxPQUFPQSxVQUFTLGVBQWUsTUFBTSxRQUFRO0FBQ2pELE1BQUcsUUFBUSxDQUFDLFNBQVE7QUFDaEIsU0FBSyxPQUFPO0FBQUEsRUFDaEIsT0FBSztBQUNELFFBQUksTUFBTSxNQUFNLEdBQUcsT0FBTyxtQkFBbUIsT0FBTSxLQUFLO0FBQ3hELFFBQUksUUFBUSxJQUFJLEtBQUssSUFBSTtBQUN6QixRQUFHLE1BQUs7QUFDSixXQUFLLFlBQVk7QUFBQSxJQUNyQixPQUFLO0FBQ0QsVUFBRyxTQUFPLElBQUc7QUFDVCxZQUFJLGVBQWVBLFVBQVMsY0FBYyxPQUFPO0FBQ2pELHFCQUFhLFlBQVU7QUFDdkIscUJBQWEsS0FBSyxNQUFNO0FBQ3hCLFFBQUFBLFVBQVMsS0FBSyxZQUFZLFlBQVk7QUFBQSxNQUMxQztBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0o7QUF0UUEsSUFFQUM7QUFGQTtBQUFBO0FBRUEsSUFBQUEsbUJBTU87QUFBQTtBQUFBOzs7QUNSUDtBQUFBLGdEQUFBQyxTQUFBO0FBQUE7QUFHQSxhQUFTLFVBQVUsU0FBUztBQUMxQixhQUFRLE9BQU8sWUFBWSxlQUFpQixZQUFZO0FBQUEsSUFDMUQ7QUFHQSxhQUFTLFNBQVMsU0FBUztBQUN6QixhQUFRLE9BQU8sWUFBWSxZQUFjLFlBQVk7QUFBQSxJQUN2RDtBQUdBLGFBQVMsUUFBUSxVQUFVO0FBQ3pCLFVBQUksTUFBTSxRQUFRLFFBQVE7QUFBRyxlQUFPO0FBQUEsZUFDM0IsVUFBVSxRQUFRO0FBQUcsZUFBTyxDQUFDO0FBRXRDLGFBQU8sQ0FBRSxRQUFTO0FBQUEsSUFDcEI7QUFHQSxhQUFTLE9BQU8sUUFBUSxRQUFRO0FBQzlCLFVBQUksT0FBTyxRQUFRLEtBQUs7QUFFeEIsVUFBSSxRQUFRO0FBQ1YscUJBQWEsT0FBTyxLQUFLLE1BQU07QUFFL0IsYUFBSyxRQUFRLEdBQUcsU0FBUyxXQUFXLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUN0RSxnQkFBTSxXQUFXLEtBQUs7QUFDdEIsaUJBQU8sR0FBRyxJQUFJLE9BQU8sR0FBRztBQUFBLFFBQzFCO0FBQUEsTUFDRjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBR0EsYUFBUyxPQUFPLFFBQVEsT0FBTztBQUM3QixVQUFJLFNBQVMsSUFBSTtBQUVqQixXQUFLLFFBQVEsR0FBRyxRQUFRLE9BQU8sU0FBUyxHQUFHO0FBQ3pDLGtCQUFVO0FBQUEsTUFDWjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBR0EsYUFBUyxlQUFlLFFBQVE7QUFDOUIsYUFBUSxXQUFXLEtBQU8sT0FBTyxzQkFBc0IsSUFBSTtBQUFBLElBQzdEO0FBR0EsSUFBQUEsUUFBTyxRQUFRLFlBQWlCO0FBQ2hDLElBQUFBLFFBQU8sUUFBUSxXQUFpQjtBQUNoQyxJQUFBQSxRQUFPLFFBQVEsVUFBaUI7QUFDaEMsSUFBQUEsUUFBTyxRQUFRLFNBQWlCO0FBQ2hDLElBQUFBLFFBQU8sUUFBUSxpQkFBaUI7QUFDaEMsSUFBQUEsUUFBTyxRQUFRLFNBQWlCO0FBQUE7QUFBQTs7O0FDMURoQztBQUFBLG1EQUFBQyxTQUFBO0FBQUE7QUFLQSxhQUFTLFlBQVksV0FBVyxTQUFTO0FBQ3ZDLFVBQUksUUFBUSxJQUFJLFVBQVUsVUFBVSxVQUFVO0FBRTlDLFVBQUksQ0FBQyxVQUFVO0FBQU0sZUFBTztBQUU1QixVQUFJLFVBQVUsS0FBSyxNQUFNO0FBQ3ZCLGlCQUFTLFNBQVMsVUFBVSxLQUFLLE9BQU87QUFBQSxNQUMxQztBQUVBLGVBQVMsT0FBTyxVQUFVLEtBQUssT0FBTyxLQUFLLE9BQU8sVUFBVSxLQUFLLFNBQVMsS0FBSztBQUUvRSxVQUFJLENBQUMsV0FBVyxVQUFVLEtBQUssU0FBUztBQUN0QyxpQkFBUyxTQUFTLFVBQVUsS0FBSztBQUFBLE1BQ25DO0FBRUEsYUFBTyxVQUFVLE1BQU07QUFBQSxJQUN6QjtBQUdBLGFBQVMsY0FBYyxRQUFRLE1BQU07QUFFbkMsWUFBTSxLQUFLLElBQUk7QUFFZixXQUFLLE9BQU87QUFDWixXQUFLLFNBQVM7QUFDZCxXQUFLLE9BQU87QUFDWixXQUFLLFVBQVUsWUFBWSxNQUFNLEtBQUs7QUFHdEMsVUFBSSxNQUFNLG1CQUFtQjtBQUUzQixjQUFNLGtCQUFrQixNQUFNLEtBQUssV0FBVztBQUFBLE1BQ2hELE9BQU87QUFFTCxhQUFLLFFBQVMsSUFBSSxNQUFNLEVBQUcsU0FBUztBQUFBLE1BQ3RDO0FBQUEsSUFDRjtBQUlBLGtCQUFjLFlBQVksT0FBTyxPQUFPLE1BQU0sU0FBUztBQUN2RCxrQkFBYyxVQUFVLGNBQWM7QUFHdEMsa0JBQWMsVUFBVSxXQUFXLFNBQVMsU0FBUyxTQUFTO0FBQzVELGFBQU8sS0FBSyxPQUFPLE9BQU8sWUFBWSxNQUFNLE9BQU87QUFBQSxJQUNyRDtBQUdBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ3REakI7QUFBQSxpREFBQUMsU0FBQTtBQUFBO0FBR0EsUUFBSSxTQUFTO0FBSWIsYUFBUyxRQUFRLFFBQVEsV0FBVyxTQUFTLFVBQVUsZUFBZTtBQUNwRSxVQUFJLE9BQU87QUFDWCxVQUFJLE9BQU87QUFDWCxVQUFJLGdCQUFnQixLQUFLLE1BQU0sZ0JBQWdCLENBQUMsSUFBSTtBQUVwRCxVQUFJLFdBQVcsWUFBWSxlQUFlO0FBQ3hDLGVBQU87QUFDUCxvQkFBWSxXQUFXLGdCQUFnQixLQUFLO0FBQUEsTUFDOUM7QUFFQSxVQUFJLFVBQVUsV0FBVyxlQUFlO0FBQ3RDLGVBQU87QUFDUCxrQkFBVSxXQUFXLGdCQUFnQixLQUFLO0FBQUEsTUFDNUM7QUFFQSxhQUFPO0FBQUEsUUFDTCxLQUFLLE9BQU8sT0FBTyxNQUFNLFdBQVcsT0FBTyxFQUFFLFFBQVEsT0FBTyxRQUFHLElBQUk7QUFBQSxRQUNuRSxLQUFLLFdBQVcsWUFBWSxLQUFLO0FBQUE7QUFBQSxNQUNuQztBQUFBLElBQ0Y7QUFHQSxhQUFTLFNBQVMsUUFBUSxLQUFLO0FBQzdCLGFBQU8sT0FBTyxPQUFPLEtBQUssTUFBTSxPQUFPLE1BQU0sSUFBSTtBQUFBLElBQ25EO0FBR0EsYUFBUyxZQUFZLE1BQU0sU0FBUztBQUNsQyxnQkFBVSxPQUFPLE9BQU8sV0FBVyxJQUFJO0FBRXZDLFVBQUksQ0FBQyxLQUFLO0FBQVEsZUFBTztBQUV6QixVQUFJLENBQUMsUUFBUTtBQUFXLGdCQUFRLFlBQVk7QUFDNUMsVUFBSSxPQUFPLFFBQVEsV0FBZ0I7QUFBVSxnQkFBUSxTQUFjO0FBQ25FLFVBQUksT0FBTyxRQUFRLGdCQUFnQjtBQUFVLGdCQUFRLGNBQWM7QUFDbkUsVUFBSSxPQUFPLFFBQVEsZUFBZ0I7QUFBVSxnQkFBUSxhQUFjO0FBRW5FLFVBQUksS0FBSztBQUNULFVBQUksYUFBYSxDQUFFLENBQUU7QUFDckIsVUFBSSxXQUFXLENBQUM7QUFDaEIsVUFBSTtBQUNKLFVBQUksY0FBYztBQUVsQixhQUFRLFFBQVEsR0FBRyxLQUFLLEtBQUssTUFBTSxHQUFJO0FBQ3JDLGlCQUFTLEtBQUssTUFBTSxLQUFLO0FBQ3pCLG1CQUFXLEtBQUssTUFBTSxRQUFRLE1BQU0sQ0FBQyxFQUFFLE1BQU07QUFFN0MsWUFBSSxLQUFLLFlBQVksTUFBTSxTQUFTLGNBQWMsR0FBRztBQUNuRCx3QkFBYyxXQUFXLFNBQVM7QUFBQSxRQUNwQztBQUFBLE1BQ0Y7QUFFQSxVQUFJLGNBQWM7QUFBRyxzQkFBYyxXQUFXLFNBQVM7QUFFdkQsVUFBSSxTQUFTLElBQUksR0FBRztBQUNwQixVQUFJLGVBQWUsS0FBSyxJQUFJLEtBQUssT0FBTyxRQUFRLFlBQVksU0FBUyxNQUFNLEVBQUUsU0FBUyxFQUFFO0FBQ3hGLFVBQUksZ0JBQWdCLFFBQVEsYUFBYSxRQUFRLFNBQVMsZUFBZTtBQUV6RSxXQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsYUFBYSxLQUFLO0FBQ3pDLFlBQUksY0FBYyxJQUFJO0FBQUc7QUFDekIsZUFBTztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsV0FBVyxjQUFjLENBQUM7QUFBQSxVQUMxQixTQUFTLGNBQWMsQ0FBQztBQUFBLFVBQ3hCLEtBQUssWUFBWSxXQUFXLFdBQVcsSUFBSSxXQUFXLGNBQWMsQ0FBQztBQUFBLFVBQ3JFO0FBQUEsUUFDRjtBQUNBLGlCQUFTLE9BQU8sT0FBTyxLQUFLLFFBQVEsTUFBTSxJQUFJLFVBQVUsS0FBSyxPQUFPLElBQUksR0FBRyxTQUFTLEdBQUcsWUFBWSxJQUNqRyxRQUFRLEtBQUssTUFBTSxPQUFPO0FBQUEsTUFDOUI7QUFFQSxhQUFPLFFBQVEsS0FBSyxRQUFRLFdBQVcsV0FBVyxHQUFHLFNBQVMsV0FBVyxHQUFHLEtBQUssVUFBVSxhQUFhO0FBQ3hHLGdCQUFVLE9BQU8sT0FBTyxLQUFLLFFBQVEsTUFBTSxJQUFJLFVBQVUsS0FBSyxPQUFPLEdBQUcsU0FBUyxHQUFHLFlBQVksSUFDOUYsUUFBUSxLQUFLLE1BQU07QUFDckIsZ0JBQVUsT0FBTyxPQUFPLEtBQUssUUFBUSxTQUFTLGVBQWUsSUFBSSxLQUFLLEdBQUcsSUFBSTtBQUU3RSxXQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsWUFBWSxLQUFLO0FBQ3hDLFlBQUksY0FBYyxLQUFLLFNBQVM7QUFBUTtBQUN4QyxlQUFPO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxXQUFXLGNBQWMsQ0FBQztBQUFBLFVBQzFCLFNBQVMsY0FBYyxDQUFDO0FBQUEsVUFDeEIsS0FBSyxZQUFZLFdBQVcsV0FBVyxJQUFJLFdBQVcsY0FBYyxDQUFDO0FBQUEsVUFDckU7QUFBQSxRQUNGO0FBQ0Esa0JBQVUsT0FBTyxPQUFPLEtBQUssUUFBUSxNQUFNLElBQUksVUFBVSxLQUFLLE9BQU8sSUFBSSxHQUFHLFNBQVMsR0FBRyxZQUFZLElBQ2xHLFFBQVEsS0FBSyxNQUFNO0FBQUEsTUFDdkI7QUFFQSxhQUFPLE9BQU8sUUFBUSxPQUFPLEVBQUU7QUFBQSxJQUNqQztBQUdBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ3BHakI7QUFBQSw4Q0FBQUMsU0FBQTtBQUFBO0FBRUEsUUFBSSxnQkFBZ0I7QUFFcEIsUUFBSSwyQkFBMkI7QUFBQSxNQUM3QjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFFQSxRQUFJLGtCQUFrQjtBQUFBLE1BQ3BCO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBRUEsYUFBUyxvQkFBb0IsS0FBSztBQUNoQyxVQUFJLFNBQVMsQ0FBQztBQUVkLFVBQUksUUFBUSxNQUFNO0FBQ2hCLGVBQU8sS0FBSyxHQUFHLEVBQUUsUUFBUSxTQUFVLE9BQU87QUFDeEMsY0FBSSxLQUFLLEVBQUUsUUFBUSxTQUFVLE9BQU87QUFDbEMsbUJBQU8sT0FBTyxLQUFLLENBQUMsSUFBSTtBQUFBLFVBQzFCLENBQUM7QUFBQSxRQUNILENBQUM7QUFBQSxNQUNIO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLEtBQUssS0FBSyxTQUFTO0FBQzFCLGdCQUFVLFdBQVcsQ0FBQztBQUV0QixhQUFPLEtBQUssT0FBTyxFQUFFLFFBQVEsU0FBVSxNQUFNO0FBQzNDLFlBQUkseUJBQXlCLFFBQVEsSUFBSSxNQUFNLElBQUk7QUFDakQsZ0JBQU0sSUFBSSxjQUFjLHFCQUFxQixPQUFPLGdDQUFnQyxNQUFNLGNBQWM7QUFBQSxRQUMxRztBQUFBLE1BQ0YsQ0FBQztBQUdELFdBQUssVUFBZ0I7QUFDckIsV0FBSyxNQUFnQjtBQUNyQixXQUFLLE9BQWdCLFFBQVEsTUFBTSxLQUFjO0FBQ2pELFdBQUssVUFBZ0IsUUFBUSxTQUFTLEtBQVcsV0FBWTtBQUFFLGVBQU87QUFBQSxNQUFNO0FBQzVFLFdBQUssWUFBZ0IsUUFBUSxXQUFXLEtBQVMsU0FBVSxNQUFNO0FBQUUsZUFBTztBQUFBLE1BQU07QUFDaEYsV0FBSyxhQUFnQixRQUFRLFlBQVksS0FBUTtBQUNqRCxXQUFLLFlBQWdCLFFBQVEsV0FBVyxLQUFTO0FBQ2pELFdBQUssWUFBZ0IsUUFBUSxXQUFXLEtBQVM7QUFDakQsV0FBSyxnQkFBZ0IsUUFBUSxlQUFlLEtBQUs7QUFDakQsV0FBSyxlQUFnQixRQUFRLGNBQWMsS0FBTTtBQUNqRCxXQUFLLFFBQWdCLFFBQVEsT0FBTyxLQUFhO0FBQ2pELFdBQUssZUFBZ0Isb0JBQW9CLFFBQVEsY0FBYyxLQUFLLElBQUk7QUFFeEUsVUFBSSxnQkFBZ0IsUUFBUSxLQUFLLElBQUksTUFBTSxJQUFJO0FBQzdDLGNBQU0sSUFBSSxjQUFjLG1CQUFtQixLQUFLLE9BQU8seUJBQXlCLE1BQU0sY0FBYztBQUFBLE1BQ3RHO0FBQUEsSUFDRjtBQUVBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ2pFakI7QUFBQSxnREFBQUMsU0FBQTtBQUFBO0FBSUEsUUFBSSxnQkFBZ0I7QUFDcEIsUUFBSSxPQUFnQjtBQUdwQixhQUFTLFlBQVksUUFBUSxNQUFNO0FBQ2pDLFVBQUksU0FBUyxDQUFDO0FBRWQsYUFBTyxJQUFJLEVBQUUsUUFBUSxTQUFVLGFBQWE7QUFDMUMsWUFBSSxXQUFXLE9BQU87QUFFdEIsZUFBTyxRQUFRLFNBQVUsY0FBYyxlQUFlO0FBQ3BELGNBQUksYUFBYSxRQUFRLFlBQVksT0FDakMsYUFBYSxTQUFTLFlBQVksUUFDbEMsYUFBYSxVQUFVLFlBQVksT0FBTztBQUU1Qyx1QkFBVztBQUFBLFVBQ2I7QUFBQSxRQUNGLENBQUM7QUFFRCxlQUFPLFFBQVEsSUFBSTtBQUFBLE1BQ3JCLENBQUM7QUFFRCxhQUFPO0FBQUEsSUFDVDtBQUdBLGFBQVMsYUFBMkI7QUFDbEMsVUFBSSxTQUFTO0FBQUEsUUFDUCxRQUFRLENBQUM7QUFBQSxRQUNULFVBQVUsQ0FBQztBQUFBLFFBQ1gsU0FBUyxDQUFDO0FBQUEsUUFDVixVQUFVLENBQUM7QUFBQSxRQUNYLE9BQU87QUFBQSxVQUNMLFFBQVEsQ0FBQztBQUFBLFVBQ1QsVUFBVSxDQUFDO0FBQUEsVUFDWCxTQUFTLENBQUM7QUFBQSxVQUNWLFVBQVUsQ0FBQztBQUFBLFFBQ2I7QUFBQSxNQUNGLEdBQUcsT0FBTztBQUVkLGVBQVMsWUFBWSxNQUFNO0FBQ3pCLFlBQUksS0FBSyxPQUFPO0FBQ2QsaUJBQU8sTUFBTSxLQUFLLElBQUksRUFBRSxLQUFLLElBQUk7QUFDakMsaUJBQU8sTUFBTSxVQUFVLEVBQUUsS0FBSyxJQUFJO0FBQUEsUUFDcEMsT0FBTztBQUNMLGlCQUFPLEtBQUssSUFBSSxFQUFFLEtBQUssR0FBRyxJQUFJLE9BQU8sVUFBVSxFQUFFLEtBQUssR0FBRyxJQUFJO0FBQUEsUUFDL0Q7QUFBQSxNQUNGO0FBRUEsV0FBSyxRQUFRLEdBQUcsU0FBUyxVQUFVLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUNyRSxrQkFBVSxLQUFLLEVBQUUsUUFBUSxXQUFXO0FBQUEsTUFDdEM7QUFDQSxhQUFPO0FBQUEsSUFDVDtBQUdBLGFBQVMsT0FBTyxZQUFZO0FBQzFCLGFBQU8sS0FBSyxPQUFPLFVBQVU7QUFBQSxJQUMvQjtBQUdBLFdBQU8sVUFBVSxTQUFTLFNBQVMsT0FBTyxZQUFZO0FBQ3BELFVBQUksV0FBVyxDQUFDO0FBQ2hCLFVBQUksV0FBVyxDQUFDO0FBRWhCLFVBQUksc0JBQXNCLE1BQU07QUFFOUIsaUJBQVMsS0FBSyxVQUFVO0FBQUEsTUFFMUIsV0FBVyxNQUFNLFFBQVEsVUFBVSxHQUFHO0FBRXBDLG1CQUFXLFNBQVMsT0FBTyxVQUFVO0FBQUEsTUFFdkMsV0FBVyxlQUFlLE1BQU0sUUFBUSxXQUFXLFFBQVEsS0FBSyxNQUFNLFFBQVEsV0FBVyxRQUFRLElBQUk7QUFFbkcsWUFBSSxXQUFXO0FBQVUscUJBQVcsU0FBUyxPQUFPLFdBQVcsUUFBUTtBQUN2RSxZQUFJLFdBQVc7QUFBVSxxQkFBVyxTQUFTLE9BQU8sV0FBVyxRQUFRO0FBQUEsTUFFekUsT0FBTztBQUNMLGNBQU0sSUFBSSxjQUFjLGtIQUN5QztBQUFBLE1BQ25FO0FBRUEsZUFBUyxRQUFRLFNBQVUsTUFBTTtBQUMvQixZQUFJLEVBQUUsZ0JBQWdCLE9BQU87QUFDM0IsZ0JBQU0sSUFBSSxjQUFjLG9GQUFvRjtBQUFBLFFBQzlHO0FBRUEsWUFBSSxLQUFLLFlBQVksS0FBSyxhQUFhLFVBQVU7QUFDL0MsZ0JBQU0sSUFBSSxjQUFjLGlIQUFpSDtBQUFBLFFBQzNJO0FBRUEsWUFBSSxLQUFLLE9BQU87QUFDZCxnQkFBTSxJQUFJLGNBQWMsb0dBQW9HO0FBQUEsUUFDOUg7QUFBQSxNQUNGLENBQUM7QUFFRCxlQUFTLFFBQVEsU0FBVSxNQUFNO0FBQy9CLFlBQUksRUFBRSxnQkFBZ0IsT0FBTztBQUMzQixnQkFBTSxJQUFJLGNBQWMsb0ZBQW9GO0FBQUEsUUFDOUc7QUFBQSxNQUNGLENBQUM7QUFFRCxVQUFJLFNBQVMsT0FBTyxPQUFPLE9BQU8sU0FBUztBQUUzQyxhQUFPLFlBQVksS0FBSyxZQUFZLENBQUMsR0FBRyxPQUFPLFFBQVE7QUFDdkQsYUFBTyxZQUFZLEtBQUssWUFBWSxDQUFDLEdBQUcsT0FBTyxRQUFRO0FBRXZELGFBQU8sbUJBQW1CLFlBQVksUUFBUSxVQUFVO0FBQ3hELGFBQU8sbUJBQW1CLFlBQVksUUFBUSxVQUFVO0FBQ3hELGFBQU8sa0JBQW1CLFdBQVcsT0FBTyxrQkFBa0IsT0FBTyxnQkFBZ0I7QUFFckYsYUFBTztBQUFBLElBQ1Q7QUFHQSxJQUFBQSxRQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUN4SGpCO0FBQUEsa0RBQUFDLFNBQUE7QUFBQTtBQUVBLFFBQUksT0FBTztBQUVYLElBQUFBLFFBQU8sVUFBVSxJQUFJLEtBQUsseUJBQXlCO0FBQUEsTUFDakQsTUFBTTtBQUFBLE1BQ04sV0FBVyxTQUFVLE1BQU07QUFBRSxlQUFPLFNBQVMsT0FBTyxPQUFPO0FBQUEsTUFBSTtBQUFBLElBQ2pFLENBQUM7QUFBQTtBQUFBOzs7QUNQRDtBQUFBLGtEQUFBQyxTQUFBO0FBQUE7QUFFQSxRQUFJLE9BQU87QUFFWCxJQUFBQSxRQUFPLFVBQVUsSUFBSSxLQUFLLHlCQUF5QjtBQUFBLE1BQ2pELE1BQU07QUFBQSxNQUNOLFdBQVcsU0FBVSxNQUFNO0FBQUUsZUFBTyxTQUFTLE9BQU8sT0FBTyxDQUFDO0FBQUEsTUFBRztBQUFBLElBQ2pFLENBQUM7QUFBQTtBQUFBOzs7QUNQRDtBQUFBLGtEQUFBQyxTQUFBO0FBQUE7QUFFQSxRQUFJLE9BQU87QUFFWCxJQUFBQSxRQUFPLFVBQVUsSUFBSSxLQUFLLHlCQUF5QjtBQUFBLE1BQ2pELE1BQU07QUFBQSxNQUNOLFdBQVcsU0FBVSxNQUFNO0FBQUUsZUFBTyxTQUFTLE9BQU8sT0FBTyxDQUFDO0FBQUEsTUFBRztBQUFBLElBQ2pFLENBQUM7QUFBQTtBQUFBOzs7QUNQRDtBQUFBLHlEQUFBQyxTQUFBO0FBQUE7QUFPQSxRQUFJLFNBQVM7QUFHYixJQUFBQSxRQUFPLFVBQVUsSUFBSSxPQUFPO0FBQUEsTUFDMUIsVUFBVTtBQUFBLFFBQ1I7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGLENBQUM7QUFBQTtBQUFBOzs7QUNoQkQ7QUFBQSxtREFBQUMsU0FBQTtBQUFBO0FBRUEsUUFBSSxPQUFPO0FBRVgsYUFBUyxnQkFBZ0IsTUFBTTtBQUM3QixVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksTUFBTSxLQUFLO0FBRWYsYUFBUSxRQUFRLEtBQUssU0FBUyxPQUN0QixRQUFRLE1BQU0sU0FBUyxVQUFVLFNBQVMsVUFBVSxTQUFTO0FBQUEsSUFDdkU7QUFFQSxhQUFTLG9CQUFvQjtBQUMzQixhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsT0FBTyxRQUFRO0FBQ3RCLGFBQU8sV0FBVztBQUFBLElBQ3BCO0FBRUEsSUFBQUEsUUFBTyxVQUFVLElBQUksS0FBSywwQkFBMEI7QUFBQSxNQUNsRCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxXQUFXO0FBQUEsTUFDWCxXQUFXO0FBQUEsUUFDVCxXQUFXLFdBQVk7QUFBRSxpQkFBTztBQUFBLFFBQVE7QUFBQSxRQUN4QyxXQUFXLFdBQVk7QUFBRSxpQkFBTztBQUFBLFFBQVE7QUFBQSxRQUN4QyxXQUFXLFdBQVk7QUFBRSxpQkFBTztBQUFBLFFBQVE7QUFBQSxRQUN4QyxXQUFXLFdBQVk7QUFBRSxpQkFBTztBQUFBLFFBQVE7QUFBQSxRQUN4QyxPQUFXLFdBQVk7QUFBRSxpQkFBTztBQUFBLFFBQVE7QUFBQSxNQUMxQztBQUFBLE1BQ0EsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQTtBQUFBOzs7QUNsQ0Q7QUFBQSxtREFBQUMsU0FBQTtBQUFBO0FBRUEsUUFBSSxPQUFPO0FBRVgsYUFBUyxtQkFBbUIsTUFBTTtBQUNoQyxVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksTUFBTSxLQUFLO0FBRWYsYUFBUSxRQUFRLE1BQU0sU0FBUyxVQUFVLFNBQVMsVUFBVSxTQUFTLFdBQzdELFFBQVEsTUFBTSxTQUFTLFdBQVcsU0FBUyxXQUFXLFNBQVM7QUFBQSxJQUN6RTtBQUVBLGFBQVMscUJBQXFCLE1BQU07QUFDbEMsYUFBTyxTQUFTLFVBQ1QsU0FBUyxVQUNULFNBQVM7QUFBQSxJQUNsQjtBQUVBLGFBQVMsVUFBVSxRQUFRO0FBQ3pCLGFBQU8sT0FBTyxVQUFVLFNBQVMsS0FBSyxNQUFNLE1BQU07QUFBQSxJQUNwRDtBQUVBLElBQUFBLFFBQU8sVUFBVSxJQUFJLEtBQUssMEJBQTBCO0FBQUEsTUFDbEQsTUFBTTtBQUFBLE1BQ04sU0FBUztBQUFBLE1BQ1QsV0FBVztBQUFBLE1BQ1gsV0FBVztBQUFBLE1BQ1gsV0FBVztBQUFBLFFBQ1QsV0FBVyxTQUFVLFFBQVE7QUFBRSxpQkFBTyxTQUFTLFNBQVM7QUFBQSxRQUFTO0FBQUEsUUFDakUsV0FBVyxTQUFVLFFBQVE7QUFBRSxpQkFBTyxTQUFTLFNBQVM7QUFBQSxRQUFTO0FBQUEsUUFDakUsV0FBVyxTQUFVLFFBQVE7QUFBRSxpQkFBTyxTQUFTLFNBQVM7QUFBQSxRQUFTO0FBQUEsTUFDbkU7QUFBQSxNQUNBLGNBQWM7QUFBQSxJQUNoQixDQUFDO0FBQUE7QUFBQTs7O0FDbENEO0FBQUEsa0RBQUFDLFNBQUE7QUFBQTtBQUVBLFFBQUksU0FBUztBQUNiLFFBQUksT0FBUztBQUViLGFBQVMsVUFBVSxHQUFHO0FBQ3BCLGFBQVMsTUFBZSxLQUFPLEtBQUssTUFDM0IsTUFBZSxLQUFPLEtBQUssTUFDM0IsTUFBZSxLQUFPLEtBQUs7QUFBQSxJQUN0QztBQUVBLGFBQVMsVUFBVSxHQUFHO0FBQ3BCLGFBQVMsTUFBZSxLQUFPLEtBQUs7QUFBQSxJQUN0QztBQUVBLGFBQVMsVUFBVSxHQUFHO0FBQ3BCLGFBQVMsTUFBZSxLQUFPLEtBQUs7QUFBQSxJQUN0QztBQUVBLGFBQVMsbUJBQW1CLE1BQU07QUFDaEMsVUFBSSxTQUFTO0FBQU0sZUFBTztBQUUxQixVQUFJLE1BQU0sS0FBSyxRQUNYLFFBQVEsR0FDUixZQUFZLE9BQ1o7QUFFSixVQUFJLENBQUM7QUFBSyxlQUFPO0FBRWpCLFdBQUssS0FBSyxLQUFLO0FBR2YsVUFBSSxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQzVCLGFBQUssS0FBSyxFQUFFLEtBQUs7QUFBQSxNQUNuQjtBQUVBLFVBQUksT0FBTyxLQUFLO0FBRWQsWUFBSSxRQUFRLE1BQU07QUFBSyxpQkFBTztBQUM5QixhQUFLLEtBQUssRUFBRSxLQUFLO0FBSWpCLFlBQUksT0FBTyxLQUFLO0FBRWQ7QUFFQSxpQkFBTyxRQUFRLEtBQUssU0FBUztBQUMzQixpQkFBSyxLQUFLLEtBQUs7QUFDZixnQkFBSSxPQUFPO0FBQUs7QUFDaEIsZ0JBQUksT0FBTyxPQUFPLE9BQU87QUFBSyxxQkFBTztBQUNyQyx3QkFBWTtBQUFBLFVBQ2Q7QUFDQSxpQkFBTyxhQUFhLE9BQU87QUFBQSxRQUM3QjtBQUdBLFlBQUksT0FBTyxLQUFLO0FBRWQ7QUFFQSxpQkFBTyxRQUFRLEtBQUssU0FBUztBQUMzQixpQkFBSyxLQUFLLEtBQUs7QUFDZixnQkFBSSxPQUFPO0FBQUs7QUFDaEIsZ0JBQUksQ0FBQyxVQUFVLEtBQUssV0FBVyxLQUFLLENBQUM7QUFBRyxxQkFBTztBQUMvQyx3QkFBWTtBQUFBLFVBQ2Q7QUFDQSxpQkFBTyxhQUFhLE9BQU87QUFBQSxRQUM3QjtBQUdBLFlBQUksT0FBTyxLQUFLO0FBRWQ7QUFFQSxpQkFBTyxRQUFRLEtBQUssU0FBUztBQUMzQixpQkFBSyxLQUFLLEtBQUs7QUFDZixnQkFBSSxPQUFPO0FBQUs7QUFDaEIsZ0JBQUksQ0FBQyxVQUFVLEtBQUssV0FBVyxLQUFLLENBQUM7QUFBRyxxQkFBTztBQUMvQyx3QkFBWTtBQUFBLFVBQ2Q7QUFDQSxpQkFBTyxhQUFhLE9BQU87QUFBQSxRQUM3QjtBQUFBLE1BQ0Y7QUFLQSxVQUFJLE9BQU87QUFBSyxlQUFPO0FBRXZCLGFBQU8sUUFBUSxLQUFLLFNBQVM7QUFDM0IsYUFBSyxLQUFLLEtBQUs7QUFDZixZQUFJLE9BQU87QUFBSztBQUNoQixZQUFJLENBQUMsVUFBVSxLQUFLLFdBQVcsS0FBSyxDQUFDLEdBQUc7QUFDdEMsaUJBQU87QUFBQSxRQUNUO0FBQ0Esb0JBQVk7QUFBQSxNQUNkO0FBR0EsVUFBSSxDQUFDLGFBQWEsT0FBTztBQUFLLGVBQU87QUFFckMsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLHFCQUFxQixNQUFNO0FBQ2xDLFVBQUksUUFBUSxNQUFNLE9BQU8sR0FBRztBQUU1QixVQUFJLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSTtBQUM3QixnQkFBUSxNQUFNLFFBQVEsTUFBTSxFQUFFO0FBQUEsTUFDaEM7QUFFQSxXQUFLLE1BQU0sQ0FBQztBQUVaLFVBQUksT0FBTyxPQUFPLE9BQU8sS0FBSztBQUM1QixZQUFJLE9BQU87QUFBSyxpQkFBTztBQUN2QixnQkFBUSxNQUFNLE1BQU0sQ0FBQztBQUNyQixhQUFLLE1BQU0sQ0FBQztBQUFBLE1BQ2Q7QUFFQSxVQUFJLFVBQVU7QUFBSyxlQUFPO0FBRTFCLFVBQUksT0FBTyxLQUFLO0FBQ2QsWUFBSSxNQUFNLENBQUMsTUFBTTtBQUFLLGlCQUFPLE9BQU8sU0FBUyxNQUFNLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDOUQsWUFBSSxNQUFNLENBQUMsTUFBTTtBQUFLLGlCQUFPLE9BQU8sU0FBUyxNQUFNLE1BQU0sQ0FBQyxHQUFHLEVBQUU7QUFDL0QsWUFBSSxNQUFNLENBQUMsTUFBTTtBQUFLLGlCQUFPLE9BQU8sU0FBUyxNQUFNLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFBQSxNQUNoRTtBQUVBLGFBQU8sT0FBTyxTQUFTLE9BQU8sRUFBRTtBQUFBLElBQ2xDO0FBRUEsYUFBUyxVQUFVLFFBQVE7QUFDekIsYUFBUSxPQUFPLFVBQVUsU0FBUyxLQUFLLE1BQU0sTUFBTyxzQkFDNUMsU0FBUyxNQUFNLEtBQUssQ0FBQyxPQUFPLGVBQWUsTUFBTTtBQUFBLElBQzNEO0FBRUEsSUFBQUEsUUFBTyxVQUFVLElBQUksS0FBSyx5QkFBeUI7QUFBQSxNQUNqRCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxXQUFXO0FBQUEsTUFDWCxXQUFXO0FBQUEsUUFDVCxRQUFhLFNBQVUsS0FBSztBQUFFLGlCQUFPLE9BQU8sSUFBSSxPQUFPLElBQUksU0FBUyxDQUFDLElBQUksUUFBUSxJQUFJLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztBQUFBLFFBQUc7QUFBQSxRQUMzRyxPQUFhLFNBQVUsS0FBSztBQUFFLGlCQUFPLE9BQU8sSUFBSSxPQUFRLElBQUksU0FBUyxDQUFDLElBQUksUUFBUyxJQUFJLFNBQVMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztBQUFBLFFBQUc7QUFBQSxRQUM3RyxTQUFhLFNBQVUsS0FBSztBQUFFLGlCQUFPLElBQUksU0FBUyxFQUFFO0FBQUEsUUFBRztBQUFBO0FBQUEsUUFFdkQsYUFBYSxTQUFVLEtBQUs7QUFBRSxpQkFBTyxPQUFPLElBQUksT0FBTyxJQUFJLFNBQVMsRUFBRSxFQUFFLFlBQVksSUFBSyxRQUFRLElBQUksU0FBUyxFQUFFLEVBQUUsWUFBWSxFQUFFLE1BQU0sQ0FBQztBQUFBLFFBQUc7QUFBQSxNQUM1STtBQUFBLE1BQ0EsY0FBYztBQUFBLE1BQ2QsY0FBYztBQUFBLFFBQ1osUUFBYSxDQUFFLEdBQUksS0FBTTtBQUFBLFFBQ3pCLE9BQWEsQ0FBRSxHQUFJLEtBQU07QUFBQSxRQUN6QixTQUFhLENBQUUsSUFBSSxLQUFNO0FBQUEsUUFDekIsYUFBYSxDQUFFLElBQUksS0FBTTtBQUFBLE1BQzNCO0FBQUEsSUFDRixDQUFDO0FBQUE7QUFBQTs7O0FDM0pEO0FBQUEsb0RBQUFDLFNBQUE7QUFBQTtBQUVBLFFBQUksU0FBUztBQUNiLFFBQUksT0FBUztBQUViLFFBQUkscUJBQXFCLElBQUk7QUFBQTtBQUFBLE1BRTNCO0FBQUEsSUFPdUI7QUFFekIsYUFBUyxpQkFBaUIsTUFBTTtBQUM5QixVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksQ0FBQyxtQkFBbUIsS0FBSyxJQUFJO0FBQUE7QUFBQSxNQUc3QixLQUFLLEtBQUssU0FBUyxDQUFDLE1BQU0sS0FBSztBQUNqQyxlQUFPO0FBQUEsTUFDVDtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxtQkFBbUIsTUFBTTtBQUNoQyxVQUFJLE9BQU87QUFFWCxjQUFTLEtBQUssUUFBUSxNQUFNLEVBQUUsRUFBRSxZQUFZO0FBQzVDLGFBQVMsTUFBTSxDQUFDLE1BQU0sTUFBTSxLQUFLO0FBRWpDLFVBQUksS0FBSyxRQUFRLE1BQU0sQ0FBQyxDQUFDLEtBQUssR0FBRztBQUMvQixnQkFBUSxNQUFNLE1BQU0sQ0FBQztBQUFBLE1BQ3ZCO0FBRUEsVUFBSSxVQUFVLFFBQVE7QUFDcEIsZUFBUSxTQUFTLElBQUssT0FBTyxvQkFBb0IsT0FBTztBQUFBLE1BRTFELFdBQVcsVUFBVSxRQUFRO0FBQzNCLGVBQU87QUFBQSxNQUNUO0FBQ0EsYUFBTyxPQUFPLFdBQVcsT0FBTyxFQUFFO0FBQUEsSUFDcEM7QUFHQSxRQUFJLHlCQUF5QjtBQUU3QixhQUFTLG1CQUFtQixRQUFRLE9BQU87QUFDekMsVUFBSTtBQUVKLFVBQUksTUFBTSxNQUFNLEdBQUc7QUFDakIsZ0JBQVEsT0FBTztBQUFBLFVBQ2IsS0FBSztBQUFhLG1CQUFPO0FBQUEsVUFDekIsS0FBSztBQUFhLG1CQUFPO0FBQUEsVUFDekIsS0FBSztBQUFhLG1CQUFPO0FBQUEsUUFDM0I7QUFBQSxNQUNGLFdBQVcsT0FBTyxzQkFBc0IsUUFBUTtBQUM5QyxnQkFBUSxPQUFPO0FBQUEsVUFDYixLQUFLO0FBQWEsbUJBQU87QUFBQSxVQUN6QixLQUFLO0FBQWEsbUJBQU87QUFBQSxVQUN6QixLQUFLO0FBQWEsbUJBQU87QUFBQSxRQUMzQjtBQUFBLE1BQ0YsV0FBVyxPQUFPLHNCQUFzQixRQUFRO0FBQzlDLGdCQUFRLE9BQU87QUFBQSxVQUNiLEtBQUs7QUFBYSxtQkFBTztBQUFBLFVBQ3pCLEtBQUs7QUFBYSxtQkFBTztBQUFBLFVBQ3pCLEtBQUs7QUFBYSxtQkFBTztBQUFBLFFBQzNCO0FBQUEsTUFDRixXQUFXLE9BQU8sZUFBZSxNQUFNLEdBQUc7QUFDeEMsZUFBTztBQUFBLE1BQ1Q7QUFFQSxZQUFNLE9BQU8sU0FBUyxFQUFFO0FBS3hCLGFBQU8sdUJBQXVCLEtBQUssR0FBRyxJQUFJLElBQUksUUFBUSxLQUFLLElBQUksSUFBSTtBQUFBLElBQ3JFO0FBRUEsYUFBUyxRQUFRLFFBQVE7QUFDdkIsYUFBUSxPQUFPLFVBQVUsU0FBUyxLQUFLLE1BQU0sTUFBTSxzQkFDM0MsU0FBUyxNQUFNLEtBQUssT0FBTyxlQUFlLE1BQU07QUFBQSxJQUMxRDtBQUVBLElBQUFBLFFBQU8sVUFBVSxJQUFJLEtBQUssMkJBQTJCO0FBQUEsTUFDbkQsTUFBTTtBQUFBLE1BQ04sU0FBUztBQUFBLE1BQ1QsV0FBVztBQUFBLE1BQ1gsV0FBVztBQUFBLE1BQ1gsV0FBVztBQUFBLE1BQ1gsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQTtBQUFBOzs7QUNoR0Q7QUFBQSxxREFBQUMsU0FBQTtBQUFBO0FBV0EsSUFBQUEsUUFBTyxVQUFVLG1CQUFzQixPQUFPO0FBQUEsTUFDNUMsVUFBVTtBQUFBLFFBQ1I7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDO0FBQUE7QUFBQTs7O0FDbEJEO0FBQUEscURBQUFDLFNBQUE7QUFBQTtBQVVBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ1ZqQjtBQUFBLHdEQUFBQyxTQUFBO0FBQUE7QUFFQSxRQUFJLE9BQU87QUFFWCxRQUFJLG1CQUFtQixJQUFJO0FBQUEsTUFDekI7QUFBQSxJQUVnQjtBQUVsQixRQUFJLHdCQUF3QixJQUFJO0FBQUEsTUFDOUI7QUFBQSxJQVN3QjtBQUUxQixhQUFTLHFCQUFxQixNQUFNO0FBQ2xDLFVBQUksU0FBUztBQUFNLGVBQU87QUFDMUIsVUFBSSxpQkFBaUIsS0FBSyxJQUFJLE1BQU07QUFBTSxlQUFPO0FBQ2pELFVBQUksc0JBQXNCLEtBQUssSUFBSSxNQUFNO0FBQU0sZUFBTztBQUN0RCxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsdUJBQXVCLE1BQU07QUFDcEMsVUFBSSxPQUFPLE1BQU0sT0FBTyxLQUFLLE1BQU0sUUFBUSxRQUFRLFdBQVcsR0FDMUQsUUFBUSxNQUFNLFNBQVMsV0FBVztBQUV0QyxjQUFRLGlCQUFpQixLQUFLLElBQUk7QUFDbEMsVUFBSSxVQUFVO0FBQU0sZ0JBQVEsc0JBQXNCLEtBQUssSUFBSTtBQUUzRCxVQUFJLFVBQVU7QUFBTSxjQUFNLElBQUksTUFBTSxvQkFBb0I7QUFJeEQsYUFBTyxDQUFFLE1BQU0sQ0FBQztBQUNoQixjQUFRLENBQUUsTUFBTSxDQUFDLElBQUs7QUFDdEIsWUFBTSxDQUFFLE1BQU0sQ0FBQztBQUVmLFVBQUksQ0FBQyxNQUFNLENBQUMsR0FBRztBQUNiLGVBQU8sSUFBSSxLQUFLLEtBQUssSUFBSSxNQUFNLE9BQU8sR0FBRyxDQUFDO0FBQUEsTUFDNUM7QUFJQSxhQUFPLENBQUUsTUFBTSxDQUFDO0FBQ2hCLGVBQVMsQ0FBRSxNQUFNLENBQUM7QUFDbEIsZUFBUyxDQUFFLE1BQU0sQ0FBQztBQUVsQixVQUFJLE1BQU0sQ0FBQyxHQUFHO0FBQ1osbUJBQVcsTUFBTSxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUM7QUFDOUIsZUFBTyxTQUFTLFNBQVMsR0FBRztBQUMxQixzQkFBWTtBQUFBLFFBQ2Q7QUFDQSxtQkFBVyxDQUFDO0FBQUEsTUFDZDtBQUlBLFVBQUksTUFBTSxDQUFDLEdBQUc7QUFDWixrQkFBVSxDQUFFLE1BQU0sRUFBRTtBQUNwQixvQkFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLO0FBQzNCLGlCQUFTLFVBQVUsS0FBSyxhQUFhO0FBQ3JDLFlBQUksTUFBTSxDQUFDLE1BQU07QUFBSyxrQkFBUSxDQUFDO0FBQUEsTUFDakM7QUFFQSxhQUFPLElBQUksS0FBSyxLQUFLLElBQUksTUFBTSxPQUFPLEtBQUssTUFBTSxRQUFRLFFBQVEsUUFBUSxDQUFDO0FBRTFFLFVBQUk7QUFBTyxhQUFLLFFBQVEsS0FBSyxRQUFRLElBQUksS0FBSztBQUU5QyxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsdUJBQXVCLFFBQW9CO0FBQ2xELGFBQU8sT0FBTyxZQUFZO0FBQUEsSUFDNUI7QUFFQSxJQUFBQSxRQUFPLFVBQVUsSUFBSSxLQUFLLCtCQUErQjtBQUFBLE1BQ3ZELE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLFlBQVk7QUFBQSxNQUNaLFdBQVc7QUFBQSxJQUNiLENBQUM7QUFBQTtBQUFBOzs7QUN2RkQ7QUFBQSxvREFBQUMsU0FBQTtBQUFBO0FBRUEsUUFBSSxPQUFPO0FBRVgsYUFBUyxpQkFBaUIsTUFBTTtBQUM5QixhQUFPLFNBQVMsUUFBUSxTQUFTO0FBQUEsSUFDbkM7QUFFQSxJQUFBQSxRQUFPLFVBQVUsSUFBSSxLQUFLLDJCQUEyQjtBQUFBLE1BQ25ELE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxJQUNYLENBQUM7QUFBQTtBQUFBOzs7QUNYRDtBQUFBLHFEQUFBQyxTQUFBO0FBQUE7QUFLQSxRQUFJLE9BQU87QUFJWCxRQUFJLGFBQWE7QUFHakIsYUFBUyxrQkFBa0IsTUFBTTtBQUMvQixVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksTUFBTSxLQUFLLFNBQVMsR0FBRyxNQUFNLEtBQUssUUFBUSxNQUFNO0FBR3BELFdBQUssTUFBTSxHQUFHLE1BQU0sS0FBSyxPQUFPO0FBQzlCLGVBQU8sSUFBSSxRQUFRLEtBQUssT0FBTyxHQUFHLENBQUM7QUFHbkMsWUFBSSxPQUFPO0FBQUk7QUFHZixZQUFJLE9BQU87QUFBRyxpQkFBTztBQUVyQixrQkFBVTtBQUFBLE1BQ1o7QUFHQSxhQUFRLFNBQVMsTUFBTztBQUFBLElBQzFCO0FBRUEsYUFBUyxvQkFBb0IsTUFBTTtBQUNqQyxVQUFJLEtBQUssVUFDTCxRQUFRLEtBQUssUUFBUSxZQUFZLEVBQUUsR0FDbkMsTUFBTSxNQUFNLFFBQ1osTUFBTSxZQUNOLE9BQU8sR0FDUCxTQUFTLENBQUM7QUFJZCxXQUFLLE1BQU0sR0FBRyxNQUFNLEtBQUssT0FBTztBQUM5QixZQUFLLE1BQU0sTUFBTSxLQUFNLEtBQUs7QUFDMUIsaUJBQU8sS0FBTSxRQUFRLEtBQU0sR0FBSTtBQUMvQixpQkFBTyxLQUFNLFFBQVEsSUFBSyxHQUFJO0FBQzlCLGlCQUFPLEtBQUssT0FBTyxHQUFJO0FBQUEsUUFDekI7QUFFQSxlQUFRLFFBQVEsSUFBSyxJQUFJLFFBQVEsTUFBTSxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQ3BEO0FBSUEsaUJBQVksTUFBTSxJQUFLO0FBRXZCLFVBQUksYUFBYSxHQUFHO0FBQ2xCLGVBQU8sS0FBTSxRQUFRLEtBQU0sR0FBSTtBQUMvQixlQUFPLEtBQU0sUUFBUSxJQUFLLEdBQUk7QUFDOUIsZUFBTyxLQUFLLE9BQU8sR0FBSTtBQUFBLE1BQ3pCLFdBQVcsYUFBYSxJQUFJO0FBQzFCLGVBQU8sS0FBTSxRQUFRLEtBQU0sR0FBSTtBQUMvQixlQUFPLEtBQU0sUUFBUSxJQUFLLEdBQUk7QUFBQSxNQUNoQyxXQUFXLGFBQWEsSUFBSTtBQUMxQixlQUFPLEtBQU0sUUFBUSxJQUFLLEdBQUk7QUFBQSxNQUNoQztBQUVBLGFBQU8sSUFBSSxXQUFXLE1BQU07QUFBQSxJQUM5QjtBQUVBLGFBQVMsb0JBQW9CLFFBQW9CO0FBQy9DLFVBQUksU0FBUyxJQUFJLE9BQU8sR0FBRyxLQUFLLE1BQzVCLE1BQU0sT0FBTyxRQUNiLE1BQU07QUFJVixXQUFLLE1BQU0sR0FBRyxNQUFNLEtBQUssT0FBTztBQUM5QixZQUFLLE1BQU0sTUFBTSxLQUFNLEtBQUs7QUFDMUIsb0JBQVUsSUFBSyxRQUFRLEtBQU0sRUFBSTtBQUNqQyxvQkFBVSxJQUFLLFFBQVEsS0FBTSxFQUFJO0FBQ2pDLG9CQUFVLElBQUssUUFBUSxJQUFLLEVBQUk7QUFDaEMsb0JBQVUsSUFBSSxPQUFPLEVBQUk7QUFBQSxRQUMzQjtBQUVBLGdCQUFRLFFBQVEsS0FBSyxPQUFPLEdBQUc7QUFBQSxNQUNqQztBQUlBLGFBQU8sTUFBTTtBQUViLFVBQUksU0FBUyxHQUFHO0FBQ2Qsa0JBQVUsSUFBSyxRQUFRLEtBQU0sRUFBSTtBQUNqQyxrQkFBVSxJQUFLLFFBQVEsS0FBTSxFQUFJO0FBQ2pDLGtCQUFVLElBQUssUUFBUSxJQUFLLEVBQUk7QUFDaEMsa0JBQVUsSUFBSSxPQUFPLEVBQUk7QUFBQSxNQUMzQixXQUFXLFNBQVMsR0FBRztBQUNyQixrQkFBVSxJQUFLLFFBQVEsS0FBTSxFQUFJO0FBQ2pDLGtCQUFVLElBQUssUUFBUSxJQUFLLEVBQUk7QUFDaEMsa0JBQVUsSUFBSyxRQUFRLElBQUssRUFBSTtBQUNoQyxrQkFBVSxJQUFJLEVBQUU7QUFBQSxNQUNsQixXQUFXLFNBQVMsR0FBRztBQUNyQixrQkFBVSxJQUFLLFFBQVEsSUFBSyxFQUFJO0FBQ2hDLGtCQUFVLElBQUssUUFBUSxJQUFLLEVBQUk7QUFDaEMsa0JBQVUsSUFBSSxFQUFFO0FBQ2hCLGtCQUFVLElBQUksRUFBRTtBQUFBLE1BQ2xCO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLFNBQVMsS0FBSztBQUNyQixhQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFPO0FBQUEsSUFDbEQ7QUFFQSxJQUFBQSxRQUFPLFVBQVUsSUFBSSxLQUFLLDRCQUE0QjtBQUFBLE1BQ3BELE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLFdBQVc7QUFBQSxNQUNYLFdBQVc7QUFBQSxJQUNiLENBQUM7QUFBQTtBQUFBOzs7QUM1SEQ7QUFBQSxtREFBQUMsU0FBQTtBQUFBO0FBRUEsUUFBSSxPQUFPO0FBRVgsUUFBSSxrQkFBa0IsT0FBTyxVQUFVO0FBQ3ZDLFFBQUksWUFBa0IsT0FBTyxVQUFVO0FBRXZDLGFBQVMsZ0JBQWdCLE1BQU07QUFDN0IsVUFBSSxTQUFTO0FBQU0sZUFBTztBQUUxQixVQUFJLGFBQWEsQ0FBQyxHQUFHLE9BQU8sUUFBUSxNQUFNLFNBQVMsWUFDL0MsU0FBUztBQUViLFdBQUssUUFBUSxHQUFHLFNBQVMsT0FBTyxRQUFRLFFBQVEsUUFBUSxTQUFTLEdBQUc7QUFDbEUsZUFBTyxPQUFPLEtBQUs7QUFDbkIscUJBQWE7QUFFYixZQUFJLFVBQVUsS0FBSyxJQUFJLE1BQU07QUFBbUIsaUJBQU87QUFFdkQsYUFBSyxXQUFXLE1BQU07QUFDcEIsY0FBSSxnQkFBZ0IsS0FBSyxNQUFNLE9BQU8sR0FBRztBQUN2QyxnQkFBSSxDQUFDO0FBQVksMkJBQWE7QUFBQTtBQUN6QixxQkFBTztBQUFBLFVBQ2Q7QUFBQSxRQUNGO0FBRUEsWUFBSSxDQUFDO0FBQVksaUJBQU87QUFFeEIsWUFBSSxXQUFXLFFBQVEsT0FBTyxNQUFNO0FBQUkscUJBQVcsS0FBSyxPQUFPO0FBQUE7QUFDMUQsaUJBQU87QUFBQSxNQUNkO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGtCQUFrQixNQUFNO0FBQy9CLGFBQU8sU0FBUyxPQUFPLE9BQU8sQ0FBQztBQUFBLElBQ2pDO0FBRUEsSUFBQUEsUUFBTyxVQUFVLElBQUksS0FBSywwQkFBMEI7QUFBQSxNQUNsRCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsSUFDYixDQUFDO0FBQUE7QUFBQTs7O0FDM0NEO0FBQUEsb0RBQUFDLFNBQUE7QUFBQTtBQUVBLFFBQUksT0FBTztBQUVYLFFBQUksWUFBWSxPQUFPLFVBQVU7QUFFakMsYUFBUyxpQkFBaUIsTUFBTTtBQUM5QixVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksT0FBTyxRQUFRLE1BQU0sTUFBTSxRQUMzQixTQUFTO0FBRWIsZUFBUyxJQUFJLE1BQU0sT0FBTyxNQUFNO0FBRWhDLFdBQUssUUFBUSxHQUFHLFNBQVMsT0FBTyxRQUFRLFFBQVEsUUFBUSxTQUFTLEdBQUc7QUFDbEUsZUFBTyxPQUFPLEtBQUs7QUFFbkIsWUFBSSxVQUFVLEtBQUssSUFBSSxNQUFNO0FBQW1CLGlCQUFPO0FBRXZELGVBQU8sT0FBTyxLQUFLLElBQUk7QUFFdkIsWUFBSSxLQUFLLFdBQVc7QUFBRyxpQkFBTztBQUU5QixlQUFPLEtBQUssSUFBSSxDQUFFLEtBQUssQ0FBQyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBRTtBQUFBLE1BQzNDO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLG1CQUFtQixNQUFNO0FBQ2hDLFVBQUksU0FBUztBQUFNLGVBQU8sQ0FBQztBQUUzQixVQUFJLE9BQU8sUUFBUSxNQUFNLE1BQU0sUUFDM0IsU0FBUztBQUViLGVBQVMsSUFBSSxNQUFNLE9BQU8sTUFBTTtBQUVoQyxXQUFLLFFBQVEsR0FBRyxTQUFTLE9BQU8sUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBQ2xFLGVBQU8sT0FBTyxLQUFLO0FBRW5CLGVBQU8sT0FBTyxLQUFLLElBQUk7QUFFdkIsZUFBTyxLQUFLLElBQUksQ0FBRSxLQUFLLENBQUMsR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUU7QUFBQSxNQUMzQztBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsSUFBQUEsUUFBTyxVQUFVLElBQUksS0FBSywyQkFBMkI7QUFBQSxNQUNuRCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsSUFDYixDQUFDO0FBQUE7QUFBQTs7O0FDcEREO0FBQUEsa0RBQUFDLFNBQUE7QUFBQTtBQUVBLFFBQUksT0FBTztBQUVYLFFBQUksa0JBQWtCLE9BQU8sVUFBVTtBQUV2QyxhQUFTLGVBQWUsTUFBTTtBQUM1QixVQUFJLFNBQVM7QUFBTSxlQUFPO0FBRTFCLFVBQUksS0FBSyxTQUFTO0FBRWxCLFdBQUssT0FBTyxRQUFRO0FBQ2xCLFlBQUksZ0JBQWdCLEtBQUssUUFBUSxHQUFHLEdBQUc7QUFDckMsY0FBSSxPQUFPLEdBQUcsTUFBTTtBQUFNLG1CQUFPO0FBQUEsUUFDbkM7QUFBQSxNQUNGO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGlCQUFpQixNQUFNO0FBQzlCLGFBQU8sU0FBUyxPQUFPLE9BQU8sQ0FBQztBQUFBLElBQ2pDO0FBRUEsSUFBQUEsUUFBTyxVQUFVLElBQUksS0FBSyx5QkFBeUI7QUFBQSxNQUNqRCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsSUFDYixDQUFDO0FBQUE7QUFBQTs7O0FDNUJEO0FBQUEsd0RBQUFDLFNBQUE7QUFBQTtBQVVBLElBQUFBLFFBQU8sVUFBVSxlQUFrQixPQUFPO0FBQUEsTUFDeEMsVUFBVTtBQUFBLFFBQ1I7QUFBQSxRQUNBO0FBQUEsTUFDRjtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1I7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDO0FBQUE7QUFBQTs7O0FDckJEO0FBQUEsZ0RBQUFDLFNBQUE7QUFBQTtBQUlBLFFBQUksU0FBc0I7QUFDMUIsUUFBSSxnQkFBc0I7QUFDMUIsUUFBSSxjQUFzQjtBQUMxQixRQUFJLGlCQUFzQjtBQUcxQixRQUFJLGtCQUFrQixPQUFPLFVBQVU7QUFHdkMsUUFBSSxrQkFBb0I7QUFDeEIsUUFBSSxtQkFBb0I7QUFDeEIsUUFBSSxtQkFBb0I7QUFDeEIsUUFBSSxvQkFBb0I7QUFHeEIsUUFBSSxnQkFBaUI7QUFDckIsUUFBSSxpQkFBaUI7QUFDckIsUUFBSSxnQkFBaUI7QUFHckIsUUFBSSx3QkFBZ0M7QUFDcEMsUUFBSSxnQ0FBZ0M7QUFDcEMsUUFBSSwwQkFBZ0M7QUFDcEMsUUFBSSxxQkFBZ0M7QUFDcEMsUUFBSSxrQkFBZ0M7QUFHcEMsYUFBUyxPQUFPLEtBQUs7QUFBRSxhQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRztBQUFBLElBQUc7QUFFbkUsYUFBUyxPQUFPLEdBQUc7QUFDakIsYUFBUSxNQUFNLE1BQWtCLE1BQU07QUFBQSxJQUN4QztBQUVBLGFBQVMsZUFBZSxHQUFHO0FBQ3pCLGFBQVEsTUFBTSxLQUFtQixNQUFNO0FBQUEsSUFDekM7QUFFQSxhQUFTLGFBQWEsR0FBRztBQUN2QixhQUFRLE1BQU0sS0FDTixNQUFNLE1BQ04sTUFBTSxNQUNOLE1BQU07QUFBQSxJQUNoQjtBQUVBLGFBQVMsa0JBQWtCLEdBQUc7QUFDNUIsYUFBTyxNQUFNLE1BQ04sTUFBTSxNQUNOLE1BQU0sTUFDTixNQUFNLE9BQ04sTUFBTTtBQUFBLElBQ2Y7QUFFQSxhQUFTLFlBQVksR0FBRztBQUN0QixVQUFJO0FBRUosVUFBSyxNQUFlLEtBQU8sS0FBSyxJQUFjO0FBQzVDLGVBQU8sSUFBSTtBQUFBLE1BQ2I7QUFHQSxXQUFLLElBQUk7QUFFVCxVQUFLLE1BQWUsTUFBUSxNQUFNLEtBQWM7QUFDOUMsZUFBTyxLQUFLLEtBQU87QUFBQSxNQUNyQjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxjQUFjLEdBQUc7QUFDeEIsVUFBSSxNQUFNLEtBQWE7QUFBRSxlQUFPO0FBQUEsTUFBRztBQUNuQyxVQUFJLE1BQU0sS0FBYTtBQUFFLGVBQU87QUFBQSxNQUFHO0FBQ25DLFVBQUksTUFBTSxJQUFhO0FBQUUsZUFBTztBQUFBLE1BQUc7QUFDbkMsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGdCQUFnQixHQUFHO0FBQzFCLFVBQUssTUFBZSxLQUFPLEtBQUssSUFBYztBQUM1QyxlQUFPLElBQUk7QUFBQSxNQUNiO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLHFCQUFxQixHQUFHO0FBRS9CLGFBQVEsTUFBTSxLQUFlLE9BQ3RCLE1BQU0sS0FBZSxTQUNyQixNQUFNLEtBQWUsT0FDckIsTUFBTSxNQUFlLE1BQ3JCLE1BQU0sSUFBaUIsTUFDdkIsTUFBTSxNQUFlLE9BQ3JCLE1BQU0sTUFBZSxPQUNyQixNQUFNLE1BQWUsT0FDckIsTUFBTSxNQUFlLE9BQ3JCLE1BQU0sTUFBZSxTQUNyQixNQUFNLEtBQW1CLE1BQ3pCLE1BQU0sS0FBZSxNQUNyQixNQUFNLEtBQWUsTUFDckIsTUFBTSxLQUFlLE9BQ3JCLE1BQU0sS0FBZSxTQUNyQixNQUFNLEtBQWUsU0FDckIsTUFBTSxLQUFlLFdBQ3JCLE1BQU0sS0FBZSxXQUFXO0FBQUEsSUFDekM7QUFFQSxhQUFTLGtCQUFrQixHQUFHO0FBQzVCLFVBQUksS0FBSyxPQUFRO0FBQ2YsZUFBTyxPQUFPLGFBQWEsQ0FBQztBQUFBLE1BQzlCO0FBR0EsYUFBTyxPQUFPO0FBQUEsU0FDVixJQUFJLFNBQWEsTUFBTTtBQUFBLFNBQ3ZCLElBQUksUUFBWSxRQUFVO0FBQUEsTUFDOUI7QUFBQSxJQUNGO0FBRUEsUUFBSSxvQkFBb0IsSUFBSSxNQUFNLEdBQUc7QUFDckMsUUFBSSxrQkFBa0IsSUFBSSxNQUFNLEdBQUc7QUFDbkMsU0FBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLEtBQUs7QUFDNUIsd0JBQWtCLENBQUMsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLElBQUk7QUFDckQsc0JBQWdCLENBQUMsSUFBSSxxQkFBcUIsQ0FBQztBQUFBLElBQzdDO0FBSFM7QUFNVCxhQUFTLE1BQU0sT0FBTyxTQUFTO0FBQzdCLFdBQUssUUFBUTtBQUViLFdBQUssV0FBWSxRQUFRLFVBQVUsS0FBTTtBQUN6QyxXQUFLLFNBQVksUUFBUSxRQUFRLEtBQVE7QUFDekMsV0FBSyxZQUFZLFFBQVEsV0FBVyxLQUFLO0FBR3pDLFdBQUssU0FBWSxRQUFRLFFBQVEsS0FBUTtBQUV6QyxXQUFLLE9BQVksUUFBUSxNQUFNLEtBQVU7QUFDekMsV0FBSyxXQUFZLFFBQVEsVUFBVSxLQUFNO0FBRXpDLFdBQUssZ0JBQWdCLEtBQUssT0FBTztBQUNqQyxXQUFLLFVBQWdCLEtBQUssT0FBTztBQUVqQyxXQUFLLFNBQWEsTUFBTTtBQUN4QixXQUFLLFdBQWE7QUFDbEIsV0FBSyxPQUFhO0FBQ2xCLFdBQUssWUFBYTtBQUNsQixXQUFLLGFBQWE7QUFJbEIsV0FBSyxpQkFBaUI7QUFFdEIsV0FBSyxZQUFZLENBQUM7QUFBQSxJQVlwQjtBQUdBLGFBQVMsY0FBYyxPQUFPLFNBQVM7QUFDckMsVUFBSSxPQUFPO0FBQUEsUUFDVCxNQUFVLE1BQU07QUFBQSxRQUNoQixRQUFVLE1BQU0sTUFBTSxNQUFNLEdBQUcsRUFBRTtBQUFBO0FBQUEsUUFDakMsVUFBVSxNQUFNO0FBQUEsUUFDaEIsTUFBVSxNQUFNO0FBQUEsUUFDaEIsUUFBVSxNQUFNLFdBQVcsTUFBTTtBQUFBLE1BQ25DO0FBRUEsV0FBSyxVQUFVLFlBQVksSUFBSTtBQUUvQixhQUFPLElBQUksY0FBYyxTQUFTLElBQUk7QUFBQSxJQUN4QztBQUVBLGFBQVMsV0FBVyxPQUFPLFNBQVM7QUFDbEMsWUFBTSxjQUFjLE9BQU8sT0FBTztBQUFBLElBQ3BDO0FBRUEsYUFBUyxhQUFhLE9BQU8sU0FBUztBQUNwQyxVQUFJLE1BQU0sV0FBVztBQUNuQixjQUFNLFVBQVUsS0FBSyxNQUFNLGNBQWMsT0FBTyxPQUFPLENBQUM7QUFBQSxNQUMxRDtBQUFBLElBQ0Y7QUFHQSxRQUFJLG9CQUFvQjtBQUFBLE1BRXRCLE1BQU0sU0FBUyxvQkFBb0IsT0FBTyxNQUFNLE1BQU07QUFFcEQsWUFBSSxPQUFPLE9BQU87QUFFbEIsWUFBSSxNQUFNLFlBQVksTUFBTTtBQUMxQixxQkFBVyxPQUFPLGdDQUFnQztBQUFBLFFBQ3BEO0FBRUEsWUFBSSxLQUFLLFdBQVcsR0FBRztBQUNyQixxQkFBVyxPQUFPLDZDQUE2QztBQUFBLFFBQ2pFO0FBRUEsZ0JBQVEsdUJBQXVCLEtBQUssS0FBSyxDQUFDLENBQUM7QUFFM0MsWUFBSSxVQUFVLE1BQU07QUFDbEIscUJBQVcsT0FBTywyQ0FBMkM7QUFBQSxRQUMvRDtBQUVBLGdCQUFRLFNBQVMsTUFBTSxDQUFDLEdBQUcsRUFBRTtBQUM3QixnQkFBUSxTQUFTLE1BQU0sQ0FBQyxHQUFHLEVBQUU7QUFFN0IsWUFBSSxVQUFVLEdBQUc7QUFDZixxQkFBVyxPQUFPLDJDQUEyQztBQUFBLFFBQy9EO0FBRUEsY0FBTSxVQUFVLEtBQUssQ0FBQztBQUN0QixjQUFNLGtCQUFtQixRQUFRO0FBRWpDLFlBQUksVUFBVSxLQUFLLFVBQVUsR0FBRztBQUM5Qix1QkFBYSxPQUFPLDBDQUEwQztBQUFBLFFBQ2hFO0FBQUEsTUFDRjtBQUFBLE1BRUEsS0FBSyxTQUFTLG1CQUFtQixPQUFPLE1BQU0sTUFBTTtBQUVsRCxZQUFJLFFBQVE7QUFFWixZQUFJLEtBQUssV0FBVyxHQUFHO0FBQ3JCLHFCQUFXLE9BQU8sNkNBQTZDO0FBQUEsUUFDakU7QUFFQSxpQkFBUyxLQUFLLENBQUM7QUFDZixpQkFBUyxLQUFLLENBQUM7QUFFZixZQUFJLENBQUMsbUJBQW1CLEtBQUssTUFBTSxHQUFHO0FBQ3BDLHFCQUFXLE9BQU8sNkRBQTZEO0FBQUEsUUFDakY7QUFFQSxZQUFJLGdCQUFnQixLQUFLLE1BQU0sUUFBUSxNQUFNLEdBQUc7QUFDOUMscUJBQVcsT0FBTyxnREFBZ0QsU0FBUyxjQUFjO0FBQUEsUUFDM0Y7QUFFQSxZQUFJLENBQUMsZ0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2pDLHFCQUFXLE9BQU8sOERBQThEO0FBQUEsUUFDbEY7QUFFQSxZQUFJO0FBQ0YsbUJBQVMsbUJBQW1CLE1BQU07QUFBQSxRQUNwQyxTQUFTLEtBQVA7QUFDQSxxQkFBVyxPQUFPLDhCQUE4QixNQUFNO0FBQUEsUUFDeEQ7QUFFQSxjQUFNLE9BQU8sTUFBTSxJQUFJO0FBQUEsTUFDekI7QUFBQSxJQUNGO0FBR0EsYUFBUyxlQUFlLE9BQU8sT0FBTyxLQUFLLFdBQVc7QUFDcEQsVUFBSSxXQUFXLFNBQVMsWUFBWTtBQUVwQyxVQUFJLFFBQVEsS0FBSztBQUNmLGtCQUFVLE1BQU0sTUFBTSxNQUFNLE9BQU8sR0FBRztBQUV0QyxZQUFJLFdBQVc7QUFDYixlQUFLLFlBQVksR0FBRyxVQUFVLFFBQVEsUUFBUSxZQUFZLFNBQVMsYUFBYSxHQUFHO0FBQ2pGLHlCQUFhLFFBQVEsV0FBVyxTQUFTO0FBQ3pDLGdCQUFJLEVBQUUsZUFBZSxLQUNkLE1BQVEsY0FBYyxjQUFjLFVBQVk7QUFDckQseUJBQVcsT0FBTywrQkFBK0I7QUFBQSxZQUNuRDtBQUFBLFVBQ0Y7QUFBQSxRQUNGLFdBQVcsc0JBQXNCLEtBQUssT0FBTyxHQUFHO0FBQzlDLHFCQUFXLE9BQU8sOENBQThDO0FBQUEsUUFDbEU7QUFFQSxjQUFNLFVBQVU7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFFQSxhQUFTLGNBQWMsT0FBTyxhQUFhLFFBQVEsaUJBQWlCO0FBQ2xFLFVBQUksWUFBWSxLQUFLLE9BQU87QUFFNUIsVUFBSSxDQUFDLE9BQU8sU0FBUyxNQUFNLEdBQUc7QUFDNUIsbUJBQVcsT0FBTyxtRUFBbUU7QUFBQSxNQUN2RjtBQUVBLG1CQUFhLE9BQU8sS0FBSyxNQUFNO0FBRS9CLFdBQUssUUFBUSxHQUFHLFdBQVcsV0FBVyxRQUFRLFFBQVEsVUFBVSxTQUFTLEdBQUc7QUFDMUUsY0FBTSxXQUFXLEtBQUs7QUFFdEIsWUFBSSxDQUFDLGdCQUFnQixLQUFLLGFBQWEsR0FBRyxHQUFHO0FBQzNDLHNCQUFZLEdBQUcsSUFBSSxPQUFPLEdBQUc7QUFDN0IsMEJBQWdCLEdBQUcsSUFBSTtBQUFBLFFBQ3pCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFFQSxhQUFTLGlCQUFpQixPQUFPLFNBQVMsaUJBQWlCLFFBQVEsU0FBUyxXQUMxRSxXQUFXLGdCQUFnQixVQUFVO0FBRXJDLFVBQUksT0FBTztBQUtYLFVBQUksTUFBTSxRQUFRLE9BQU8sR0FBRztBQUMxQixrQkFBVSxNQUFNLFVBQVUsTUFBTSxLQUFLLE9BQU87QUFFNUMsYUFBSyxRQUFRLEdBQUcsV0FBVyxRQUFRLFFBQVEsUUFBUSxVQUFVLFNBQVMsR0FBRztBQUN2RSxjQUFJLE1BQU0sUUFBUSxRQUFRLEtBQUssQ0FBQyxHQUFHO0FBQ2pDLHVCQUFXLE9BQU8sNkNBQTZDO0FBQUEsVUFDakU7QUFFQSxjQUFJLE9BQU8sWUFBWSxZQUFZLE9BQU8sUUFBUSxLQUFLLENBQUMsTUFBTSxtQkFBbUI7QUFDL0Usb0JBQVEsS0FBSyxJQUFJO0FBQUEsVUFDbkI7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUtBLFVBQUksT0FBTyxZQUFZLFlBQVksT0FBTyxPQUFPLE1BQU0sbUJBQW1CO0FBQ3hFLGtCQUFVO0FBQUEsTUFDWjtBQUdBLGdCQUFVLE9BQU8sT0FBTztBQUV4QixVQUFJLFlBQVksTUFBTTtBQUNwQixrQkFBVSxDQUFDO0FBQUEsTUFDYjtBQUVBLFVBQUksV0FBVywyQkFBMkI7QUFDeEMsWUFBSSxNQUFNLFFBQVEsU0FBUyxHQUFHO0FBQzVCLGVBQUssUUFBUSxHQUFHLFdBQVcsVUFBVSxRQUFRLFFBQVEsVUFBVSxTQUFTLEdBQUc7QUFDekUsMEJBQWMsT0FBTyxTQUFTLFVBQVUsS0FBSyxHQUFHLGVBQWU7QUFBQSxVQUNqRTtBQUFBLFFBQ0YsT0FBTztBQUNMLHdCQUFjLE9BQU8sU0FBUyxXQUFXLGVBQWU7QUFBQSxRQUMxRDtBQUFBLE1BQ0YsT0FBTztBQUNMLFlBQUksQ0FBQyxNQUFNLFFBQ1AsQ0FBQyxnQkFBZ0IsS0FBSyxpQkFBaUIsT0FBTyxLQUM5QyxnQkFBZ0IsS0FBSyxTQUFTLE9BQU8sR0FBRztBQUMxQyxnQkFBTSxPQUFPLGFBQWEsTUFBTTtBQUNoQyxnQkFBTSxZQUFZLGtCQUFrQixNQUFNO0FBQzFDLGdCQUFNLFdBQVcsWUFBWSxNQUFNO0FBQ25DLHFCQUFXLE9BQU8sd0JBQXdCO0FBQUEsUUFDNUM7QUFHQSxZQUFJLFlBQVksYUFBYTtBQUMzQixpQkFBTyxlQUFlLFNBQVMsU0FBUztBQUFBLFlBQ3RDLGNBQWM7QUFBQSxZQUNkLFlBQVk7QUFBQSxZQUNaLFVBQVU7QUFBQSxZQUNWLE9BQU87QUFBQSxVQUNULENBQUM7QUFBQSxRQUNILE9BQU87QUFDTCxrQkFBUSxPQUFPLElBQUk7QUFBQSxRQUNyQjtBQUNBLGVBQU8sZ0JBQWdCLE9BQU87QUFBQSxNQUNoQztBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxjQUFjLE9BQU87QUFDNUIsVUFBSTtBQUVKLFdBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLFVBQUksT0FBTyxJQUFjO0FBQ3ZCLGNBQU07QUFBQSxNQUNSLFdBQVcsT0FBTyxJQUFjO0FBQzlCLGNBQU07QUFDTixZQUFJLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUSxNQUFNLElBQWM7QUFDM0QsZ0JBQU07QUFBQSxRQUNSO0FBQUEsTUFDRixPQUFPO0FBQ0wsbUJBQVcsT0FBTywwQkFBMEI7QUFBQSxNQUM5QztBQUVBLFlBQU0sUUFBUTtBQUNkLFlBQU0sWUFBWSxNQUFNO0FBQ3hCLFlBQU0saUJBQWlCO0FBQUEsSUFDekI7QUFFQSxhQUFTLG9CQUFvQixPQUFPLGVBQWUsYUFBYTtBQUM5RCxVQUFJLGFBQWEsR0FDYixLQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUU5QyxhQUFPLE9BQU8sR0FBRztBQUNmLGVBQU8sZUFBZSxFQUFFLEdBQUc7QUFDekIsY0FBSSxPQUFPLEtBQWlCLE1BQU0sbUJBQW1CLElBQUk7QUFDdkQsa0JBQU0saUJBQWlCLE1BQU07QUFBQSxVQUMvQjtBQUNBLGVBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxRQUM5QztBQUVBLFlBQUksaUJBQWlCLE9BQU8sSUFBYTtBQUN2QyxhQUFHO0FBQ0QsaUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxVQUM5QyxTQUFTLE9BQU8sTUFBZ0IsT0FBTyxNQUFnQixPQUFPO0FBQUEsUUFDaEU7QUFFQSxZQUFJLE9BQU8sRUFBRSxHQUFHO0FBQ2Qsd0JBQWMsS0FBSztBQUVuQixlQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUMxQztBQUNBLGdCQUFNLGFBQWE7QUFFbkIsaUJBQU8sT0FBTyxJQUFpQjtBQUM3QixrQkFBTTtBQUNOLGlCQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsVUFDOUM7QUFBQSxRQUNGLE9BQU87QUFDTDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBRUEsVUFBSSxnQkFBZ0IsTUFBTSxlQUFlLEtBQUssTUFBTSxhQUFhLGFBQWE7QUFDNUUscUJBQWEsT0FBTyx1QkFBdUI7QUFBQSxNQUM3QztBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxzQkFBc0IsT0FBTztBQUNwQyxVQUFJLFlBQVksTUFBTSxVQUNsQjtBQUVKLFdBQUssTUFBTSxNQUFNLFdBQVcsU0FBUztBQUlyQyxXQUFLLE9BQU8sTUFBZSxPQUFPLE9BQzlCLE9BQU8sTUFBTSxNQUFNLFdBQVcsWUFBWSxDQUFDLEtBQzNDLE9BQU8sTUFBTSxNQUFNLFdBQVcsWUFBWSxDQUFDLEdBQUc7QUFFaEQscUJBQWE7QUFFYixhQUFLLE1BQU0sTUFBTSxXQUFXLFNBQVM7QUFFckMsWUFBSSxPQUFPLEtBQUssYUFBYSxFQUFFLEdBQUc7QUFDaEMsaUJBQU87QUFBQSxRQUNUO0FBQUEsTUFDRjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxpQkFBaUIsT0FBTyxPQUFPO0FBQ3RDLFVBQUksVUFBVSxHQUFHO0FBQ2YsY0FBTSxVQUFVO0FBQUEsTUFDbEIsV0FBVyxRQUFRLEdBQUc7QUFDcEIsY0FBTSxVQUFVLE9BQU8sT0FBTyxNQUFNLFFBQVEsQ0FBQztBQUFBLE1BQy9DO0FBQUEsSUFDRjtBQUdBLGFBQVMsZ0JBQWdCLE9BQU8sWUFBWSxzQkFBc0I7QUFDaEUsVUFBSSxXQUNBLFdBQ0EsY0FDQSxZQUNBLG1CQUNBLE9BQ0EsWUFDQSxhQUNBLFFBQVEsTUFBTSxNQUNkLFVBQVUsTUFBTSxRQUNoQjtBQUVKLFdBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLFVBQUksYUFBYSxFQUFFLEtBQ2Ysa0JBQWtCLEVBQUUsS0FDcEIsT0FBTyxNQUNQLE9BQU8sTUFDUCxPQUFPLE1BQ1AsT0FBTyxNQUNQLE9BQU8sT0FDUCxPQUFPLE1BQ1AsT0FBTyxNQUNQLE9BQU8sTUFDUCxPQUFPLE1BQ1AsT0FBTyxNQUNQLE9BQU8sSUFBYTtBQUN0QixlQUFPO0FBQUEsTUFDVDtBQUVBLFVBQUksT0FBTyxNQUFlLE9BQU8sSUFBYTtBQUM1QyxvQkFBWSxNQUFNLE1BQU0sV0FBVyxNQUFNLFdBQVcsQ0FBQztBQUVyRCxZQUFJLGFBQWEsU0FBUyxLQUN0Qix3QkFBd0Isa0JBQWtCLFNBQVMsR0FBRztBQUN4RCxpQkFBTztBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBRUEsWUFBTSxPQUFPO0FBQ2IsWUFBTSxTQUFTO0FBQ2YscUJBQWUsYUFBYSxNQUFNO0FBQ2xDLDBCQUFvQjtBQUVwQixhQUFPLE9BQU8sR0FBRztBQUNmLFlBQUksT0FBTyxJQUFhO0FBQ3RCLHNCQUFZLE1BQU0sTUFBTSxXQUFXLE1BQU0sV0FBVyxDQUFDO0FBRXJELGNBQUksYUFBYSxTQUFTLEtBQ3RCLHdCQUF3QixrQkFBa0IsU0FBUyxHQUFHO0FBQ3hEO0FBQUEsVUFDRjtBQUFBLFFBRUYsV0FBVyxPQUFPLElBQWE7QUFDN0Isc0JBQVksTUFBTSxNQUFNLFdBQVcsTUFBTSxXQUFXLENBQUM7QUFFckQsY0FBSSxhQUFhLFNBQVMsR0FBRztBQUMzQjtBQUFBLFVBQ0Y7QUFBQSxRQUVGLFdBQVksTUFBTSxhQUFhLE1BQU0sYUFBYSxzQkFBc0IsS0FBSyxLQUNsRSx3QkFBd0Isa0JBQWtCLEVBQUUsR0FBRztBQUN4RDtBQUFBLFFBRUYsV0FBVyxPQUFPLEVBQUUsR0FBRztBQUNyQixrQkFBUSxNQUFNO0FBQ2QsdUJBQWEsTUFBTTtBQUNuQix3QkFBYyxNQUFNO0FBQ3BCLDhCQUFvQixPQUFPLE9BQU8sRUFBRTtBQUVwQyxjQUFJLE1BQU0sY0FBYyxZQUFZO0FBQ2xDLGdDQUFvQjtBQUNwQixpQkFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFDMUM7QUFBQSxVQUNGLE9BQU87QUFDTCxrQkFBTSxXQUFXO0FBQ2pCLGtCQUFNLE9BQU87QUFDYixrQkFBTSxZQUFZO0FBQ2xCLGtCQUFNLGFBQWE7QUFDbkI7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUVBLFlBQUksbUJBQW1CO0FBQ3JCLHlCQUFlLE9BQU8sY0FBYyxZQUFZLEtBQUs7QUFDckQsMkJBQWlCLE9BQU8sTUFBTSxPQUFPLEtBQUs7QUFDMUMseUJBQWUsYUFBYSxNQUFNO0FBQ2xDLDhCQUFvQjtBQUFBLFFBQ3RCO0FBRUEsWUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHO0FBQ3ZCLHVCQUFhLE1BQU0sV0FBVztBQUFBLFFBQ2hDO0FBRUEsYUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUFBLE1BQzlDO0FBRUEscUJBQWUsT0FBTyxjQUFjLFlBQVksS0FBSztBQUVyRCxVQUFJLE1BQU0sUUFBUTtBQUNoQixlQUFPO0FBQUEsTUFDVDtBQUVBLFlBQU0sT0FBTztBQUNiLFlBQU0sU0FBUztBQUNmLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyx1QkFBdUIsT0FBTyxZQUFZO0FBQ2pELFVBQUksSUFDQSxjQUFjO0FBRWxCLFdBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLFVBQUksT0FBTyxJQUFhO0FBQ3RCLGVBQU87QUFBQSxNQUNUO0FBRUEsWUFBTSxPQUFPO0FBQ2IsWUFBTSxTQUFTO0FBQ2YsWUFBTTtBQUNOLHFCQUFlLGFBQWEsTUFBTTtBQUVsQyxjQUFRLEtBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRLE9BQU8sR0FBRztBQUMxRCxZQUFJLE9BQU8sSUFBYTtBQUN0Qix5QkFBZSxPQUFPLGNBQWMsTUFBTSxVQUFVLElBQUk7QUFDeEQsZUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUU1QyxjQUFJLE9BQU8sSUFBYTtBQUN0QiwyQkFBZSxNQUFNO0FBQ3JCLGtCQUFNO0FBQ04seUJBQWEsTUFBTTtBQUFBLFVBQ3JCLE9BQU87QUFDTCxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUVGLFdBQVcsT0FBTyxFQUFFLEdBQUc7QUFDckIseUJBQWUsT0FBTyxjQUFjLFlBQVksSUFBSTtBQUNwRCwyQkFBaUIsT0FBTyxvQkFBb0IsT0FBTyxPQUFPLFVBQVUsQ0FBQztBQUNyRSx5QkFBZSxhQUFhLE1BQU07QUFBQSxRQUVwQyxXQUFXLE1BQU0sYUFBYSxNQUFNLGFBQWEsc0JBQXNCLEtBQUssR0FBRztBQUM3RSxxQkFBVyxPQUFPLDhEQUE4RDtBQUFBLFFBRWxGLE9BQU87QUFDTCxnQkFBTTtBQUNOLHVCQUFhLE1BQU07QUFBQSxRQUNyQjtBQUFBLE1BQ0Y7QUFFQSxpQkFBVyxPQUFPLDREQUE0RDtBQUFBLElBQ2hGO0FBRUEsYUFBUyx1QkFBdUIsT0FBTyxZQUFZO0FBQ2pELFVBQUksY0FDQSxZQUNBLFdBQ0EsV0FDQSxLQUNBO0FBRUosV0FBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsVUFBSSxPQUFPLElBQWE7QUFDdEIsZUFBTztBQUFBLE1BQ1Q7QUFFQSxZQUFNLE9BQU87QUFDYixZQUFNLFNBQVM7QUFDZixZQUFNO0FBQ04scUJBQWUsYUFBYSxNQUFNO0FBRWxDLGNBQVEsS0FBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVEsT0FBTyxHQUFHO0FBQzFELFlBQUksT0FBTyxJQUFhO0FBQ3RCLHlCQUFlLE9BQU8sY0FBYyxNQUFNLFVBQVUsSUFBSTtBQUN4RCxnQkFBTTtBQUNOLGlCQUFPO0FBQUEsUUFFVCxXQUFXLE9BQU8sSUFBYTtBQUM3Qix5QkFBZSxPQUFPLGNBQWMsTUFBTSxVQUFVLElBQUk7QUFDeEQsZUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUU1QyxjQUFJLE9BQU8sRUFBRSxHQUFHO0FBQ2QsZ0NBQW9CLE9BQU8sT0FBTyxVQUFVO0FBQUEsVUFHOUMsV0FBVyxLQUFLLE9BQU8sa0JBQWtCLEVBQUUsR0FBRztBQUM1QyxrQkFBTSxVQUFVLGdCQUFnQixFQUFFO0FBQ2xDLGtCQUFNO0FBQUEsVUFFUixZQUFZLE1BQU0sY0FBYyxFQUFFLEtBQUssR0FBRztBQUN4Qyx3QkFBWTtBQUNaLHdCQUFZO0FBRVosbUJBQU8sWUFBWSxHQUFHLGFBQWE7QUFDakMsbUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFFNUMsbUJBQUssTUFBTSxZQUFZLEVBQUUsTUFBTSxHQUFHO0FBQ2hDLDZCQUFhLGFBQWEsS0FBSztBQUFBLGNBRWpDLE9BQU87QUFDTCwyQkFBVyxPQUFPLGdDQUFnQztBQUFBLGNBQ3BEO0FBQUEsWUFDRjtBQUVBLGtCQUFNLFVBQVUsa0JBQWtCLFNBQVM7QUFFM0Msa0JBQU07QUFBQSxVQUVSLE9BQU87QUFDTCx1QkFBVyxPQUFPLHlCQUF5QjtBQUFBLFVBQzdDO0FBRUEseUJBQWUsYUFBYSxNQUFNO0FBQUEsUUFFcEMsV0FBVyxPQUFPLEVBQUUsR0FBRztBQUNyQix5QkFBZSxPQUFPLGNBQWMsWUFBWSxJQUFJO0FBQ3BELDJCQUFpQixPQUFPLG9CQUFvQixPQUFPLE9BQU8sVUFBVSxDQUFDO0FBQ3JFLHlCQUFlLGFBQWEsTUFBTTtBQUFBLFFBRXBDLFdBQVcsTUFBTSxhQUFhLE1BQU0sYUFBYSxzQkFBc0IsS0FBSyxHQUFHO0FBQzdFLHFCQUFXLE9BQU8sOERBQThEO0FBQUEsUUFFbEYsT0FBTztBQUNMLGdCQUFNO0FBQ04sdUJBQWEsTUFBTTtBQUFBLFFBQ3JCO0FBQUEsTUFDRjtBQUVBLGlCQUFXLE9BQU8sNERBQTREO0FBQUEsSUFDaEY7QUFFQSxhQUFTLG1CQUFtQixPQUFPLFlBQVk7QUFDN0MsVUFBSSxXQUFXLE1BQ1gsT0FDQSxZQUNBLE1BQ0EsT0FBVyxNQUFNLEtBQ2pCLFNBQ0EsVUFBVyxNQUFNLFFBQ2pCLFdBQ0EsWUFDQSxRQUNBLGdCQUNBLFdBQ0Esa0JBQWtCLHVCQUFPLE9BQU8sSUFBSSxHQUNwQyxTQUNBLFFBQ0EsV0FDQTtBQUVKLFdBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLFVBQUksT0FBTyxJQUFhO0FBQ3RCLHFCQUFhO0FBQ2Isb0JBQVk7QUFDWixrQkFBVSxDQUFDO0FBQUEsTUFDYixXQUFXLE9BQU8sS0FBYTtBQUM3QixxQkFBYTtBQUNiLG9CQUFZO0FBQ1osa0JBQVUsQ0FBQztBQUFBLE1BQ2IsT0FBTztBQUNMLGVBQU87QUFBQSxNQUNUO0FBRUEsVUFBSSxNQUFNLFdBQVcsTUFBTTtBQUN6QixjQUFNLFVBQVUsTUFBTSxNQUFNLElBQUk7QUFBQSxNQUNsQztBQUVBLFdBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFFNUMsYUFBTyxPQUFPLEdBQUc7QUFDZiw0QkFBb0IsT0FBTyxNQUFNLFVBQVU7QUFFM0MsYUFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsWUFBSSxPQUFPLFlBQVk7QUFDckIsZ0JBQU07QUFDTixnQkFBTSxNQUFNO0FBQ1osZ0JBQU0sU0FBUztBQUNmLGdCQUFNLE9BQU8sWUFBWSxZQUFZO0FBQ3JDLGdCQUFNLFNBQVM7QUFDZixpQkFBTztBQUFBLFFBQ1QsV0FBVyxDQUFDLFVBQVU7QUFDcEIscUJBQVcsT0FBTyw4Q0FBOEM7QUFBQSxRQUNsRSxXQUFXLE9BQU8sSUFBYTtBQUU3QixxQkFBVyxPQUFPLDBDQUEwQztBQUFBLFFBQzlEO0FBRUEsaUJBQVMsVUFBVSxZQUFZO0FBQy9CLGlCQUFTLGlCQUFpQjtBQUUxQixZQUFJLE9BQU8sSUFBYTtBQUN0QixzQkFBWSxNQUFNLE1BQU0sV0FBVyxNQUFNLFdBQVcsQ0FBQztBQUVyRCxjQUFJLGFBQWEsU0FBUyxHQUFHO0FBQzNCLHFCQUFTLGlCQUFpQjtBQUMxQixrQkFBTTtBQUNOLGdDQUFvQixPQUFPLE1BQU0sVUFBVTtBQUFBLFVBQzdDO0FBQUEsUUFDRjtBQUVBLGdCQUFRLE1BQU07QUFDZCxxQkFBYSxNQUFNO0FBQ25CLGVBQU8sTUFBTTtBQUNiLG9CQUFZLE9BQU8sWUFBWSxpQkFBaUIsT0FBTyxJQUFJO0FBQzNELGlCQUFTLE1BQU07QUFDZixrQkFBVSxNQUFNO0FBQ2hCLDRCQUFvQixPQUFPLE1BQU0sVUFBVTtBQUUzQyxhQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxhQUFLLGtCQUFrQixNQUFNLFNBQVMsVUFBVSxPQUFPLElBQWE7QUFDbEUsbUJBQVM7QUFDVCxlQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQzVDLDhCQUFvQixPQUFPLE1BQU0sVUFBVTtBQUMzQyxzQkFBWSxPQUFPLFlBQVksaUJBQWlCLE9BQU8sSUFBSTtBQUMzRCxzQkFBWSxNQUFNO0FBQUEsUUFDcEI7QUFFQSxZQUFJLFdBQVc7QUFDYiwyQkFBaUIsT0FBTyxTQUFTLGlCQUFpQixRQUFRLFNBQVMsV0FBVyxPQUFPLFlBQVksSUFBSTtBQUFBLFFBQ3ZHLFdBQVcsUUFBUTtBQUNqQixrQkFBUSxLQUFLLGlCQUFpQixPQUFPLE1BQU0saUJBQWlCLFFBQVEsU0FBUyxXQUFXLE9BQU8sWUFBWSxJQUFJLENBQUM7QUFBQSxRQUNsSCxPQUFPO0FBQ0wsa0JBQVEsS0FBSyxPQUFPO0FBQUEsUUFDdEI7QUFFQSw0QkFBb0IsT0FBTyxNQUFNLFVBQVU7QUFFM0MsYUFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsWUFBSSxPQUFPLElBQWE7QUFDdEIscUJBQVc7QUFDWCxlQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsUUFDOUMsT0FBTztBQUNMLHFCQUFXO0FBQUEsUUFDYjtBQUFBLE1BQ0Y7QUFFQSxpQkFBVyxPQUFPLHVEQUF1RDtBQUFBLElBQzNFO0FBRUEsYUFBUyxnQkFBZ0IsT0FBTyxZQUFZO0FBQzFDLFVBQUksY0FDQSxTQUNBLFdBQWlCLGVBQ2pCLGlCQUFpQixPQUNqQixpQkFBaUIsT0FDakIsYUFBaUIsWUFDakIsYUFBaUIsR0FDakIsaUJBQWlCLE9BQ2pCLEtBQ0E7QUFFSixXQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxVQUFJLE9BQU8sS0FBYTtBQUN0QixrQkFBVTtBQUFBLE1BQ1osV0FBVyxPQUFPLElBQWE7QUFDN0Isa0JBQVU7QUFBQSxNQUNaLE9BQU87QUFDTCxlQUFPO0FBQUEsTUFDVDtBQUVBLFlBQU0sT0FBTztBQUNiLFlBQU0sU0FBUztBQUVmLGFBQU8sT0FBTyxHQUFHO0FBQ2YsYUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUU1QyxZQUFJLE9BQU8sTUFBZSxPQUFPLElBQWE7QUFDNUMsY0FBSSxrQkFBa0IsVUFBVTtBQUM5Qix1QkFBWSxPQUFPLEtBQWUsZ0JBQWdCO0FBQUEsVUFDcEQsT0FBTztBQUNMLHVCQUFXLE9BQU8sc0NBQXNDO0FBQUEsVUFDMUQ7QUFBQSxRQUVGLFlBQVksTUFBTSxnQkFBZ0IsRUFBRSxNQUFNLEdBQUc7QUFDM0MsY0FBSSxRQUFRLEdBQUc7QUFDYix1QkFBVyxPQUFPLDhFQUE4RTtBQUFBLFVBQ2xHLFdBQVcsQ0FBQyxnQkFBZ0I7QUFDMUIseUJBQWEsYUFBYSxNQUFNO0FBQ2hDLDZCQUFpQjtBQUFBLFVBQ25CLE9BQU87QUFDTCx1QkFBVyxPQUFPLDJDQUEyQztBQUFBLFVBQy9EO0FBQUEsUUFFRixPQUFPO0FBQ0w7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUVBLFVBQUksZUFBZSxFQUFFLEdBQUc7QUFDdEIsV0FBRztBQUFFLGVBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxRQUFHLFNBQzdDLGVBQWUsRUFBRTtBQUV4QixZQUFJLE9BQU8sSUFBYTtBQUN0QixhQUFHO0FBQUUsaUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxVQUFHLFNBQzdDLENBQUMsT0FBTyxFQUFFLEtBQU0sT0FBTztBQUFBLFFBQ2hDO0FBQUEsTUFDRjtBQUVBLGFBQU8sT0FBTyxHQUFHO0FBQ2Ysc0JBQWMsS0FBSztBQUNuQixjQUFNLGFBQWE7QUFFbkIsYUFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsZ0JBQVEsQ0FBQyxrQkFBa0IsTUFBTSxhQUFhLGVBQ3RDLE9BQU8sSUFBa0I7QUFDL0IsZ0JBQU07QUFDTixlQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsUUFDOUM7QUFFQSxZQUFJLENBQUMsa0JBQWtCLE1BQU0sYUFBYSxZQUFZO0FBQ3BELHVCQUFhLE1BQU07QUFBQSxRQUNyQjtBQUVBLFlBQUksT0FBTyxFQUFFLEdBQUc7QUFDZDtBQUNBO0FBQUEsUUFDRjtBQUdBLFlBQUksTUFBTSxhQUFhLFlBQVk7QUFHakMsY0FBSSxhQUFhLGVBQWU7QUFDOUIsa0JBQU0sVUFBVSxPQUFPLE9BQU8sTUFBTSxpQkFBaUIsSUFBSSxhQUFhLFVBQVU7QUFBQSxVQUNsRixXQUFXLGFBQWEsZUFBZTtBQUNyQyxnQkFBSSxnQkFBZ0I7QUFDbEIsb0JBQU0sVUFBVTtBQUFBLFlBQ2xCO0FBQUEsVUFDRjtBQUdBO0FBQUEsUUFDRjtBQUdBLFlBQUksU0FBUztBQUdYLGNBQUksZUFBZSxFQUFFLEdBQUc7QUFDdEIsNkJBQWlCO0FBRWpCLGtCQUFNLFVBQVUsT0FBTyxPQUFPLE1BQU0saUJBQWlCLElBQUksYUFBYSxVQUFVO0FBQUEsVUFHbEYsV0FBVyxnQkFBZ0I7QUFDekIsNkJBQWlCO0FBQ2pCLGtCQUFNLFVBQVUsT0FBTyxPQUFPLE1BQU0sYUFBYSxDQUFDO0FBQUEsVUFHcEQsV0FBVyxlQUFlLEdBQUc7QUFDM0IsZ0JBQUksZ0JBQWdCO0FBQ2xCLG9CQUFNLFVBQVU7QUFBQSxZQUNsQjtBQUFBLFVBR0YsT0FBTztBQUNMLGtCQUFNLFVBQVUsT0FBTyxPQUFPLE1BQU0sVUFBVTtBQUFBLFVBQ2hEO0FBQUEsUUFHRixPQUFPO0FBRUwsZ0JBQU0sVUFBVSxPQUFPLE9BQU8sTUFBTSxpQkFBaUIsSUFBSSxhQUFhLFVBQVU7QUFBQSxRQUNsRjtBQUVBLHlCQUFpQjtBQUNqQix5QkFBaUI7QUFDakIscUJBQWE7QUFDYix1QkFBZSxNQUFNO0FBRXJCLGVBQU8sQ0FBQyxPQUFPLEVBQUUsS0FBTSxPQUFPLEdBQUk7QUFDaEMsZUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUFBLFFBQzlDO0FBRUEsdUJBQWUsT0FBTyxjQUFjLE1BQU0sVUFBVSxLQUFLO0FBQUEsTUFDM0Q7QUFFQSxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsa0JBQWtCLE9BQU8sWUFBWTtBQUM1QyxVQUFJLE9BQ0EsT0FBWSxNQUFNLEtBQ2xCLFVBQVksTUFBTSxRQUNsQixVQUFZLENBQUMsR0FDYixXQUNBLFdBQVksT0FDWjtBQUlKLFVBQUksTUFBTSxtQkFBbUI7QUFBSSxlQUFPO0FBRXhDLFVBQUksTUFBTSxXQUFXLE1BQU07QUFDekIsY0FBTSxVQUFVLE1BQU0sTUFBTSxJQUFJO0FBQUEsTUFDbEM7QUFFQSxXQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxhQUFPLE9BQU8sR0FBRztBQUNmLFlBQUksTUFBTSxtQkFBbUIsSUFBSTtBQUMvQixnQkFBTSxXQUFXLE1BQU07QUFDdkIscUJBQVcsT0FBTyxnREFBZ0Q7QUFBQSxRQUNwRTtBQUVBLFlBQUksT0FBTyxJQUFhO0FBQ3RCO0FBQUEsUUFDRjtBQUVBLG9CQUFZLE1BQU0sTUFBTSxXQUFXLE1BQU0sV0FBVyxDQUFDO0FBRXJELFlBQUksQ0FBQyxhQUFhLFNBQVMsR0FBRztBQUM1QjtBQUFBLFFBQ0Y7QUFFQSxtQkFBVztBQUNYLGNBQU07QUFFTixZQUFJLG9CQUFvQixPQUFPLE1BQU0sRUFBRSxHQUFHO0FBQ3hDLGNBQUksTUFBTSxjQUFjLFlBQVk7QUFDbEMsb0JBQVEsS0FBSyxJQUFJO0FBQ2pCLGlCQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUMxQztBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBRUEsZ0JBQVEsTUFBTTtBQUNkLG9CQUFZLE9BQU8sWUFBWSxrQkFBa0IsT0FBTyxJQUFJO0FBQzVELGdCQUFRLEtBQUssTUFBTSxNQUFNO0FBQ3pCLDRCQUFvQixPQUFPLE1BQU0sRUFBRTtBQUVuQyxhQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxhQUFLLE1BQU0sU0FBUyxTQUFTLE1BQU0sYUFBYSxlQUFnQixPQUFPLEdBQUk7QUFDekUscUJBQVcsT0FBTyxxQ0FBcUM7QUFBQSxRQUN6RCxXQUFXLE1BQU0sYUFBYSxZQUFZO0FBQ3hDO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFFQSxVQUFJLFVBQVU7QUFDWixjQUFNLE1BQU07QUFDWixjQUFNLFNBQVM7QUFDZixjQUFNLE9BQU87QUFDYixjQUFNLFNBQVM7QUFDZixlQUFPO0FBQUEsTUFDVDtBQUNBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxpQkFBaUIsT0FBTyxZQUFZLFlBQVk7QUFDdkQsVUFBSSxXQUNBLGNBQ0EsT0FDQSxVQUNBLGVBQ0EsU0FDQSxPQUFnQixNQUFNLEtBQ3RCLFVBQWdCLE1BQU0sUUFDdEIsVUFBZ0IsQ0FBQyxHQUNqQixrQkFBa0IsdUJBQU8sT0FBTyxJQUFJLEdBQ3BDLFNBQWdCLE1BQ2hCLFVBQWdCLE1BQ2hCLFlBQWdCLE1BQ2hCLGdCQUFnQixPQUNoQixXQUFnQixPQUNoQjtBQUlKLFVBQUksTUFBTSxtQkFBbUI7QUFBSSxlQUFPO0FBRXhDLFVBQUksTUFBTSxXQUFXLE1BQU07QUFDekIsY0FBTSxVQUFVLE1BQU0sTUFBTSxJQUFJO0FBQUEsTUFDbEM7QUFFQSxXQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxhQUFPLE9BQU8sR0FBRztBQUNmLFlBQUksQ0FBQyxpQkFBaUIsTUFBTSxtQkFBbUIsSUFBSTtBQUNqRCxnQkFBTSxXQUFXLE1BQU07QUFDdkIscUJBQVcsT0FBTyxnREFBZ0Q7QUFBQSxRQUNwRTtBQUVBLG9CQUFZLE1BQU0sTUFBTSxXQUFXLE1BQU0sV0FBVyxDQUFDO0FBQ3JELGdCQUFRLE1BQU07QUFNZCxhQUFLLE9BQU8sTUFBZSxPQUFPLE9BQWdCLGFBQWEsU0FBUyxHQUFHO0FBRXpFLGNBQUksT0FBTyxJQUFhO0FBQ3RCLGdCQUFJLGVBQWU7QUFDakIsK0JBQWlCLE9BQU8sU0FBUyxpQkFBaUIsUUFBUSxTQUFTLE1BQU0sVUFBVSxlQUFlLE9BQU87QUFDekcsdUJBQVMsVUFBVSxZQUFZO0FBQUEsWUFDakM7QUFFQSx1QkFBVztBQUNYLDRCQUFnQjtBQUNoQiwyQkFBZTtBQUFBLFVBRWpCLFdBQVcsZUFBZTtBQUV4Qiw0QkFBZ0I7QUFDaEIsMkJBQWU7QUFBQSxVQUVqQixPQUFPO0FBQ0wsdUJBQVcsT0FBTyxtR0FBbUc7QUFBQSxVQUN2SDtBQUVBLGdCQUFNLFlBQVk7QUFDbEIsZUFBSztBQUFBLFFBS1AsT0FBTztBQUNMLHFCQUFXLE1BQU07QUFDakIsMEJBQWdCLE1BQU07QUFDdEIsb0JBQVUsTUFBTTtBQUVoQixjQUFJLENBQUMsWUFBWSxPQUFPLFlBQVksa0JBQWtCLE9BQU8sSUFBSSxHQUFHO0FBR2xFO0FBQUEsVUFDRjtBQUVBLGNBQUksTUFBTSxTQUFTLE9BQU87QUFDeEIsaUJBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLG1CQUFPLGVBQWUsRUFBRSxHQUFHO0FBQ3pCLG1CQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsWUFDOUM7QUFFQSxnQkFBSSxPQUFPLElBQWE7QUFDdEIsbUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFFNUMsa0JBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRztBQUNyQiwyQkFBVyxPQUFPLHlGQUF5RjtBQUFBLGNBQzdHO0FBRUEsa0JBQUksZUFBZTtBQUNqQixpQ0FBaUIsT0FBTyxTQUFTLGlCQUFpQixRQUFRLFNBQVMsTUFBTSxVQUFVLGVBQWUsT0FBTztBQUN6Ryx5QkFBUyxVQUFVLFlBQVk7QUFBQSxjQUNqQztBQUVBLHlCQUFXO0FBQ1gsOEJBQWdCO0FBQ2hCLDZCQUFlO0FBQ2YsdUJBQVMsTUFBTTtBQUNmLHdCQUFVLE1BQU07QUFBQSxZQUVsQixXQUFXLFVBQVU7QUFDbkIseUJBQVcsT0FBTywwREFBMEQ7QUFBQSxZQUU5RSxPQUFPO0FBQ0wsb0JBQU0sTUFBTTtBQUNaLG9CQUFNLFNBQVM7QUFDZixxQkFBTztBQUFBLFlBQ1Q7QUFBQSxVQUVGLFdBQVcsVUFBVTtBQUNuQix1QkFBVyxPQUFPLGdGQUFnRjtBQUFBLFVBRXBHLE9BQU87QUFDTCxrQkFBTSxNQUFNO0FBQ1osa0JBQU0sU0FBUztBQUNmLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFLQSxZQUFJLE1BQU0sU0FBUyxTQUFTLE1BQU0sYUFBYSxZQUFZO0FBQ3pELGNBQUksZUFBZTtBQUNqQix1QkFBVyxNQUFNO0FBQ2pCLDRCQUFnQixNQUFNO0FBQ3RCLHNCQUFVLE1BQU07QUFBQSxVQUNsQjtBQUVBLGNBQUksWUFBWSxPQUFPLFlBQVksbUJBQW1CLE1BQU0sWUFBWSxHQUFHO0FBQ3pFLGdCQUFJLGVBQWU7QUFDakIsd0JBQVUsTUFBTTtBQUFBLFlBQ2xCLE9BQU87QUFDTCwwQkFBWSxNQUFNO0FBQUEsWUFDcEI7QUFBQSxVQUNGO0FBRUEsY0FBSSxDQUFDLGVBQWU7QUFDbEIsNkJBQWlCLE9BQU8sU0FBUyxpQkFBaUIsUUFBUSxTQUFTLFdBQVcsVUFBVSxlQUFlLE9BQU87QUFDOUcscUJBQVMsVUFBVSxZQUFZO0FBQUEsVUFDakM7QUFFQSw4QkFBb0IsT0FBTyxNQUFNLEVBQUU7QUFDbkMsZUFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFBQSxRQUM1QztBQUVBLGFBQUssTUFBTSxTQUFTLFNBQVMsTUFBTSxhQUFhLGVBQWdCLE9BQU8sR0FBSTtBQUN6RSxxQkFBVyxPQUFPLG9DQUFvQztBQUFBLFFBQ3hELFdBQVcsTUFBTSxhQUFhLFlBQVk7QUFDeEM7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQU9BLFVBQUksZUFBZTtBQUNqQix5QkFBaUIsT0FBTyxTQUFTLGlCQUFpQixRQUFRLFNBQVMsTUFBTSxVQUFVLGVBQWUsT0FBTztBQUFBLE1BQzNHO0FBR0EsVUFBSSxVQUFVO0FBQ1osY0FBTSxNQUFNO0FBQ1osY0FBTSxTQUFTO0FBQ2YsY0FBTSxPQUFPO0FBQ2IsY0FBTSxTQUFTO0FBQUEsTUFDakI7QUFFQSxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsZ0JBQWdCLE9BQU87QUFDOUIsVUFBSSxXQUNBLGFBQWEsT0FDYixVQUFhLE9BQ2IsV0FDQSxTQUNBO0FBRUosV0FBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsVUFBSSxPQUFPO0FBQWEsZUFBTztBQUUvQixVQUFJLE1BQU0sUUFBUSxNQUFNO0FBQ3RCLG1CQUFXLE9BQU8sK0JBQStCO0FBQUEsTUFDbkQ7QUFFQSxXQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBRTVDLFVBQUksT0FBTyxJQUFhO0FBQ3RCLHFCQUFhO0FBQ2IsYUFBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUFBLE1BRTlDLFdBQVcsT0FBTyxJQUFhO0FBQzdCLGtCQUFVO0FBQ1Ysb0JBQVk7QUFDWixhQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsTUFFOUMsT0FBTztBQUNMLG9CQUFZO0FBQUEsTUFDZDtBQUVBLGtCQUFZLE1BQU07QUFFbEIsVUFBSSxZQUFZO0FBQ2QsV0FBRztBQUFFLGVBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxRQUFHLFNBQzdDLE9BQU8sS0FBSyxPQUFPO0FBRTFCLFlBQUksTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUNqQyxvQkFBVSxNQUFNLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUNyRCxlQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsUUFDOUMsT0FBTztBQUNMLHFCQUFXLE9BQU8sb0RBQW9EO0FBQUEsUUFDeEU7QUFBQSxNQUNGLE9BQU87QUFDTCxlQUFPLE9BQU8sS0FBSyxDQUFDLGFBQWEsRUFBRSxHQUFHO0FBRXBDLGNBQUksT0FBTyxJQUFhO0FBQ3RCLGdCQUFJLENBQUMsU0FBUztBQUNaLDBCQUFZLE1BQU0sTUFBTSxNQUFNLFlBQVksR0FBRyxNQUFNLFdBQVcsQ0FBQztBQUUvRCxrQkFBSSxDQUFDLG1CQUFtQixLQUFLLFNBQVMsR0FBRztBQUN2QywyQkFBVyxPQUFPLGlEQUFpRDtBQUFBLGNBQ3JFO0FBRUEsd0JBQVU7QUFDViwwQkFBWSxNQUFNLFdBQVc7QUFBQSxZQUMvQixPQUFPO0FBQ0wseUJBQVcsT0FBTyw2Q0FBNkM7QUFBQSxZQUNqRTtBQUFBLFVBQ0Y7QUFFQSxlQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsUUFDOUM7QUFFQSxrQkFBVSxNQUFNLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUVyRCxZQUFJLHdCQUF3QixLQUFLLE9BQU8sR0FBRztBQUN6QyxxQkFBVyxPQUFPLHFEQUFxRDtBQUFBLFFBQ3pFO0FBQUEsTUFDRjtBQUVBLFVBQUksV0FBVyxDQUFDLGdCQUFnQixLQUFLLE9BQU8sR0FBRztBQUM3QyxtQkFBVyxPQUFPLDhDQUE4QyxPQUFPO0FBQUEsTUFDekU7QUFFQSxVQUFJO0FBQ0Ysa0JBQVUsbUJBQW1CLE9BQU87QUFBQSxNQUN0QyxTQUFTLEtBQVA7QUFDQSxtQkFBVyxPQUFPLDRCQUE0QixPQUFPO0FBQUEsTUFDdkQ7QUFFQSxVQUFJLFlBQVk7QUFDZCxjQUFNLE1BQU07QUFBQSxNQUVkLFdBQVcsZ0JBQWdCLEtBQUssTUFBTSxRQUFRLFNBQVMsR0FBRztBQUN4RCxjQUFNLE1BQU0sTUFBTSxPQUFPLFNBQVMsSUFBSTtBQUFBLE1BRXhDLFdBQVcsY0FBYyxLQUFLO0FBQzVCLGNBQU0sTUFBTSxNQUFNO0FBQUEsTUFFcEIsV0FBVyxjQUFjLE1BQU07QUFDN0IsY0FBTSxNQUFNLHVCQUF1QjtBQUFBLE1BRXJDLE9BQU87QUFDTCxtQkFBVyxPQUFPLDRCQUE0QixZQUFZLEdBQUc7QUFBQSxNQUMvRDtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxtQkFBbUIsT0FBTztBQUNqQyxVQUFJLFdBQ0E7QUFFSixXQUFLLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUUxQyxVQUFJLE9BQU87QUFBYSxlQUFPO0FBRS9CLFVBQUksTUFBTSxXQUFXLE1BQU07QUFDekIsbUJBQVcsT0FBTyxtQ0FBbUM7QUFBQSxNQUN2RDtBQUVBLFdBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFDNUMsa0JBQVksTUFBTTtBQUVsQixhQUFPLE9BQU8sS0FBSyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsa0JBQWtCLEVBQUUsR0FBRztBQUM5RCxhQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsTUFDOUM7QUFFQSxVQUFJLE1BQU0sYUFBYSxXQUFXO0FBQ2hDLG1CQUFXLE9BQU8sNERBQTREO0FBQUEsTUFDaEY7QUFFQSxZQUFNLFNBQVMsTUFBTSxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFDMUQsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLFVBQVUsT0FBTztBQUN4QixVQUFJLFdBQVcsT0FDWDtBQUVKLFdBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBRTFDLFVBQUksT0FBTztBQUFhLGVBQU87QUFFL0IsV0FBSyxNQUFNLE1BQU0sV0FBVyxFQUFFLE1BQU0sUUFBUTtBQUM1QyxrQkFBWSxNQUFNO0FBRWxCLGFBQU8sT0FBTyxLQUFLLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxHQUFHO0FBQzlELGFBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxNQUM5QztBQUVBLFVBQUksTUFBTSxhQUFhLFdBQVc7QUFDaEMsbUJBQVcsT0FBTywyREFBMkQ7QUFBQSxNQUMvRTtBQUVBLGNBQVEsTUFBTSxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFbkQsVUFBSSxDQUFDLGdCQUFnQixLQUFLLE1BQU0sV0FBVyxLQUFLLEdBQUc7QUFDakQsbUJBQVcsT0FBTyx5QkFBeUIsUUFBUSxHQUFHO0FBQUEsTUFDeEQ7QUFFQSxZQUFNLFNBQVMsTUFBTSxVQUFVLEtBQUs7QUFDcEMsMEJBQW9CLE9BQU8sTUFBTSxFQUFFO0FBQ25DLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxZQUFZLE9BQU8sY0FBYyxhQUFhLGFBQWEsY0FBYztBQUNoRixVQUFJLGtCQUNBLG1CQUNBLHVCQUNBLGVBQWUsR0FDZixZQUFhLE9BQ2IsYUFBYSxPQUNiLFdBQ0EsY0FDQSxVQUNBLE1BQ0EsWUFDQTtBQUVKLFVBQUksTUFBTSxhQUFhLE1BQU07QUFDM0IsY0FBTSxTQUFTLFFBQVEsS0FBSztBQUFBLE1BQzlCO0FBRUEsWUFBTSxNQUFTO0FBQ2YsWUFBTSxTQUFTO0FBQ2YsWUFBTSxPQUFTO0FBQ2YsWUFBTSxTQUFTO0FBRWYseUJBQW1CLG9CQUFvQix3QkFDckMsc0JBQXNCLGVBQ3RCLHFCQUFzQjtBQUV4QixVQUFJLGFBQWE7QUFDZixZQUFJLG9CQUFvQixPQUFPLE1BQU0sRUFBRSxHQUFHO0FBQ3hDLHNCQUFZO0FBRVosY0FBSSxNQUFNLGFBQWEsY0FBYztBQUNuQywyQkFBZTtBQUFBLFVBQ2pCLFdBQVcsTUFBTSxlQUFlLGNBQWM7QUFDNUMsMkJBQWU7QUFBQSxVQUNqQixXQUFXLE1BQU0sYUFBYSxjQUFjO0FBQzFDLDJCQUFlO0FBQUEsVUFDakI7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUVBLFVBQUksaUJBQWlCLEdBQUc7QUFDdEIsZUFBTyxnQkFBZ0IsS0FBSyxLQUFLLG1CQUFtQixLQUFLLEdBQUc7QUFDMUQsY0FBSSxvQkFBb0IsT0FBTyxNQUFNLEVBQUUsR0FBRztBQUN4Qyx3QkFBWTtBQUNaLG9DQUF3QjtBQUV4QixnQkFBSSxNQUFNLGFBQWEsY0FBYztBQUNuQyw2QkFBZTtBQUFBLFlBQ2pCLFdBQVcsTUFBTSxlQUFlLGNBQWM7QUFDNUMsNkJBQWU7QUFBQSxZQUNqQixXQUFXLE1BQU0sYUFBYSxjQUFjO0FBQzFDLDZCQUFlO0FBQUEsWUFDakI7QUFBQSxVQUNGLE9BQU87QUFDTCxvQ0FBd0I7QUFBQSxVQUMxQjtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBRUEsVUFBSSx1QkFBdUI7QUFDekIsZ0NBQXdCLGFBQWE7QUFBQSxNQUN2QztBQUVBLFVBQUksaUJBQWlCLEtBQUssc0JBQXNCLGFBQWE7QUFDM0QsWUFBSSxvQkFBb0IsZUFBZSxxQkFBcUIsYUFBYTtBQUN2RSx1QkFBYTtBQUFBLFFBQ2YsT0FBTztBQUNMLHVCQUFhLGVBQWU7QUFBQSxRQUM5QjtBQUVBLHNCQUFjLE1BQU0sV0FBVyxNQUFNO0FBRXJDLFlBQUksaUJBQWlCLEdBQUc7QUFDdEIsY0FBSSwwQkFDQyxrQkFBa0IsT0FBTyxXQUFXLEtBQ3BDLGlCQUFpQixPQUFPLGFBQWEsVUFBVSxNQUNoRCxtQkFBbUIsT0FBTyxVQUFVLEdBQUc7QUFDekMseUJBQWE7QUFBQSxVQUNmLE9BQU87QUFDTCxnQkFBSyxxQkFBcUIsZ0JBQWdCLE9BQU8sVUFBVSxLQUN2RCx1QkFBdUIsT0FBTyxVQUFVLEtBQ3hDLHVCQUF1QixPQUFPLFVBQVUsR0FBRztBQUM3QywyQkFBYTtBQUFBLFlBRWYsV0FBVyxVQUFVLEtBQUssR0FBRztBQUMzQiwyQkFBYTtBQUViLGtCQUFJLE1BQU0sUUFBUSxRQUFRLE1BQU0sV0FBVyxNQUFNO0FBQy9DLDJCQUFXLE9BQU8sMkNBQTJDO0FBQUEsY0FDL0Q7QUFBQSxZQUVGLFdBQVcsZ0JBQWdCLE9BQU8sWUFBWSxvQkFBb0IsV0FBVyxHQUFHO0FBQzlFLDJCQUFhO0FBRWIsa0JBQUksTUFBTSxRQUFRLE1BQU07QUFDdEIsc0JBQU0sTUFBTTtBQUFBLGNBQ2Q7QUFBQSxZQUNGO0FBRUEsZ0JBQUksTUFBTSxXQUFXLE1BQU07QUFDekIsb0JBQU0sVUFBVSxNQUFNLE1BQU0sSUFBSSxNQUFNO0FBQUEsWUFDeEM7QUFBQSxVQUNGO0FBQUEsUUFDRixXQUFXLGlCQUFpQixHQUFHO0FBRzdCLHVCQUFhLHlCQUF5QixrQkFBa0IsT0FBTyxXQUFXO0FBQUEsUUFDNUU7QUFBQSxNQUNGO0FBRUEsVUFBSSxNQUFNLFFBQVEsTUFBTTtBQUN0QixZQUFJLE1BQU0sV0FBVyxNQUFNO0FBQ3pCLGdCQUFNLFVBQVUsTUFBTSxNQUFNLElBQUksTUFBTTtBQUFBLFFBQ3hDO0FBQUEsTUFFRixXQUFXLE1BQU0sUUFBUSxLQUFLO0FBTzVCLFlBQUksTUFBTSxXQUFXLFFBQVEsTUFBTSxTQUFTLFVBQVU7QUFDcEQscUJBQVcsT0FBTyxzRUFBc0UsTUFBTSxPQUFPLEdBQUc7QUFBQSxRQUMxRztBQUVBLGFBQUssWUFBWSxHQUFHLGVBQWUsTUFBTSxjQUFjLFFBQVEsWUFBWSxjQUFjLGFBQWEsR0FBRztBQUN2RyxpQkFBTyxNQUFNLGNBQWMsU0FBUztBQUVwQyxjQUFJLEtBQUssUUFBUSxNQUFNLE1BQU0sR0FBRztBQUM5QixrQkFBTSxTQUFTLEtBQUssVUFBVSxNQUFNLE1BQU07QUFDMUMsa0JBQU0sTUFBTSxLQUFLO0FBQ2pCLGdCQUFJLE1BQU0sV0FBVyxNQUFNO0FBQ3pCLG9CQUFNLFVBQVUsTUFBTSxNQUFNLElBQUksTUFBTTtBQUFBLFlBQ3hDO0FBQ0E7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0YsV0FBVyxNQUFNLFFBQVEsS0FBSztBQUM1QixZQUFJLGdCQUFnQixLQUFLLE1BQU0sUUFBUSxNQUFNLFFBQVEsVUFBVSxHQUFHLE1BQU0sR0FBRyxHQUFHO0FBQzVFLGlCQUFPLE1BQU0sUUFBUSxNQUFNLFFBQVEsVUFBVSxFQUFFLE1BQU0sR0FBRztBQUFBLFFBQzFELE9BQU87QUFFTCxpQkFBTztBQUNQLHFCQUFXLE1BQU0sUUFBUSxNQUFNLE1BQU0sUUFBUSxVQUFVO0FBRXZELGVBQUssWUFBWSxHQUFHLGVBQWUsU0FBUyxRQUFRLFlBQVksY0FBYyxhQUFhLEdBQUc7QUFDNUYsZ0JBQUksTUFBTSxJQUFJLE1BQU0sR0FBRyxTQUFTLFNBQVMsRUFBRSxJQUFJLE1BQU0sTUFBTSxTQUFTLFNBQVMsRUFBRSxLQUFLO0FBQ2xGLHFCQUFPLFNBQVMsU0FBUztBQUN6QjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUVBLFlBQUksQ0FBQyxNQUFNO0FBQ1QscUJBQVcsT0FBTyxtQkFBbUIsTUFBTSxNQUFNLEdBQUc7QUFBQSxRQUN0RDtBQUVBLFlBQUksTUFBTSxXQUFXLFFBQVEsS0FBSyxTQUFTLE1BQU0sTUFBTTtBQUNyRCxxQkFBVyxPQUFPLGtDQUFrQyxNQUFNLE1BQU0sMEJBQTBCLEtBQUssT0FBTyxhQUFhLE1BQU0sT0FBTyxHQUFHO0FBQUEsUUFDckk7QUFFQSxZQUFJLENBQUMsS0FBSyxRQUFRLE1BQU0sUUFBUSxNQUFNLEdBQUcsR0FBRztBQUMxQyxxQkFBVyxPQUFPLGtDQUFrQyxNQUFNLE1BQU0sZ0JBQWdCO0FBQUEsUUFDbEYsT0FBTztBQUNMLGdCQUFNLFNBQVMsS0FBSyxVQUFVLE1BQU0sUUFBUSxNQUFNLEdBQUc7QUFDckQsY0FBSSxNQUFNLFdBQVcsTUFBTTtBQUN6QixrQkFBTSxVQUFVLE1BQU0sTUFBTSxJQUFJLE1BQU07QUFBQSxVQUN4QztBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBRUEsVUFBSSxNQUFNLGFBQWEsTUFBTTtBQUMzQixjQUFNLFNBQVMsU0FBUyxLQUFLO0FBQUEsTUFDL0I7QUFDQSxhQUFPLE1BQU0sUUFBUSxRQUFTLE1BQU0sV0FBVyxRQUFRO0FBQUEsSUFDekQ7QUFFQSxhQUFTLGFBQWEsT0FBTztBQUMzQixVQUFJLGdCQUFnQixNQUFNLFVBQ3RCLFdBQ0EsZUFDQSxlQUNBLGdCQUFnQixPQUNoQjtBQUVKLFlBQU0sVUFBVTtBQUNoQixZQUFNLGtCQUFrQixNQUFNO0FBQzlCLFlBQU0sU0FBUyx1QkFBTyxPQUFPLElBQUk7QUFDakMsWUFBTSxZQUFZLHVCQUFPLE9BQU8sSUFBSTtBQUVwQyxjQUFRLEtBQUssTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRLE9BQU8sR0FBRztBQUMxRCw0QkFBb0IsT0FBTyxNQUFNLEVBQUU7QUFFbkMsYUFBSyxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFFMUMsWUFBSSxNQUFNLGFBQWEsS0FBSyxPQUFPLElBQWE7QUFDOUM7QUFBQSxRQUNGO0FBRUEsd0JBQWdCO0FBQ2hCLGFBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFDNUMsb0JBQVksTUFBTTtBQUVsQixlQUFPLE9BQU8sS0FBSyxDQUFDLGFBQWEsRUFBRSxHQUFHO0FBQ3BDLGVBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxRQUM5QztBQUVBLHdCQUFnQixNQUFNLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUMzRCx3QkFBZ0IsQ0FBQztBQUVqQixZQUFJLGNBQWMsU0FBUyxHQUFHO0FBQzVCLHFCQUFXLE9BQU8sOERBQThEO0FBQUEsUUFDbEY7QUFFQSxlQUFPLE9BQU8sR0FBRztBQUNmLGlCQUFPLGVBQWUsRUFBRSxHQUFHO0FBQ3pCLGlCQUFLLE1BQU0sTUFBTSxXQUFXLEVBQUUsTUFBTSxRQUFRO0FBQUEsVUFDOUM7QUFFQSxjQUFJLE9BQU8sSUFBYTtBQUN0QixlQUFHO0FBQUUsbUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxZQUFHLFNBQzdDLE9BQU8sS0FBSyxDQUFDLE9BQU8sRUFBRTtBQUM3QjtBQUFBLFVBQ0Y7QUFFQSxjQUFJLE9BQU8sRUFBRTtBQUFHO0FBRWhCLHNCQUFZLE1BQU07QUFFbEIsaUJBQU8sT0FBTyxLQUFLLENBQUMsYUFBYSxFQUFFLEdBQUc7QUFDcEMsaUJBQUssTUFBTSxNQUFNLFdBQVcsRUFBRSxNQUFNLFFBQVE7QUFBQSxVQUM5QztBQUVBLHdCQUFjLEtBQUssTUFBTSxNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVEsQ0FBQztBQUFBLFFBQ2pFO0FBRUEsWUFBSSxPQUFPO0FBQUcsd0JBQWMsS0FBSztBQUVqQyxZQUFJLGdCQUFnQixLQUFLLG1CQUFtQixhQUFhLEdBQUc7QUFDMUQsNEJBQWtCLGFBQWEsRUFBRSxPQUFPLGVBQWUsYUFBYTtBQUFBLFFBQ3RFLE9BQU87QUFDTCx1QkFBYSxPQUFPLGlDQUFpQyxnQkFBZ0IsR0FBRztBQUFBLFFBQzFFO0FBQUEsTUFDRjtBQUVBLDBCQUFvQixPQUFPLE1BQU0sRUFBRTtBQUVuQyxVQUFJLE1BQU0sZUFBZSxLQUNyQixNQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVEsTUFBVSxNQUMvQyxNQUFNLE1BQU0sV0FBVyxNQUFNLFdBQVcsQ0FBQyxNQUFNLE1BQy9DLE1BQU0sTUFBTSxXQUFXLE1BQU0sV0FBVyxDQUFDLE1BQU0sSUFBYTtBQUM5RCxjQUFNLFlBQVk7QUFDbEIsNEJBQW9CLE9BQU8sTUFBTSxFQUFFO0FBQUEsTUFFckMsV0FBVyxlQUFlO0FBQ3hCLG1CQUFXLE9BQU8saUNBQWlDO0FBQUEsTUFDckQ7QUFFQSxrQkFBWSxPQUFPLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixPQUFPLElBQUk7QUFDdkUsMEJBQW9CLE9BQU8sTUFBTSxFQUFFO0FBRW5DLFVBQUksTUFBTSxtQkFDTiw4QkFBOEIsS0FBSyxNQUFNLE1BQU0sTUFBTSxlQUFlLE1BQU0sUUFBUSxDQUFDLEdBQUc7QUFDeEYscUJBQWEsT0FBTyxrREFBa0Q7QUFBQSxNQUN4RTtBQUVBLFlBQU0sVUFBVSxLQUFLLE1BQU0sTUFBTTtBQUVqQyxVQUFJLE1BQU0sYUFBYSxNQUFNLGFBQWEsc0JBQXNCLEtBQUssR0FBRztBQUV0RSxZQUFJLE1BQU0sTUFBTSxXQUFXLE1BQU0sUUFBUSxNQUFNLElBQWE7QUFDMUQsZ0JBQU0sWUFBWTtBQUNsQiw4QkFBb0IsT0FBTyxNQUFNLEVBQUU7QUFBQSxRQUNyQztBQUNBO0FBQUEsTUFDRjtBQUVBLFVBQUksTUFBTSxXQUFZLE1BQU0sU0FBUyxHQUFJO0FBQ3ZDLG1CQUFXLE9BQU8sdURBQXVEO0FBQUEsTUFDM0UsT0FBTztBQUNMO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFHQSxhQUFTLGNBQWMsT0FBTyxTQUFTO0FBQ3JDLGNBQVEsT0FBTyxLQUFLO0FBQ3BCLGdCQUFVLFdBQVcsQ0FBQztBQUV0QixVQUFJLE1BQU0sV0FBVyxHQUFHO0FBR3RCLFlBQUksTUFBTSxXQUFXLE1BQU0sU0FBUyxDQUFDLE1BQU0sTUFDdkMsTUFBTSxXQUFXLE1BQU0sU0FBUyxDQUFDLE1BQU0sSUFBYztBQUN2RCxtQkFBUztBQUFBLFFBQ1g7QUFHQSxZQUFJLE1BQU0sV0FBVyxDQUFDLE1BQU0sT0FBUTtBQUNsQyxrQkFBUSxNQUFNLE1BQU0sQ0FBQztBQUFBLFFBQ3ZCO0FBQUEsTUFDRjtBQUVBLFVBQUksUUFBUSxJQUFJLE1BQU0sT0FBTyxPQUFPO0FBRXBDLFVBQUksVUFBVSxNQUFNLFFBQVEsSUFBSTtBQUVoQyxVQUFJLFlBQVksSUFBSTtBQUNsQixjQUFNLFdBQVc7QUFDakIsbUJBQVcsT0FBTyxtQ0FBbUM7QUFBQSxNQUN2RDtBQUdBLFlBQU0sU0FBUztBQUVmLGFBQU8sTUFBTSxNQUFNLFdBQVcsTUFBTSxRQUFRLE1BQU0sSUFBaUI7QUFDakUsY0FBTSxjQUFjO0FBQ3BCLGNBQU0sWUFBWTtBQUFBLE1BQ3BCO0FBRUEsYUFBTyxNQUFNLFdBQVksTUFBTSxTQUFTLEdBQUk7QUFDMUMscUJBQWEsS0FBSztBQUFBLE1BQ3BCO0FBRUEsYUFBTyxNQUFNO0FBQUEsSUFDZjtBQUdBLGFBQVMsUUFBUSxPQUFPLFVBQVUsU0FBUztBQUN6QyxVQUFJLGFBQWEsUUFBUSxPQUFPLGFBQWEsWUFBWSxPQUFPLFlBQVksYUFBYTtBQUN2RixrQkFBVTtBQUNWLG1CQUFXO0FBQUEsTUFDYjtBQUVBLFVBQUksWUFBWSxjQUFjLE9BQU8sT0FBTztBQUU1QyxVQUFJLE9BQU8sYUFBYSxZQUFZO0FBQ2xDLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxRQUFRLEdBQUcsU0FBUyxVQUFVLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUN6RSxpQkFBUyxVQUFVLEtBQUssQ0FBQztBQUFBLE1BQzNCO0FBQUEsSUFDRjtBQUdBLGFBQVMsS0FBSyxPQUFPLFNBQVM7QUFDNUIsVUFBSSxZQUFZLGNBQWMsT0FBTyxPQUFPO0FBRTVDLFVBQUksVUFBVSxXQUFXLEdBQUc7QUFFMUIsZUFBTztBQUFBLE1BQ1QsV0FBVyxVQUFVLFdBQVcsR0FBRztBQUNqQyxlQUFPLFVBQVUsQ0FBQztBQUFBLE1BQ3BCO0FBQ0EsWUFBTSxJQUFJLGNBQWMsMERBQTBEO0FBQUEsSUFDcEY7QUFHQSxJQUFBQSxRQUFPLFFBQVEsVUFBVTtBQUN6QixJQUFBQSxRQUFPLFFBQVEsT0FBVTtBQUFBO0FBQUE7OztBQzlyRHpCO0FBQUEsZ0RBQUFDLFNBQUE7QUFBQTtBQUlBLFFBQUksU0FBc0I7QUFDMUIsUUFBSSxnQkFBc0I7QUFDMUIsUUFBSSxpQkFBc0I7QUFFMUIsUUFBSSxZQUFrQixPQUFPLFVBQVU7QUFDdkMsUUFBSSxrQkFBa0IsT0FBTyxVQUFVO0FBRXZDLFFBQUksV0FBNEI7QUFDaEMsUUFBSSxXQUE0QjtBQUNoQyxRQUFJLGlCQUE0QjtBQUNoQyxRQUFJLHVCQUE0QjtBQUNoQyxRQUFJLGFBQTRCO0FBQ2hDLFFBQUksbUJBQTRCO0FBQ2hDLFFBQUksb0JBQTRCO0FBQ2hDLFFBQUksYUFBNEI7QUFDaEMsUUFBSSxlQUE0QjtBQUNoQyxRQUFJLGlCQUE0QjtBQUNoQyxRQUFJLG9CQUE0QjtBQUNoQyxRQUFJLGdCQUE0QjtBQUNoQyxRQUFJLGFBQTRCO0FBQ2hDLFFBQUksYUFBNEI7QUFDaEMsUUFBSSxhQUE0QjtBQUNoQyxRQUFJLGNBQTRCO0FBQ2hDLFFBQUksb0JBQTRCO0FBQ2hDLFFBQUksZ0JBQTRCO0FBQ2hDLFFBQUkscUJBQTRCO0FBQ2hDLFFBQUksMkJBQTRCO0FBQ2hDLFFBQUksNEJBQTRCO0FBQ2hDLFFBQUksb0JBQTRCO0FBQ2hDLFFBQUksMEJBQTRCO0FBQ2hDLFFBQUkscUJBQTRCO0FBQ2hDLFFBQUksMkJBQTRCO0FBRWhDLFFBQUksbUJBQW1CLENBQUM7QUFFeEIscUJBQWlCLENBQUksSUFBTTtBQUMzQixxQkFBaUIsQ0FBSSxJQUFNO0FBQzNCLHFCQUFpQixDQUFJLElBQU07QUFDM0IscUJBQWlCLENBQUksSUFBTTtBQUMzQixxQkFBaUIsRUFBSSxJQUFNO0FBQzNCLHFCQUFpQixFQUFJLElBQU07QUFDM0IscUJBQWlCLEVBQUksSUFBTTtBQUMzQixxQkFBaUIsRUFBSSxJQUFNO0FBQzNCLHFCQUFpQixFQUFJLElBQU07QUFDM0IscUJBQWlCLEVBQUksSUFBTTtBQUMzQixxQkFBaUIsRUFBSSxJQUFNO0FBQzNCLHFCQUFpQixHQUFJLElBQU07QUFDM0IscUJBQWlCLEdBQUksSUFBTTtBQUMzQixxQkFBaUIsSUFBTSxJQUFJO0FBQzNCLHFCQUFpQixJQUFNLElBQUk7QUFFM0IsUUFBSSw2QkFBNkI7QUFBQSxNQUMvQjtBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBTztBQUFBLE1BQU87QUFBQSxNQUFPO0FBQUEsTUFBTTtBQUFBLE1BQU07QUFBQSxNQUMzQztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBTTtBQUFBLE1BQU07QUFBQSxNQUFNO0FBQUEsTUFBTztBQUFBLE1BQU87QUFBQSxJQUM1QztBQUVBLFFBQUksMkJBQTJCO0FBRS9CLGFBQVMsZ0JBQWdCLFFBQVEsS0FBSztBQUNwQyxVQUFJLFFBQVEsTUFBTSxPQUFPLFFBQVEsS0FBSyxPQUFPO0FBRTdDLFVBQUksUUFBUTtBQUFNLGVBQU8sQ0FBQztBQUUxQixlQUFTLENBQUM7QUFDVixhQUFPLE9BQU8sS0FBSyxHQUFHO0FBRXRCLFdBQUssUUFBUSxHQUFHLFNBQVMsS0FBSyxRQUFRLFFBQVEsUUFBUSxTQUFTLEdBQUc7QUFDaEUsY0FBTSxLQUFLLEtBQUs7QUFDaEIsZ0JBQVEsT0FBTyxJQUFJLEdBQUcsQ0FBQztBQUV2QixZQUFJLElBQUksTUFBTSxHQUFHLENBQUMsTUFBTSxNQUFNO0FBQzVCLGdCQUFNLHVCQUF1QixJQUFJLE1BQU0sQ0FBQztBQUFBLFFBQzFDO0FBQ0EsZUFBTyxPQUFPLGdCQUFnQixVQUFVLEVBQUUsR0FBRztBQUU3QyxZQUFJLFFBQVEsZ0JBQWdCLEtBQUssS0FBSyxjQUFjLEtBQUssR0FBRztBQUMxRCxrQkFBUSxLQUFLLGFBQWEsS0FBSztBQUFBLFFBQ2pDO0FBRUEsZUFBTyxHQUFHLElBQUk7QUFBQSxNQUNoQjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxVQUFVLFdBQVc7QUFDNUIsVUFBSSxRQUFRLFFBQVE7QUFFcEIsZUFBUyxVQUFVLFNBQVMsRUFBRSxFQUFFLFlBQVk7QUFFNUMsVUFBSSxhQUFhLEtBQU07QUFDckIsaUJBQVM7QUFDVCxpQkFBUztBQUFBLE1BQ1gsV0FBVyxhQUFhLE9BQVE7QUFDOUIsaUJBQVM7QUFDVCxpQkFBUztBQUFBLE1BQ1gsV0FBVyxhQUFhLFlBQVk7QUFDbEMsaUJBQVM7QUFDVCxpQkFBUztBQUFBLE1BQ1gsT0FBTztBQUNMLGNBQU0sSUFBSSxjQUFjLCtEQUErRDtBQUFBLE1BQ3pGO0FBRUEsYUFBTyxPQUFPLFNBQVMsT0FBTyxPQUFPLEtBQUssU0FBUyxPQUFPLE1BQU0sSUFBSTtBQUFBLElBQ3RFO0FBR0EsUUFBSSxzQkFBc0I7QUFBMUIsUUFDSSxzQkFBc0I7QUFFMUIsYUFBUyxNQUFNLFNBQVM7QUFDdEIsV0FBSyxTQUFnQixRQUFRLFFBQVEsS0FBSztBQUMxQyxXQUFLLFNBQWdCLEtBQUssSUFBSSxHQUFJLFFBQVEsUUFBUSxLQUFLLENBQUU7QUFDekQsV0FBSyxnQkFBZ0IsUUFBUSxlQUFlLEtBQUs7QUFDakQsV0FBSyxjQUFnQixRQUFRLGFBQWEsS0FBSztBQUMvQyxXQUFLLFlBQWlCLE9BQU8sVUFBVSxRQUFRLFdBQVcsQ0FBQyxJQUFJLEtBQUssUUFBUSxXQUFXO0FBQ3ZGLFdBQUssV0FBZ0IsZ0JBQWdCLEtBQUssUUFBUSxRQUFRLFFBQVEsS0FBSyxJQUFJO0FBQzNFLFdBQUssV0FBZ0IsUUFBUSxVQUFVLEtBQUs7QUFDNUMsV0FBSyxZQUFnQixRQUFRLFdBQVcsS0FBSztBQUM3QyxXQUFLLFNBQWdCLFFBQVEsUUFBUSxLQUFLO0FBQzFDLFdBQUssZUFBZ0IsUUFBUSxjQUFjLEtBQUs7QUFDaEQsV0FBSyxlQUFnQixRQUFRLGNBQWMsS0FBSztBQUNoRCxXQUFLLGNBQWdCLFFBQVEsYUFBYSxNQUFNLE1BQU0sc0JBQXNCO0FBQzVFLFdBQUssY0FBZ0IsUUFBUSxhQUFhLEtBQUs7QUFDL0MsV0FBSyxXQUFnQixPQUFPLFFBQVEsVUFBVSxNQUFNLGFBQWEsUUFBUSxVQUFVLElBQUk7QUFFdkYsV0FBSyxnQkFBZ0IsS0FBSyxPQUFPO0FBQ2pDLFdBQUssZ0JBQWdCLEtBQUssT0FBTztBQUVqQyxXQUFLLE1BQU07QUFDWCxXQUFLLFNBQVM7QUFFZCxXQUFLLGFBQWEsQ0FBQztBQUNuQixXQUFLLGlCQUFpQjtBQUFBLElBQ3hCO0FBR0EsYUFBUyxhQUFhLFFBQVEsUUFBUTtBQUNwQyxVQUFJLE1BQU0sT0FBTyxPQUFPLEtBQUssTUFBTSxHQUMvQixXQUFXLEdBQ1gsT0FBTyxJQUNQLFNBQVMsSUFDVCxNQUNBLFNBQVMsT0FBTztBQUVwQixhQUFPLFdBQVcsUUFBUTtBQUN4QixlQUFPLE9BQU8sUUFBUSxNQUFNLFFBQVE7QUFDcEMsWUFBSSxTQUFTLElBQUk7QUFDZixpQkFBTyxPQUFPLE1BQU0sUUFBUTtBQUM1QixxQkFBVztBQUFBLFFBQ2IsT0FBTztBQUNMLGlCQUFPLE9BQU8sTUFBTSxVQUFVLE9BQU8sQ0FBQztBQUN0QyxxQkFBVyxPQUFPO0FBQUEsUUFDcEI7QUFFQSxZQUFJLEtBQUssVUFBVSxTQUFTO0FBQU0sb0JBQVU7QUFFNUMsa0JBQVU7QUFBQSxNQUNaO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGlCQUFpQixPQUFPLE9BQU87QUFDdEMsYUFBTyxPQUFPLE9BQU8sT0FBTyxLQUFLLE1BQU0sU0FBUyxLQUFLO0FBQUEsSUFDdkQ7QUFFQSxhQUFTLHNCQUFzQixPQUFPLEtBQUs7QUFDekMsVUFBSSxPQUFPLFFBQVE7QUFFbkIsV0FBSyxRQUFRLEdBQUcsU0FBUyxNQUFNLGNBQWMsUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBQy9FLGVBQU8sTUFBTSxjQUFjLEtBQUs7QUFFaEMsWUFBSSxLQUFLLFFBQVEsR0FBRyxHQUFHO0FBQ3JCLGlCQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFFQSxhQUFPO0FBQUEsSUFDVDtBQUdBLGFBQVMsYUFBYSxHQUFHO0FBQ3ZCLGFBQU8sTUFBTSxjQUFjLE1BQU07QUFBQSxJQUNuQztBQU1BLGFBQVMsWUFBWSxHQUFHO0FBQ3RCLGFBQVMsTUFBVyxLQUFLLEtBQUssT0FDckIsT0FBVyxLQUFLLEtBQUssU0FBYSxNQUFNLFFBQVUsTUFBTSxRQUN4RCxTQUFXLEtBQUssS0FBSyxTQUFhLE1BQU0sWUFDeEMsU0FBVyxLQUFLLEtBQUs7QUFBQSxJQUNoQztBQU9BLGFBQVMscUJBQXFCLEdBQUc7QUFDL0IsYUFBTyxZQUFZLENBQUMsS0FDZixNQUFNLFlBRU4sTUFBTSx3QkFDTixNQUFNO0FBQUEsSUFDYjtBQVdBLGFBQVMsWUFBWSxHQUFHLE1BQU0sU0FBUztBQUNyQyxVQUFJLHdCQUF3QixxQkFBcUIsQ0FBQztBQUNsRCxVQUFJLFlBQVkseUJBQXlCLENBQUMsYUFBYSxDQUFDO0FBQ3hEO0FBQUE7QUFBQSxTQUVFO0FBQUE7QUFBQSxVQUNFO0FBQUEsWUFDRSx5QkFFRyxNQUFNLGNBQ04sTUFBTSw0QkFDTixNQUFNLDZCQUNOLE1BQU0sMkJBQ04sTUFBTSw2QkFHVixNQUFNLGNBQ04sRUFBRSxTQUFTLGNBQWMsQ0FBQyxjQUN6QixxQkFBcUIsSUFBSSxLQUFLLENBQUMsYUFBYSxJQUFJLEtBQUssTUFBTSxjQUMzRCxTQUFTLGNBQWM7QUFBQTtBQUFBLElBQy9CO0FBR0EsYUFBUyxpQkFBaUIsR0FBRztBQUkzQixhQUFPLFlBQVksQ0FBQyxLQUFLLE1BQU0sWUFDMUIsQ0FBQyxhQUFhLENBQUMsS0FHZixNQUFNLGNBQ04sTUFBTSxpQkFDTixNQUFNLGNBQ04sTUFBTSxjQUNOLE1BQU0sNEJBQ04sTUFBTSw2QkFDTixNQUFNLDJCQUNOLE1BQU0sNEJBRU4sTUFBTSxjQUNOLE1BQU0sa0JBQ04sTUFBTSxpQkFDTixNQUFNLG9CQUNOLE1BQU0sc0JBQ04sTUFBTSxlQUNOLE1BQU0scUJBQ04sTUFBTSxxQkFDTixNQUFNLHFCQUVOLE1BQU0sZ0JBQ04sTUFBTSxzQkFDTixNQUFNO0FBQUEsSUFDYjtBQUdBLGFBQVMsZ0JBQWdCLEdBQUc7QUFFMUIsYUFBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLE1BQU07QUFBQSxJQUNuQztBQUdBLGFBQVMsWUFBWSxRQUFRLEtBQUs7QUFDaEMsVUFBSSxRQUFRLE9BQU8sV0FBVyxHQUFHLEdBQUc7QUFDcEMsVUFBSSxTQUFTLFNBQVUsU0FBUyxTQUFVLE1BQU0sSUFBSSxPQUFPLFFBQVE7QUFDakUsaUJBQVMsT0FBTyxXQUFXLE1BQU0sQ0FBQztBQUNsQyxZQUFJLFVBQVUsU0FBVSxVQUFVLE9BQVE7QUFFeEMsa0JBQVEsUUFBUSxTQUFVLE9BQVEsU0FBUyxRQUFTO0FBQUEsUUFDdEQ7QUFBQSxNQUNGO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFHQSxhQUFTLG9CQUFvQixRQUFRO0FBQ25DLFVBQUksaUJBQWlCO0FBQ3JCLGFBQU8sZUFBZSxLQUFLLE1BQU07QUFBQSxJQUNuQztBQUVBLFFBQUksY0FBZ0I7QUFBcEIsUUFDSSxlQUFnQjtBQURwQixRQUVJLGdCQUFnQjtBQUZwQixRQUdJLGVBQWdCO0FBSHBCLFFBSUksZUFBZ0I7QUFTcEIsYUFBUyxrQkFBa0IsUUFBUSxnQkFBZ0IsZ0JBQWdCLFdBQ2pFLG1CQUFtQixhQUFhLGFBQWEsU0FBUztBQUV0RCxVQUFJO0FBQ0osVUFBSSxPQUFPO0FBQ1gsVUFBSSxXQUFXO0FBQ2YsVUFBSSxlQUFlO0FBQ25CLFVBQUksa0JBQWtCO0FBQ3RCLFVBQUksbUJBQW1CLGNBQWM7QUFDckMsVUFBSSxvQkFBb0I7QUFDeEIsVUFBSSxRQUFRLGlCQUFpQixZQUFZLFFBQVEsQ0FBQyxDQUFDLEtBQ3hDLGdCQUFnQixZQUFZLFFBQVEsT0FBTyxTQUFTLENBQUMsQ0FBQztBQUVqRSxVQUFJLGtCQUFrQixhQUFhO0FBR2pDLGFBQUssSUFBSSxHQUFHLElBQUksT0FBTyxRQUFRLFFBQVEsUUFBVSxLQUFLLElBQUksS0FBSztBQUM3RCxpQkFBTyxZQUFZLFFBQVEsQ0FBQztBQUM1QixjQUFJLENBQUMsWUFBWSxJQUFJLEdBQUc7QUFDdEIsbUJBQU87QUFBQSxVQUNUO0FBQ0Esa0JBQVEsU0FBUyxZQUFZLE1BQU0sVUFBVSxPQUFPO0FBQ3BELHFCQUFXO0FBQUEsUUFDYjtBQUFBLE1BQ0YsT0FBTztBQUVMLGFBQUssSUFBSSxHQUFHLElBQUksT0FBTyxRQUFRLFFBQVEsUUFBVSxLQUFLLElBQUksS0FBSztBQUM3RCxpQkFBTyxZQUFZLFFBQVEsQ0FBQztBQUM1QixjQUFJLFNBQVMsZ0JBQWdCO0FBQzNCLDJCQUFlO0FBRWYsZ0JBQUksa0JBQWtCO0FBQ3BCLGdDQUFrQjtBQUFBLGNBRWYsSUFBSSxvQkFBb0IsSUFBSSxhQUM1QixPQUFPLG9CQUFvQixDQUFDLE1BQU07QUFDckMsa0NBQW9CO0FBQUEsWUFDdEI7QUFBQSxVQUNGLFdBQVcsQ0FBQyxZQUFZLElBQUksR0FBRztBQUM3QixtQkFBTztBQUFBLFVBQ1Q7QUFDQSxrQkFBUSxTQUFTLFlBQVksTUFBTSxVQUFVLE9BQU87QUFDcEQscUJBQVc7QUFBQSxRQUNiO0FBRUEsMEJBQWtCLG1CQUFvQixxQkFDbkMsSUFBSSxvQkFBb0IsSUFBSSxhQUM1QixPQUFPLG9CQUFvQixDQUFDLE1BQU07QUFBQSxNQUN2QztBQUlBLFVBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUI7QUFHckMsWUFBSSxTQUFTLENBQUMsZUFBZSxDQUFDLGtCQUFrQixNQUFNLEdBQUc7QUFDdkQsaUJBQU87QUFBQSxRQUNUO0FBQ0EsZUFBTyxnQkFBZ0Isc0JBQXNCLGVBQWU7QUFBQSxNQUM5RDtBQUVBLFVBQUksaUJBQWlCLEtBQUssb0JBQW9CLE1BQU0sR0FBRztBQUNyRCxlQUFPO0FBQUEsTUFDVDtBQUdBLFVBQUksQ0FBQyxhQUFhO0FBQ2hCLGVBQU8sa0JBQWtCLGVBQWU7QUFBQSxNQUMxQztBQUNBLGFBQU8sZ0JBQWdCLHNCQUFzQixlQUFlO0FBQUEsSUFDOUQ7QUFRQSxhQUFTLFlBQVksT0FBTyxRQUFRLE9BQU8sT0FBTyxTQUFTO0FBQ3pELFlBQU0sT0FBUSxXQUFZO0FBQ3hCLFlBQUksT0FBTyxXQUFXLEdBQUc7QUFDdkIsaUJBQU8sTUFBTSxnQkFBZ0Isc0JBQXNCLE9BQU87QUFBQSxRQUM1RDtBQUNBLFlBQUksQ0FBQyxNQUFNLGNBQWM7QUFDdkIsY0FBSSwyQkFBMkIsUUFBUSxNQUFNLE1BQU0sTUFBTSx5QkFBeUIsS0FBSyxNQUFNLEdBQUc7QUFDOUYsbUJBQU8sTUFBTSxnQkFBZ0Isc0JBQXVCLE1BQU0sU0FBUyxNQUFRLE1BQU0sU0FBUztBQUFBLFVBQzVGO0FBQUEsUUFDRjtBQUVBLFlBQUksU0FBUyxNQUFNLFNBQVMsS0FBSyxJQUFJLEdBQUcsS0FBSztBQVE3QyxZQUFJLFlBQVksTUFBTSxjQUFjLEtBQ2hDLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxNQUFNLFdBQVcsRUFBRSxHQUFHLE1BQU0sWUFBWSxNQUFNO0FBR3pFLFlBQUksaUJBQWlCLFNBRWYsTUFBTSxZQUFZLE1BQU0sU0FBUyxNQUFNO0FBQzdDLGlCQUFTLGNBQWNDLFNBQVE7QUFDN0IsaUJBQU8sc0JBQXNCLE9BQU9BLE9BQU07QUFBQSxRQUM1QztBQUVBLGdCQUFRO0FBQUEsVUFBa0I7QUFBQSxVQUFRO0FBQUEsVUFBZ0IsTUFBTTtBQUFBLFVBQVE7QUFBQSxVQUM5RDtBQUFBLFVBQWUsTUFBTTtBQUFBLFVBQWEsTUFBTSxlQUFlLENBQUM7QUFBQSxVQUFPO0FBQUEsUUFBTyxHQUFHO0FBQUEsVUFFekUsS0FBSztBQUNILG1CQUFPO0FBQUEsVUFDVCxLQUFLO0FBQ0gsbUJBQU8sTUFBTSxPQUFPLFFBQVEsTUFBTSxJQUFJLElBQUk7QUFBQSxVQUM1QyxLQUFLO0FBQ0gsbUJBQU8sTUFBTSxZQUFZLFFBQVEsTUFBTSxNQUFNLElBQ3pDLGtCQUFrQixhQUFhLFFBQVEsTUFBTSxDQUFDO0FBQUEsVUFDcEQsS0FBSztBQUNILG1CQUFPLE1BQU0sWUFBWSxRQUFRLE1BQU0sTUFBTSxJQUN6QyxrQkFBa0IsYUFBYSxXQUFXLFFBQVEsU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUFBLFVBQzNFLEtBQUs7QUFDSCxtQkFBTyxNQUFNLGFBQWEsUUFBUSxTQUFTLElBQUk7QUFBQSxVQUNqRDtBQUNFLGtCQUFNLElBQUksY0FBYyx3Q0FBd0M7QUFBQSxRQUNwRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLElBQ0o7QUFHQSxhQUFTLFlBQVksUUFBUSxnQkFBZ0I7QUFDM0MsVUFBSSxrQkFBa0Isb0JBQW9CLE1BQU0sSUFBSSxPQUFPLGNBQWMsSUFBSTtBQUc3RSxVQUFJLE9BQWdCLE9BQU8sT0FBTyxTQUFTLENBQUMsTUFBTTtBQUNsRCxVQUFJLE9BQU8sU0FBUyxPQUFPLE9BQU8sU0FBUyxDQUFDLE1BQU0sUUFBUSxXQUFXO0FBQ3JFLFVBQUksUUFBUSxPQUFPLE1BQU8sT0FBTyxLQUFLO0FBRXRDLGFBQU8sa0JBQWtCLFFBQVE7QUFBQSxJQUNuQztBQUdBLGFBQVMsa0JBQWtCLFFBQVE7QUFDakMsYUFBTyxPQUFPLE9BQU8sU0FBUyxDQUFDLE1BQU0sT0FBTyxPQUFPLE1BQU0sR0FBRyxFQUFFLElBQUk7QUFBQSxJQUNwRTtBQUlBLGFBQVMsV0FBVyxRQUFRLE9BQU87QUFLakMsVUFBSSxTQUFTO0FBR2IsVUFBSSxTQUFVLFdBQVk7QUFDeEIsWUFBSSxTQUFTLE9BQU8sUUFBUSxJQUFJO0FBQ2hDLGlCQUFTLFdBQVcsS0FBSyxTQUFTLE9BQU87QUFDekMsZUFBTyxZQUFZO0FBQ25CLGVBQU8sU0FBUyxPQUFPLE1BQU0sR0FBRyxNQUFNLEdBQUcsS0FBSztBQUFBLE1BQ2hELEVBQUU7QUFFRixVQUFJLG1CQUFtQixPQUFPLENBQUMsTUFBTSxRQUFRLE9BQU8sQ0FBQyxNQUFNO0FBQzNELFVBQUk7QUFHSixVQUFJO0FBQ0osYUFBUSxRQUFRLE9BQU8sS0FBSyxNQUFNLEdBQUk7QUFDcEMsWUFBSSxTQUFTLE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxDQUFDO0FBQ3JDLHVCQUFnQixLQUFLLENBQUMsTUFBTTtBQUM1QixrQkFBVSxVQUNMLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLFNBQVMsS0FDOUMsT0FBTyxNQUNULFNBQVMsTUFBTSxLQUFLO0FBQ3hCLDJCQUFtQjtBQUFBLE1BQ3JCO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFNQSxhQUFTLFNBQVMsTUFBTSxPQUFPO0FBQzdCLFVBQUksU0FBUyxNQUFNLEtBQUssQ0FBQyxNQUFNO0FBQUssZUFBTztBQUczQyxVQUFJLFVBQVU7QUFDZCxVQUFJO0FBRUosVUFBSSxRQUFRLEdBQUcsS0FBSyxPQUFPLEdBQUcsT0FBTztBQUNyQyxVQUFJLFNBQVM7QUFNYixhQUFRLFFBQVEsUUFBUSxLQUFLLElBQUksR0FBSTtBQUNuQyxlQUFPLE1BQU07QUFFYixZQUFJLE9BQU8sUUFBUSxPQUFPO0FBQ3hCLGdCQUFPLE9BQU8sUUFBUyxPQUFPO0FBQzlCLG9CQUFVLE9BQU8sS0FBSyxNQUFNLE9BQU8sR0FBRztBQUV0QyxrQkFBUSxNQUFNO0FBQUEsUUFDaEI7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUlBLGdCQUFVO0FBRVYsVUFBSSxLQUFLLFNBQVMsUUFBUSxTQUFTLE9BQU8sT0FBTztBQUMvQyxrQkFBVSxLQUFLLE1BQU0sT0FBTyxJQUFJLElBQUksT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQUEsTUFDaEUsT0FBTztBQUNMLGtCQUFVLEtBQUssTUFBTSxLQUFLO0FBQUEsTUFDNUI7QUFFQSxhQUFPLE9BQU8sTUFBTSxDQUFDO0FBQUEsSUFDdkI7QUFHQSxhQUFTLGFBQWEsUUFBUTtBQUM1QixVQUFJLFNBQVM7QUFDYixVQUFJLE9BQU87QUFDWCxVQUFJO0FBRUosZUFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFFBQVEsUUFBUSxRQUFVLEtBQUssSUFBSSxLQUFLO0FBQ2pFLGVBQU8sWUFBWSxRQUFRLENBQUM7QUFDNUIsb0JBQVksaUJBQWlCLElBQUk7QUFFakMsWUFBSSxDQUFDLGFBQWEsWUFBWSxJQUFJLEdBQUc7QUFDbkMsb0JBQVUsT0FBTyxDQUFDO0FBQ2xCLGNBQUksUUFBUTtBQUFTLHNCQUFVLE9BQU8sSUFBSSxDQUFDO0FBQUEsUUFDN0MsT0FBTztBQUNMLG9CQUFVLGFBQWEsVUFBVSxJQUFJO0FBQUEsUUFDdkM7QUFBQSxNQUNGO0FBRUEsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGtCQUFrQixPQUFPLE9BQU8sUUFBUTtBQUMvQyxVQUFJLFVBQVUsSUFDVixPQUFVLE1BQU0sS0FDaEIsT0FDQSxRQUNBO0FBRUosV0FBSyxRQUFRLEdBQUcsU0FBUyxPQUFPLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUNsRSxnQkFBUSxPQUFPLEtBQUs7QUFFcEIsWUFBSSxNQUFNLFVBQVU7QUFDbEIsa0JBQVEsTUFBTSxTQUFTLEtBQUssUUFBUSxPQUFPLEtBQUssR0FBRyxLQUFLO0FBQUEsUUFDMUQ7QUFHQSxZQUFJLFVBQVUsT0FBTyxPQUFPLE9BQU8sT0FBTyxLQUFLLEtBQzFDLE9BQU8sVUFBVSxlQUNqQixVQUFVLE9BQU8sT0FBTyxNQUFNLE9BQU8sS0FBSyxHQUFJO0FBRWpELGNBQUksWUFBWTtBQUFJLHVCQUFXLE9BQU8sQ0FBQyxNQUFNLGVBQWUsTUFBTTtBQUNsRSxxQkFBVyxNQUFNO0FBQUEsUUFDbkI7QUFBQSxNQUNGO0FBRUEsWUFBTSxNQUFNO0FBQ1osWUFBTSxPQUFPLE1BQU0sVUFBVTtBQUFBLElBQy9CO0FBRUEsYUFBUyxtQkFBbUIsT0FBTyxPQUFPLFFBQVEsU0FBUztBQUN6RCxVQUFJLFVBQVUsSUFDVixPQUFVLE1BQU0sS0FDaEIsT0FDQSxRQUNBO0FBRUosV0FBSyxRQUFRLEdBQUcsU0FBUyxPQUFPLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUNsRSxnQkFBUSxPQUFPLEtBQUs7QUFFcEIsWUFBSSxNQUFNLFVBQVU7QUFDbEIsa0JBQVEsTUFBTSxTQUFTLEtBQUssUUFBUSxPQUFPLEtBQUssR0FBRyxLQUFLO0FBQUEsUUFDMUQ7QUFHQSxZQUFJLFVBQVUsT0FBTyxRQUFRLEdBQUcsT0FBTyxNQUFNLE1BQU0sT0FBTyxJQUFJLEtBQ3pELE9BQU8sVUFBVSxlQUNqQixVQUFVLE9BQU8sUUFBUSxHQUFHLE1BQU0sTUFBTSxNQUFNLE9BQU8sSUFBSSxHQUFJO0FBRWhFLGNBQUksQ0FBQyxXQUFXLFlBQVksSUFBSTtBQUM5Qix1QkFBVyxpQkFBaUIsT0FBTyxLQUFLO0FBQUEsVUFDMUM7QUFFQSxjQUFJLE1BQU0sUUFBUSxtQkFBbUIsTUFBTSxLQUFLLFdBQVcsQ0FBQyxHQUFHO0FBQzdELHVCQUFXO0FBQUEsVUFDYixPQUFPO0FBQ0wsdUJBQVc7QUFBQSxVQUNiO0FBRUEscUJBQVcsTUFBTTtBQUFBLFFBQ25CO0FBQUEsTUFDRjtBQUVBLFlBQU0sTUFBTTtBQUNaLFlBQU0sT0FBTyxXQUFXO0FBQUEsSUFDMUI7QUFFQSxhQUFTLGlCQUFpQixPQUFPLE9BQU8sUUFBUTtBQUM5QyxVQUFJLFVBQWdCLElBQ2hCLE9BQWdCLE1BQU0sS0FDdEIsZ0JBQWdCLE9BQU8sS0FBSyxNQUFNLEdBQ2xDLE9BQ0EsUUFDQSxXQUNBLGFBQ0E7QUFFSixXQUFLLFFBQVEsR0FBRyxTQUFTLGNBQWMsUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBRXpFLHFCQUFhO0FBQ2IsWUFBSSxZQUFZO0FBQUksd0JBQWM7QUFFbEMsWUFBSSxNQUFNO0FBQWMsd0JBQWM7QUFFdEMsb0JBQVksY0FBYyxLQUFLO0FBQy9CLHNCQUFjLE9BQU8sU0FBUztBQUU5QixZQUFJLE1BQU0sVUFBVTtBQUNsQix3QkFBYyxNQUFNLFNBQVMsS0FBSyxRQUFRLFdBQVcsV0FBVztBQUFBLFFBQ2xFO0FBRUEsWUFBSSxDQUFDLFVBQVUsT0FBTyxPQUFPLFdBQVcsT0FBTyxLQUFLLEdBQUc7QUFDckQ7QUFBQSxRQUNGO0FBRUEsWUFBSSxNQUFNLEtBQUssU0FBUztBQUFNLHdCQUFjO0FBRTVDLHNCQUFjLE1BQU0sUUFBUSxNQUFNLGVBQWUsTUFBTSxNQUFNLE9BQU8sTUFBTSxlQUFlLEtBQUs7QUFFOUYsWUFBSSxDQUFDLFVBQVUsT0FBTyxPQUFPLGFBQWEsT0FBTyxLQUFLLEdBQUc7QUFDdkQ7QUFBQSxRQUNGO0FBRUEsc0JBQWMsTUFBTTtBQUdwQixtQkFBVztBQUFBLE1BQ2I7QUFFQSxZQUFNLE1BQU07QUFDWixZQUFNLE9BQU8sTUFBTSxVQUFVO0FBQUEsSUFDL0I7QUFFQSxhQUFTLGtCQUFrQixPQUFPLE9BQU8sUUFBUSxTQUFTO0FBQ3hELFVBQUksVUFBZ0IsSUFDaEIsT0FBZ0IsTUFBTSxLQUN0QixnQkFBZ0IsT0FBTyxLQUFLLE1BQU0sR0FDbEMsT0FDQSxRQUNBLFdBQ0EsYUFDQSxjQUNBO0FBR0osVUFBSSxNQUFNLGFBQWEsTUFBTTtBQUUzQixzQkFBYyxLQUFLO0FBQUEsTUFDckIsV0FBVyxPQUFPLE1BQU0sYUFBYSxZQUFZO0FBRS9DLHNCQUFjLEtBQUssTUFBTSxRQUFRO0FBQUEsTUFDbkMsV0FBVyxNQUFNLFVBQVU7QUFFekIsY0FBTSxJQUFJLGNBQWMsMENBQTBDO0FBQUEsTUFDcEU7QUFFQSxXQUFLLFFBQVEsR0FBRyxTQUFTLGNBQWMsUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBQ3pFLHFCQUFhO0FBRWIsWUFBSSxDQUFDLFdBQVcsWUFBWSxJQUFJO0FBQzlCLHdCQUFjLGlCQUFpQixPQUFPLEtBQUs7QUFBQSxRQUM3QztBQUVBLG9CQUFZLGNBQWMsS0FBSztBQUMvQixzQkFBYyxPQUFPLFNBQVM7QUFFOUIsWUFBSSxNQUFNLFVBQVU7QUFDbEIsd0JBQWMsTUFBTSxTQUFTLEtBQUssUUFBUSxXQUFXLFdBQVc7QUFBQSxRQUNsRTtBQUVBLFlBQUksQ0FBQyxVQUFVLE9BQU8sUUFBUSxHQUFHLFdBQVcsTUFBTSxNQUFNLElBQUksR0FBRztBQUM3RDtBQUFBLFFBQ0Y7QUFFQSx1QkFBZ0IsTUFBTSxRQUFRLFFBQVEsTUFBTSxRQUFRLE9BQ3BDLE1BQU0sUUFBUSxNQUFNLEtBQUssU0FBUztBQUVsRCxZQUFJLGNBQWM7QUFDaEIsY0FBSSxNQUFNLFFBQVEsbUJBQW1CLE1BQU0sS0FBSyxXQUFXLENBQUMsR0FBRztBQUM3RCwwQkFBYztBQUFBLFVBQ2hCLE9BQU87QUFDTCwwQkFBYztBQUFBLFVBQ2hCO0FBQUEsUUFDRjtBQUVBLHNCQUFjLE1BQU07QUFFcEIsWUFBSSxjQUFjO0FBQ2hCLHdCQUFjLGlCQUFpQixPQUFPLEtBQUs7QUFBQSxRQUM3QztBQUVBLFlBQUksQ0FBQyxVQUFVLE9BQU8sUUFBUSxHQUFHLGFBQWEsTUFBTSxZQUFZLEdBQUc7QUFDakU7QUFBQSxRQUNGO0FBRUEsWUFBSSxNQUFNLFFBQVEsbUJBQW1CLE1BQU0sS0FBSyxXQUFXLENBQUMsR0FBRztBQUM3RCx3QkFBYztBQUFBLFFBQ2hCLE9BQU87QUFDTCx3QkFBYztBQUFBLFFBQ2hCO0FBRUEsc0JBQWMsTUFBTTtBQUdwQixtQkFBVztBQUFBLE1BQ2I7QUFFQSxZQUFNLE1BQU07QUFDWixZQUFNLE9BQU8sV0FBVztBQUFBLElBQzFCO0FBRUEsYUFBUyxXQUFXLE9BQU8sUUFBUSxVQUFVO0FBQzNDLFVBQUksU0FBUyxVQUFVLE9BQU8sUUFBUSxNQUFNO0FBRTVDLGlCQUFXLFdBQVcsTUFBTSxnQkFBZ0IsTUFBTTtBQUVsRCxXQUFLLFFBQVEsR0FBRyxTQUFTLFNBQVMsUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBQ3BFLGVBQU8sU0FBUyxLQUFLO0FBRXJCLGFBQUssS0FBSyxjQUFlLEtBQUssZUFDekIsQ0FBQyxLQUFLLGNBQWdCLE9BQU8sV0FBVyxZQUFjLGtCQUFrQixLQUFLLGdCQUM3RSxDQUFDLEtBQUssYUFBYyxLQUFLLFVBQVUsTUFBTSxJQUFJO0FBRWhELGNBQUksVUFBVTtBQUNaLGdCQUFJLEtBQUssU0FBUyxLQUFLLGVBQWU7QUFDcEMsb0JBQU0sTUFBTSxLQUFLLGNBQWMsTUFBTTtBQUFBLFlBQ3ZDLE9BQU87QUFDTCxvQkFBTSxNQUFNLEtBQUs7QUFBQSxZQUNuQjtBQUFBLFVBQ0YsT0FBTztBQUNMLGtCQUFNLE1BQU07QUFBQSxVQUNkO0FBRUEsY0FBSSxLQUFLLFdBQVc7QUFDbEIsb0JBQVEsTUFBTSxTQUFTLEtBQUssR0FBRyxLQUFLLEtBQUs7QUFFekMsZ0JBQUksVUFBVSxLQUFLLEtBQUssU0FBUyxNQUFNLHFCQUFxQjtBQUMxRCx3QkFBVSxLQUFLLFVBQVUsUUFBUSxLQUFLO0FBQUEsWUFDeEMsV0FBVyxnQkFBZ0IsS0FBSyxLQUFLLFdBQVcsS0FBSyxHQUFHO0FBQ3RELHdCQUFVLEtBQUssVUFBVSxLQUFLLEVBQUUsUUFBUSxLQUFLO0FBQUEsWUFDL0MsT0FBTztBQUNMLG9CQUFNLElBQUksY0FBYyxPQUFPLEtBQUssTUFBTSxpQ0FBaUMsUUFBUSxTQUFTO0FBQUEsWUFDOUY7QUFFQSxrQkFBTSxPQUFPO0FBQUEsVUFDZjtBQUVBLGlCQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFFQSxhQUFPO0FBQUEsSUFDVDtBQUtBLGFBQVMsVUFBVSxPQUFPLE9BQU8sUUFBUSxPQUFPLFNBQVMsT0FBTyxZQUFZO0FBQzFFLFlBQU0sTUFBTTtBQUNaLFlBQU0sT0FBTztBQUViLFVBQUksQ0FBQyxXQUFXLE9BQU8sUUFBUSxLQUFLLEdBQUc7QUFDckMsbUJBQVcsT0FBTyxRQUFRLElBQUk7QUFBQSxNQUNoQztBQUVBLFVBQUksT0FBTyxVQUFVLEtBQUssTUFBTSxJQUFJO0FBQ3BDLFVBQUksVUFBVTtBQUNkLFVBQUk7QUFFSixVQUFJLE9BQU87QUFDVCxnQkFBUyxNQUFNLFlBQVksS0FBSyxNQUFNLFlBQVk7QUFBQSxNQUNwRDtBQUVBLFVBQUksZ0JBQWdCLFNBQVMscUJBQXFCLFNBQVMsa0JBQ3ZELGdCQUNBO0FBRUosVUFBSSxlQUFlO0FBQ2pCLHlCQUFpQixNQUFNLFdBQVcsUUFBUSxNQUFNO0FBQ2hELG9CQUFZLG1CQUFtQjtBQUFBLE1BQ2pDO0FBRUEsVUFBSyxNQUFNLFFBQVEsUUFBUSxNQUFNLFFBQVEsT0FBUSxhQUFjLE1BQU0sV0FBVyxLQUFLLFFBQVEsR0FBSTtBQUMvRixrQkFBVTtBQUFBLE1BQ1o7QUFFQSxVQUFJLGFBQWEsTUFBTSxlQUFlLGNBQWMsR0FBRztBQUNyRCxjQUFNLE9BQU8sVUFBVTtBQUFBLE1BQ3pCLE9BQU87QUFDTCxZQUFJLGlCQUFpQixhQUFhLENBQUMsTUFBTSxlQUFlLGNBQWMsR0FBRztBQUN2RSxnQkFBTSxlQUFlLGNBQWMsSUFBSTtBQUFBLFFBQ3pDO0FBQ0EsWUFBSSxTQUFTLG1CQUFtQjtBQUM5QixjQUFJLFNBQVUsT0FBTyxLQUFLLE1BQU0sSUFBSSxFQUFFLFdBQVcsR0FBSTtBQUNuRCw4QkFBa0IsT0FBTyxPQUFPLE1BQU0sTUFBTSxPQUFPO0FBQ25ELGdCQUFJLFdBQVc7QUFDYixvQkFBTSxPQUFPLFVBQVUsaUJBQWlCLE1BQU07QUFBQSxZQUNoRDtBQUFBLFVBQ0YsT0FBTztBQUNMLDZCQUFpQixPQUFPLE9BQU8sTUFBTSxJQUFJO0FBQ3pDLGdCQUFJLFdBQVc7QUFDYixvQkFBTSxPQUFPLFVBQVUsaUJBQWlCLE1BQU0sTUFBTTtBQUFBLFlBQ3REO0FBQUEsVUFDRjtBQUFBLFFBQ0YsV0FBVyxTQUFTLGtCQUFrQjtBQUNwQyxjQUFJLFNBQVUsTUFBTSxLQUFLLFdBQVcsR0FBSTtBQUN0QyxnQkFBSSxNQUFNLGlCQUFpQixDQUFDLGNBQWMsUUFBUSxHQUFHO0FBQ25ELGlDQUFtQixPQUFPLFFBQVEsR0FBRyxNQUFNLE1BQU0sT0FBTztBQUFBLFlBQzFELE9BQU87QUFDTCxpQ0FBbUIsT0FBTyxPQUFPLE1BQU0sTUFBTSxPQUFPO0FBQUEsWUFDdEQ7QUFDQSxnQkFBSSxXQUFXO0FBQ2Isb0JBQU0sT0FBTyxVQUFVLGlCQUFpQixNQUFNO0FBQUEsWUFDaEQ7QUFBQSxVQUNGLE9BQU87QUFDTCw4QkFBa0IsT0FBTyxPQUFPLE1BQU0sSUFBSTtBQUMxQyxnQkFBSSxXQUFXO0FBQ2Isb0JBQU0sT0FBTyxVQUFVLGlCQUFpQixNQUFNLE1BQU07QUFBQSxZQUN0RDtBQUFBLFVBQ0Y7QUFBQSxRQUNGLFdBQVcsU0FBUyxtQkFBbUI7QUFDckMsY0FBSSxNQUFNLFFBQVEsS0FBSztBQUNyQix3QkFBWSxPQUFPLE1BQU0sTUFBTSxPQUFPLE9BQU8sT0FBTztBQUFBLFVBQ3REO0FBQUEsUUFDRixXQUFXLFNBQVMsc0JBQXNCO0FBQ3hDLGlCQUFPO0FBQUEsUUFDVCxPQUFPO0FBQ0wsY0FBSSxNQUFNO0FBQWEsbUJBQU87QUFDOUIsZ0JBQU0sSUFBSSxjQUFjLDRDQUE0QyxJQUFJO0FBQUEsUUFDMUU7QUFFQSxZQUFJLE1BQU0sUUFBUSxRQUFRLE1BQU0sUUFBUSxLQUFLO0FBYzNDLG1CQUFTO0FBQUEsWUFDUCxNQUFNLElBQUksQ0FBQyxNQUFNLE1BQU0sTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLE1BQU07QUFBQSxVQUNwRCxFQUFFLFFBQVEsTUFBTSxLQUFLO0FBRXJCLGNBQUksTUFBTSxJQUFJLENBQUMsTUFBTSxLQUFLO0FBQ3hCLHFCQUFTLE1BQU07QUFBQSxVQUNqQixXQUFXLE9BQU8sTUFBTSxHQUFHLEVBQUUsTUFBTSxzQkFBc0I7QUFDdkQscUJBQVMsT0FBTyxPQUFPLE1BQU0sRUFBRTtBQUFBLFVBQ2pDLE9BQU87QUFDTCxxQkFBUyxPQUFPLFNBQVM7QUFBQSxVQUMzQjtBQUVBLGdCQUFNLE9BQU8sU0FBUyxNQUFNLE1BQU07QUFBQSxRQUNwQztBQUFBLE1BQ0Y7QUFFQSxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsdUJBQXVCLFFBQVEsT0FBTztBQUM3QyxVQUFJLFVBQVUsQ0FBQyxHQUNYLG9CQUFvQixDQUFDLEdBQ3JCLE9BQ0E7QUFFSixrQkFBWSxRQUFRLFNBQVMsaUJBQWlCO0FBRTlDLFdBQUssUUFBUSxHQUFHLFNBQVMsa0JBQWtCLFFBQVEsUUFBUSxRQUFRLFNBQVMsR0FBRztBQUM3RSxjQUFNLFdBQVcsS0FBSyxRQUFRLGtCQUFrQixLQUFLLENBQUMsQ0FBQztBQUFBLE1BQ3pEO0FBQ0EsWUFBTSxpQkFBaUIsSUFBSSxNQUFNLE1BQU07QUFBQSxJQUN6QztBQUVBLGFBQVMsWUFBWSxRQUFRLFNBQVMsbUJBQW1CO0FBQ3ZELFVBQUksZUFDQSxPQUNBO0FBRUosVUFBSSxXQUFXLFFBQVEsT0FBTyxXQUFXLFVBQVU7QUFDakQsZ0JBQVEsUUFBUSxRQUFRLE1BQU07QUFDOUIsWUFBSSxVQUFVLElBQUk7QUFDaEIsY0FBSSxrQkFBa0IsUUFBUSxLQUFLLE1BQU0sSUFBSTtBQUMzQyw4QkFBa0IsS0FBSyxLQUFLO0FBQUEsVUFDOUI7QUFBQSxRQUNGLE9BQU87QUFDTCxrQkFBUSxLQUFLLE1BQU07QUFFbkIsY0FBSSxNQUFNLFFBQVEsTUFBTSxHQUFHO0FBQ3pCLGlCQUFLLFFBQVEsR0FBRyxTQUFTLE9BQU8sUUFBUSxRQUFRLFFBQVEsU0FBUyxHQUFHO0FBQ2xFLDBCQUFZLE9BQU8sS0FBSyxHQUFHLFNBQVMsaUJBQWlCO0FBQUEsWUFDdkQ7QUFBQSxVQUNGLE9BQU87QUFDTCw0QkFBZ0IsT0FBTyxLQUFLLE1BQU07QUFFbEMsaUJBQUssUUFBUSxHQUFHLFNBQVMsY0FBYyxRQUFRLFFBQVEsUUFBUSxTQUFTLEdBQUc7QUFDekUsMEJBQVksT0FBTyxjQUFjLEtBQUssQ0FBQyxHQUFHLFNBQVMsaUJBQWlCO0FBQUEsWUFDdEU7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBRUEsYUFBUyxLQUFLLE9BQU8sU0FBUztBQUM1QixnQkFBVSxXQUFXLENBQUM7QUFFdEIsVUFBSSxRQUFRLElBQUksTUFBTSxPQUFPO0FBRTdCLFVBQUksQ0FBQyxNQUFNO0FBQVEsK0JBQXVCLE9BQU8sS0FBSztBQUV0RCxVQUFJLFFBQVE7QUFFWixVQUFJLE1BQU0sVUFBVTtBQUNsQixnQkFBUSxNQUFNLFNBQVMsS0FBSyxFQUFFLElBQUksTUFBTSxHQUFHLElBQUksS0FBSztBQUFBLE1BQ3REO0FBRUEsVUFBSSxVQUFVLE9BQU8sR0FBRyxPQUFPLE1BQU0sSUFBSTtBQUFHLGVBQU8sTUFBTSxPQUFPO0FBRWhFLGFBQU87QUFBQSxJQUNUO0FBRUEsSUFBQUQsUUFBTyxRQUFRLE9BQU87QUFBQTtBQUFBOzs7QUNwOEJ0QjtBQUFBLDJDQUFBRSxTQUFBO0FBQUE7QUFHQSxRQUFJLFNBQVM7QUFDYixRQUFJLFNBQVM7QUFHYixhQUFTLFFBQVEsTUFBTSxJQUFJO0FBQ3pCLGFBQU8sV0FBWTtBQUNqQixjQUFNLElBQUksTUFBTSxtQkFBbUIsT0FBTyx3Q0FDMUIsS0FBSyx5Q0FBeUM7QUFBQSxNQUNoRTtBQUFBLElBQ0Y7QUFHQSxJQUFBQSxRQUFPLFFBQVEsT0FBc0I7QUFDckMsSUFBQUEsUUFBTyxRQUFRLFNBQXNCO0FBQ3JDLElBQUFBLFFBQU8sUUFBUSxrQkFBc0I7QUFDckMsSUFBQUEsUUFBTyxRQUFRLGNBQXNCO0FBQ3JDLElBQUFBLFFBQU8sUUFBUSxjQUFzQjtBQUNyQyxJQUFBQSxRQUFPLFFBQVEsaUJBQXNCO0FBQ3JDLElBQUFBLFFBQU8sUUFBUSxPQUFzQixPQUFPO0FBQzVDLElBQUFBLFFBQU8sUUFBUSxVQUFzQixPQUFPO0FBQzVDLElBQUFBLFFBQU8sUUFBUSxPQUFzQixPQUFPO0FBQzVDLElBQUFBLFFBQU8sUUFBUSxnQkFBc0I7QUFHckMsSUFBQUEsUUFBTyxRQUFRLFFBQVE7QUFBQSxNQUNyQixRQUFXO0FBQUEsTUFDWCxPQUFXO0FBQUEsTUFDWCxLQUFXO0FBQUEsTUFDWCxNQUFXO0FBQUEsTUFDWCxPQUFXO0FBQUEsTUFDWCxLQUFXO0FBQUEsTUFDWCxXQUFXO0FBQUEsTUFDWCxNQUFXO0FBQUEsTUFDWCxLQUFXO0FBQUEsTUFDWCxPQUFXO0FBQUEsTUFDWCxNQUFXO0FBQUEsTUFDWCxLQUFXO0FBQUEsTUFDWCxLQUFXO0FBQUEsSUFDYjtBQUdBLElBQUFBLFFBQU8sUUFBUSxXQUFzQixRQUFRLFlBQVksTUFBTTtBQUMvRCxJQUFBQSxRQUFPLFFBQVEsY0FBc0IsUUFBUSxlQUFlLFNBQVM7QUFDckUsSUFBQUEsUUFBTyxRQUFRLFdBQXNCLFFBQVEsWUFBWSxNQUFNO0FBQUE7QUFBQTs7O0FDOUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUMsb0JBT087OztBQ05QLHNCQUtPO0FBS0EsSUFBTSxXQUFOLE1BQWM7QUFBQSxFQUtwQixZQUFZLFFBQXVCO0FBQ2xDLFNBQUssU0FBUztBQUNkLFNBQUssTUFBTSxLQUFLLE9BQU87QUFDdkIsU0FBSyxTQUFPO0FBQUEsRUFDYjtBQUFBLEVBRUEsTUFBTSxnQkFBZ0IsT0FBdUMsS0FBVyxPQUFVLFNBQU8sS0FBSyxRQUFPO0FBQ3BHLFFBQUksS0FBMkIsQ0FBQztBQUNoQyxPQUFHLEdBQUcsSUFBSTtBQUNWLFFBQUksT0FBTyxNQUFNLEtBQUssc0JBQXNCLE9BQU0sSUFBRyxNQUFNO0FBQzNELFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxrQkFBa0IsT0FBWSxJQUE4QjtBQUMzRCxRQUFJO0FBQ0gsVUFBRyxDQUFDLE9BQU07QUFBQyxlQUFPO0FBQUEsTUFBTTtBQUN4QixVQUFJLE9BQU8sS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3BELFVBQUcsNkJBQU0sYUFBWTtBQUNwQixpQkFBUSxLQUFLLElBQUc7QUFDZixjQUFHLEVBQUUsS0FBSyxZQUFZLENBQUMsS0FBRyxHQUFHLENBQUMsSUFBRztBQUNoQyxtQkFBTztBQUFBLFVBQ1I7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFDQSxhQUFPO0FBQUEsSUFDUixTQUFTLE9BQVA7QUFDRCxhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0saUJBQWlCLE9BQVksSUFBc0IsU0FBTyxLQUFLLFFBQXdCO0FBQzVGLFFBQUksT0FBTyxLQUFLLGtCQUFrQixPQUFNLEVBQUU7QUFFMUMsV0FBTSxDQUFDLFFBQVEsU0FBTyxHQUFFO0FBQ3ZCLFlBQU0sTUFBTSxFQUFFO0FBQ2QsZUFBUyxTQUFPO0FBQ2hCLGFBQU8sS0FBSyxrQkFBa0IsT0FBTSxFQUFFO0FBQUEsSUFDdkM7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxNQUFTLEtBQVcsT0FBVTtBQUNuQyxRQUFJLFFBQVEsSUFBSSxLQUFLLEVBQUUsTUFBTSxHQUFHO0FBQ2hDLFFBQUcsQ0FBQyxPQUFNO0FBQUM7QUFBQSxJQUFNO0FBQ2pCLFFBQUksT0FBTztBQUNYLGFBQVEsUUFBUSxNQUFNLE1BQU0sR0FBRSxNQUFNLFNBQU8sQ0FBQyxHQUFFO0FBQzdDLFVBQUlDLE1BQUssS0FBSyxNQUFNLHFCQUFxQjtBQUN6QyxVQUFHLENBQUNBLEtBQUc7QUFBQztBQUFBLE1BQU07QUFDZCxVQUFJQyxLQUFJRCxJQUFHLENBQUM7QUFDWixVQUFHQSxJQUFHLENBQUMsR0FBRTtBQUNSLFlBQUksSUFBSSxTQUFTQSxJQUFHLENBQUMsRUFBRSxNQUFNLEdBQUVBLElBQUcsQ0FBQyxFQUFFLFNBQU8sQ0FBQyxDQUFDO0FBQzlDLFlBQUcsRUFBRUMsTUFBSyxPQUFNO0FBQ2YsZUFBS0EsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2IsaUJBQU8sS0FBS0EsRUFBQyxFQUFFLENBQUM7QUFBQSxRQUNqQixPQUFLO0FBQ0osY0FBRyxNQUFNLFFBQVEsS0FBS0EsRUFBQyxDQUFDLEdBQUU7QUFDekIsZ0JBQUksTUFBTSxDQUFDO0FBQ1gsZ0JBQUcsSUFBRSxHQUFFO0FBQ04sbUJBQUtBLEVBQUMsRUFBRSxPQUFPLENBQUMsSUFBRSxHQUFFLEdBQUUsR0FBRztBQUFBLFlBQzFCLFdBQVMsSUFBRSxLQUFLQSxFQUFDLEVBQUUsUUFBTztBQUN6QixtQkFBS0EsRUFBQyxFQUFFLENBQUMsSUFBRTtBQUFBLFlBQ1osT0FBSztBQUNKLG1CQUFLQSxFQUFDLEVBQUUsS0FBSyxHQUFHO0FBQUEsWUFDakI7QUFDQSxtQkFBTztBQUFBLFVBQ1IsT0FBSztBQUNKLGlCQUFLQSxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDYixtQkFBTyxLQUFLQSxFQUFDLEVBQUUsQ0FBQztBQUFBLFVBQ2pCO0FBQUEsUUFDRDtBQUFBLE1BQ0QsT0FBSztBQUNKLFlBQUcsRUFBRUEsTUFBSyxPQUFNO0FBQ2YsZUFBS0EsRUFBQyxJQUFJLENBQUM7QUFDWCxpQkFBTyxLQUFLQSxFQUFDO0FBQUEsUUFDZCxPQUFLO0FBQ0osY0FBRyxPQUFPLEtBQUtBLEVBQUMsS0FBSSxVQUFTO0FBQzVCLGlCQUFLQSxFQUFDLElBQUksQ0FBQztBQUNYLG1CQUFPLEtBQUtBLEVBQUM7QUFBQSxVQUNkLE9BQUs7QUFDSixtQkFBTyxLQUFLQSxFQUFDO0FBQUEsVUFDZDtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUNBLFFBQUksS0FBSyxNQUFNLE1BQU0sU0FBTyxDQUFDLEVBQUUsTUFBTSxxQkFBcUI7QUFDMUQsUUFBRyxDQUFDLElBQUc7QUFBQztBQUFBLElBQU07QUFDZCxRQUFJLElBQUksR0FBRyxDQUFDO0FBQ1osUUFBRyxHQUFHLENBQUMsR0FBRTtBQUNSLFVBQUksSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRSxHQUFHLENBQUMsRUFBRSxTQUFPLENBQUMsQ0FBQztBQUM5QyxVQUFHLEtBQUssTUFBSztBQUNaLFlBQUcsTUFBTSxRQUFRLEtBQUssQ0FBQyxDQUFDLEdBQUU7QUFDekIsY0FBRyxJQUFFLEdBQUU7QUFDTixpQkFBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLElBQUUsR0FBRSxHQUFFLEtBQUs7QUFBQSxVQUM1QixXQUFTLElBQUUsS0FBSyxDQUFDLEVBQUUsUUFBTztBQUN6QixpQkFBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQUEsVUFDZCxPQUFLO0FBQ0osaUJBQUssQ0FBQyxFQUFFLEtBQUssS0FBSztBQUFBLFVBQ25CO0FBQUEsUUFDRCxPQUFLO0FBQ0osZUFBSyxDQUFDLElBQUk7QUFBQSxRQUNYO0FBQUEsTUFDRCxPQUFLO0FBQ0osYUFBSyxDQUFDLElBQUksQ0FBQyxLQUFLO0FBQUEsTUFDakI7QUFBQSxJQUNELE9BQUs7QUFDSixXQUFLLENBQUMsSUFBSTtBQUFBLElBQ1g7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLHNCQUFzQixPQUF1QyxJQUFzQixTQUFPLEtBQUssUUFBd0I7QUFDNUgsUUFBRyxNQUFNLFFBQVEsS0FBSyxHQUFFO0FBQ3ZCLGVBQVEsUUFBUSxPQUFNO0FBQ3JCLGFBQUssc0JBQXNCLE1BQUssSUFBRyxNQUFNO0FBQUEsTUFDMUM7QUFDQSxhQUFPO0FBQUEsSUFDUjtBQUNBLFFBQUcsT0FBTyxTQUFRLFVBQVM7QUFDMUIsY0FBUSxLQUFLLE9BQU8sTUFBTSxVQUFVLEtBQUs7QUFBQSxJQUMxQztBQUNBLFFBQUcsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLHdCQUFPO0FBQ3RDLGFBQU87QUFBQSxJQUNSO0FBQ0EsUUFBSSxPQUFNO0FBQ1YsUUFBRyxTQUFPLEdBQUU7QUFDWCxhQUFPLEtBQUssa0JBQWtCLE9BQU0sRUFBRTtBQUFBLElBQ3ZDO0FBQ0EsV0FBTSxDQUFDLFFBQVEsU0FBTyxHQUFFO0FBQ3ZCLFlBQU0sS0FBSyxJQUFJLFlBQVksbUJBQW1CLE9BQU8sQ0FBQyxPQUFNO0FBQzNELGlCQUFRLEtBQUssSUFBRztBQUNmLGVBQUssTUFBTSxJQUFHLEdBQUUsR0FBRyxDQUFDLENBQUM7QUFBQSxRQUN0QjtBQUFBLE1BQ0QsQ0FBQztBQUNELFlBQU0sTUFBTSxHQUFHO0FBQ2YsZUFBUyxTQUFPO0FBQ2hCLGFBQU8sS0FBSyxrQkFBa0IsT0FBTSxFQUFFO0FBQUEsSUFDdkM7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZ0JBQWdCLE9BQVksS0FBVztBQUN0QyxRQUFJO0FBQ0gsVUFBRyxDQUFDLE9BQU07QUFBQyxlQUFPO0FBQUEsTUFBSztBQUN2QixVQUFJLE9BQU8sS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3BELFVBQUcsNkJBQU0sYUFBWTtBQUNwQixZQUFHLEtBQUssWUFBWSxHQUFHLEdBQUU7QUFDeEIsaUJBQU8sS0FBSyxZQUFZLEdBQUc7QUFBQSxRQUM1QjtBQUNBLFlBQUksT0FBTyxJQUFJLE1BQU0sR0FBRztBQUN4QixZQUFJLE1BQU0sS0FBSztBQUNmLGlCQUFRLEtBQUssTUFBSztBQUNqQixjQUFJLFFBQU8sRUFBRSxNQUFNLHFCQUFxQjtBQUN4QyxjQUFHLENBQUMsT0FBTTtBQUFDLG1CQUFPO0FBQUEsVUFBSTtBQUN0QixjQUFHLE1BQU0sQ0FBQyxHQUFFO0FBQ1gsa0JBQU0sSUFBSSxNQUFNLENBQUMsQ0FBQztBQUFBLFVBQ25CO0FBQ0EsY0FBRyxDQUFDLEtBQUk7QUFBQyxtQkFBTztBQUFBLFVBQUk7QUFDcEIsY0FBRyxNQUFNLFFBQVEsR0FBRyxLQUFLLE1BQU0sQ0FBQyxHQUFFO0FBQ2pDLGdCQUFJLElBQUksU0FBUyxNQUFNLENBQUMsRUFBRSxNQUFNLEdBQUUsTUFBTSxDQUFDLEVBQUUsU0FBTyxDQUFDLENBQUM7QUFDcEQsZ0JBQUcsSUFBRSxHQUFFO0FBQ04sa0JBQUksSUFBRSxJQUFJO0FBQUEsWUFDWDtBQUNBLGtCQUFNLElBQUksQ0FBQztBQUFBLFVBQ1o7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNELFNBQVMsT0FBUDtBQUNELGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsaUJBQWdCO0FBQ2YsUUFBSSxRQUFTLEtBQUssT0FBTyxJQUFJLE1BQU0sUUFBZ0IsU0FBUyxNQUFNLElBQUk7QUFDdEUsWUFBUSxNQUFNLE1BQU0sU0FBTyxDQUFDLEVBQUUsTUFBTSxHQUFHO0FBQ3ZDLFdBQU8sTUFBTSxNQUFNLFNBQU8sQ0FBQztBQUFBLEVBQzVCO0FBQUEsRUFFQSx1QkFBdUIsT0FBb0IsS0FBVztBQUNyRCxRQUFHLGlCQUFpQix1QkFBTTtBQUN6QixVQUFHLE1BQU0sYUFBVyxNQUFLO0FBQ3hCLFlBQUksU0FBUyxLQUFLLGdCQUFnQixPQUFNLEdBQUc7QUFDM0MsWUFBRyxRQUFPO0FBQUMsaUJBQU87QUFBQSxRQUFNO0FBQUEsTUFDekIsT0FBSztBQUNKLFlBQUksT0FBTyxLQUFLLE9BQU8sTUFBTTtBQUFBLFVBQzVCLE1BQU0sS0FBSyxNQUFNLEdBQUUsTUFBTSxLQUFLLFNBQU8sTUFBTSxVQUFVLE1BQU0sSUFBRTtBQUFBLFFBQzlEO0FBQ0EsWUFBRyxNQUFLO0FBQ1AsY0FBSSxTQUFTLEtBQUssZ0JBQWdCLE1BQUssR0FBRztBQUMxQyxjQUFHLFFBQU87QUFBQyxtQkFBTztBQUFBLFVBQU07QUFBQSxRQUN6QjtBQUFBLE1BQ0Q7QUFBQSxJQUVELE9BQUs7QUFDSixVQUFJLE9BQU8sS0FBSyxPQUFPLE1BQU0sVUFBVSxNQUFNLE9BQUssTUFBSSxNQUFNLE9BQUssS0FBSztBQUN0RSxVQUFHLE1BQUs7QUFDUCxZQUFJLFNBQVMsS0FBSyxnQkFBZ0IsTUFBSyxHQUFHO0FBQzFDLFlBQUcsUUFBTztBQUFDLGlCQUFPO0FBQUEsUUFBTTtBQUFBLE1BQ3pCO0FBQUEsSUFDRDtBQUVBLFFBQUksTUFBTSxNQUFNO0FBQ2hCLFdBQU0sS0FBSTtBQUNULFVBQUk7QUFDSixVQUFHLElBQUksUUFBTztBQUNiLGdCQUFRLEtBQUssT0FBTyxNQUFNO0FBQUEsVUFDekIsSUFBSSxPQUFLLE1BQUksSUFBSSxPQUFLO0FBQUEsUUFDdkI7QUFBQSxNQUNELE9BQUs7QUFDSixnQkFBUSxLQUFLLE9BQU8sTUFBTTtBQUFBLFVBQ3pCLEtBQUssZUFBZTtBQUFBLFFBQ3JCO0FBQUEsTUFDRDtBQUNBLFVBQUksU0FBUyxLQUFLLGdCQUFnQixPQUFNLEdBQUc7QUFDM0MsVUFBRyxRQUFPO0FBQUMsZUFBTztBQUFBLE1BQU07QUFDeEIsWUFBTSxJQUFJO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxFQUVSO0FBQUEsRUFDQSxZQUFZLE9BQVksTUFBWTtBQUVuQyxRQUFHLFNBQU8sUUFBTztBQUNoQixhQUFPLElBQUksT0FBTyxTQUFTLE1BQU0sd0JBQXVCLEdBQUc7QUFBQSxJQUM1RDtBQUdBLFFBQUcsU0FBTyxRQUFPO0FBQ2hCLGFBQU8sSUFBSSxPQUFPLFdBQVcsTUFBTSwwQkFBeUIsR0FBRztBQUFBLElBQ2hFO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxRQUFRLE9BQVksT0FBVSxRQUFjO0FBQ2pELFFBQUcsT0FBTyxVQUFVLFVBQVM7QUFDNUIsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE9BQU0sQ0FBQyxTQUFPO0FBQzFDLFlBQUcsS0FBSyxRQUFRLEtBQUssSUFBRSxJQUFHO0FBQ3pCLGlCQUFPLEtBQUssUUFBUSxPQUFPLE1BQU07QUFBQSxRQUNsQztBQUNBLGVBQU87QUFBQSxNQUNSLENBQUM7QUFBQSxJQUNGLFdBQVMsaUJBQWlCLFFBQU87QUFDaEMsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE9BQU0sQ0FBQyxTQUFPO0FBQzFDLFlBQUcsS0FBSyxNQUFNLEtBQUssR0FBRTtBQUNwQixpQkFBTyxLQUFLLFFBQVEsT0FBTyxNQUFNO0FBQUEsUUFDbEM7QUFDQSxlQUFPO0FBQUEsTUFDUixDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCLE9BQW1CO0FBQ3hDLFFBQUcsaUJBQWlCLHVCQUFNO0FBQ3pCLGNBQVEsTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLFdBQVcsS0FBSztBQUFBLElBQ3JEO0FBQ0EsUUFBRyxPQUFPLFNBQVEsVUFBUztBQUMxQixhQUFPO0FBQUEsSUFDUjtBQUVBLFFBQUksY0FBYztBQUNsQixRQUFJLFFBQVEsWUFBWSxLQUFLLEtBQUs7QUFDbEMsUUFBRyxPQUFNO0FBQ1IsY0FBUSxNQUFNLE1BQU0sTUFBTSxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUs7QUFBQSxJQUMzQztBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLG1CQUFtQixPQUFtQixPQUFhO0FBRXhELFFBQUcsaUJBQWlCLHVCQUFNO0FBQ3pCLGNBQVEsTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLFdBQVcsS0FBSztBQUFBLElBQ3JEO0FBQ0EsUUFBRyxPQUFPLFNBQVEsVUFBUztBQUMxQixhQUFPO0FBQUEsSUFDUjtBQUNBLFFBQUksZ0JBQWdCLENBQUM7QUFDckIsUUFBSSxNQUFNLElBQUksT0FBTyxTQUFTO0FBQUEsU0FBK0IsR0FBRztBQUFFO0FBQ2xFLFFBQUk7QUFDSixZQUFRLFVBQVUsSUFBSSxLQUFLLEtBQUssT0FBTyxNQUFNO0FBQzVDLG9CQUFjLEtBQUssUUFBUSxDQUFDLEVBQUUsS0FBSyxDQUFDO0FBQUEsSUFDckM7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSx3QkFBd0IsT0FBbUIsTUFBSSw2QkFBNEI7QUFDaEYsUUFBRyxpQkFBaUIsdUJBQU07QUFDekIsY0FBUSxNQUFNLEtBQUssT0FBTyxJQUFJLE1BQU0sV0FBVyxLQUFLO0FBQUEsSUFDckQ7QUFDQSxRQUFHLE9BQU8sU0FBUSxVQUFTO0FBQzFCLGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxnQkFBZ0IsQ0FBQztBQUNyQixRQUFJO0FBQ0osWUFBUSxVQUFVLElBQUksS0FBSyxLQUFLLE9BQU8sTUFBTTtBQUM1QyxvQkFBYyxLQUFLLFFBQVEsQ0FBQyxFQUFFLEtBQUssQ0FBQztBQUFBLElBQ3JDO0FBRUEsUUFBSSxPQUFPLE1BQU0sS0FBSyxtQkFBbUIsT0FBTSxnQkFBZ0I7QUFDL0QsYUFBUSxPQUFPLE1BQUs7QUFDbkIsb0JBQWMsS0FBSztBQUFBLEVBQVE7QUFBQSxJQUFVO0FBQUEsSUFDdEM7QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxtQkFBbUIsT0FBbUI7QUFFM0MsUUFBRyxpQkFBaUIsdUJBQU07QUFDekIsY0FBUSxNQUFNLEtBQUssT0FBTyxJQUFJLE1BQU0sV0FBVyxLQUFLO0FBQUEsSUFDckQ7QUFDQSxRQUFHLE9BQU8sU0FBUSxVQUFTO0FBQzFCLGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxjQUFjO0FBQ2xCLFFBQUksUUFBUSxZQUFZLEtBQUssS0FBSztBQUM1QixRQUFHLE9BQU07QUFDZCxhQUFPLE1BQU0sQ0FBQztBQUFBLElBQ1Q7QUFDTixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsbUJBQW1CLE1BQVk7QUFDOUIsUUFBSSxNQUFNO0FBQ1YsUUFBSSxRQUFRLElBQUksS0FBSyxJQUFJO0FBQ3pCLFFBQUcsT0FBTTtBQUNSLGFBQU8sTUFBTSxDQUFDLEVBQUUsS0FBSztBQUFBLElBQ3RCLE9BQUs7QUFDSixhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLHlCQUF5QixRQUFlO0FBQ3ZDLFFBQUksYUFBYTtBQUNqQixRQUFJLFNBQVM7QUFFYixhQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsS0FBSztBQUNoQyxVQUFJLGNBQWMsS0FBSyxNQUFNLEtBQUssT0FBTyxJQUFJLFdBQVcsTUFBTTtBQUM5RCxnQkFBVSxXQUFXLFdBQVc7QUFBQSxJQUNqQztBQUVBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLG1CQUFtQixPQUFtQjtBQUUzQyxRQUFHLGlCQUFpQix1QkFBTTtBQUN6QixjQUFRLE1BQU0sS0FBSyxPQUFPLElBQUksTUFBTSxXQUFXLEtBQUs7QUFBQSxJQUNyRDtBQUNBLFFBQUcsT0FBTyxTQUFRLFVBQVM7QUFDMUIsYUFBTztBQUFBLElBQ1I7QUFFQSxRQUFJLE1BQU07QUFDVixRQUFJLFNBQVMsQ0FBQztBQUVkLFFBQUksT0FBTyxNQUFNLEtBQUssT0FBTyxPQUFPLG1CQUFtQixHQUFHO0FBQzFELFFBQUcsUUFBTSxJQUFHO0FBQ1gsYUFBTyxLQUFLLENBQUMsUUFBTyxJQUFJLENBQUM7QUFDekIsWUFBSSxJQUFJLE1BQU0sS0FBSyxNQUFNO0FBQUEsSUFDMUI7QUFFQSxRQUFJLFNBQTRCO0FBQUEsTUFDL0IsNEJBQU87QUFBQSxNQUNQLHNCQUFPO0FBQUEsTUFDUCx5QkFBUztBQUFBLE1BQ1QsZ0JBQU07QUFBQSxNQUNOLDRCQUFRO0FBQUEsTUFDUiw0QkFBUTtBQUFBLE1BQ1IsZ0JBQU07QUFBQSxNQUNOLGdCQUFNO0FBQUEsTUFDTixnQkFBTTtBQUFBLElBQ1A7QUFDQSxXQUFNLElBQUksU0FBTyxHQUFFO0FBQ2xCLFVBQUksT0FBTztBQUNYLGVBQVEsT0FBTyxPQUFPLEtBQUssTUFBTSxHQUFFO0FBQ2xDLFlBQUksTUFBTSxPQUFPLEdBQUc7QUFDcEIsWUFBSSxRQUFRLElBQUksS0FBSyxHQUFHO0FBQ3hCLFlBQUcsT0FBTTtBQUNSLGNBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsY0FBRyxLQUFLLFNBQU8sR0FBRTtBQUNoQixnQkFBSSxNQUFNLEtBQUssbUJBQW1CLElBQUk7QUFDdEMsZ0JBQUcsT0FBSyxrQkFBUSxPQUFPLFNBQU8sS0FBSyxPQUFPLE9BQU8sU0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFHLGdCQUFLO0FBQ25FLHFCQUFPLE9BQU8sU0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLE9BQU8sT0FBTyxTQUFPLENBQUMsRUFBRSxDQUFDLElBQUU7QUFDeEQscUJBQU8sT0FBTyxTQUFPLENBQUMsRUFBRSxDQUFDLElBQUk7QUFBQSxZQUM5QixPQUFLO0FBQ0oscUJBQU8sS0FBSyxDQUFDLEtBQUksTUFBSyxHQUFHLENBQUM7QUFBQSxZQUMzQjtBQUNBLG1CQUFPO0FBQ1Asa0JBQUksSUFBSSxNQUFNLEtBQUssTUFBTTtBQUN6QjtBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUNBLFVBQUcsTUFBSztBQUNQO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxRQUFHLElBQUksU0FBTyxHQUFFO0FBQ2YsVUFBSSxNQUFNLEtBQUssbUJBQW1CLEdBQUc7QUFDckMsYUFBTyxLQUFLLENBQUMsZ0JBQUssS0FBSSxHQUFHLENBQUM7QUFBQSxJQUMzQjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGlCQUFpQixPQUFZO0FBQ2xDLFFBQUksU0FBUyxNQUFNLEtBQUssbUJBQW1CLEtBQUs7QUFDaEQsUUFBSSxRQUFRLENBQUM7QUFDYixhQUFRLFNBQVMsUUFBTztBQUN2QixVQUFHLENBQUMsNEJBQU8sTUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDLENBQUMsR0FBRTtBQUNyQyxjQUFNLEtBQUssTUFBTSxDQUFDLENBQUM7QUFBQSxNQUNwQixXQUFTLENBQUMsTUFBTSxDQUFDLEdBQUU7QUFDbEIsWUFBSSxNQUFNLEtBQUsseUJBQXlCLENBQUM7QUFFekMsWUFBRyxDQUFDLGdCQUFLLDRCQUFPLDBCQUFNLEVBQUUsU0FBUyxNQUFNLENBQUMsQ0FBQyxHQUFFO0FBQzFDLGdCQUFNLEtBQUssTUFBTSxDQUFDLEVBQUUsTUFBTSxHQUFFLEVBQUUsSUFBRSxPQUFLLE1BQUksSUFBSTtBQUFBLFFBQzlDLE9BQUs7QUFDSixjQUFHLE1BQU0sQ0FBQyxFQUFFLFNBQVMsSUFBSSxHQUFFO0FBQzFCLGtCQUFNLEtBQUssTUFBTSxDQUFDLElBQUUsTUFBSSxNQUFJLElBQUk7QUFBQSxVQUNqQyxPQUFLO0FBQ0osa0JBQU0sS0FBSyxNQUFNLENBQUMsSUFBRSxRQUFNLE1BQUksSUFBSTtBQUFBLFVBQ25DO0FBQUEsUUFDRDtBQUFBLE1BQ0QsT0FBSztBQUNKLGNBQU0sS0FBSyxNQUFNLENBQUMsQ0FBQztBQUFBLE1BQ3BCO0FBQUEsSUFDRDtBQUNBLFFBQUksTUFBTSxNQUFNLEtBQUssRUFBRTtBQUN2QixVQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sT0FBTSxHQUFHO0FBQ3JDLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGlCQUFpQixPQUFZO0FBQ2xDLFFBQUksU0FBUyxNQUFNLEtBQUssbUJBQW1CLEtBQUs7QUFDaEQsUUFBSSxRQUFRLENBQUM7QUFDYixhQUFRLFNBQVMsUUFBTztBQUN2QixVQUFHLENBQUMsNEJBQU8sTUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDLENBQUMsR0FBRTtBQUNyQyxjQUFNLEtBQUssTUFBTSxDQUFDLENBQUM7QUFBQSxNQUNwQixPQUFLO0FBQ0osWUFBSSxNQUFNO0FBQ1YsWUFBSSxRQUFRLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQztBQUM3QixZQUFHLE9BQU07QUFDUixnQkFBTSxLQUFLLE1BQU0sQ0FBQyxFQUFFLFFBQVEsS0FBSSxJQUFJLENBQUM7QUFBQSxRQUN0QyxPQUFLO0FBQ0osZ0JBQU0sS0FBSyxNQUFNLENBQUMsQ0FBQztBQUFBLFFBQ3BCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxRQUFJLE1BQU0sTUFBTSxLQUFLLEVBQUU7QUFDdkIsVUFBTSxLQUFLLElBQUksTUFBTSxPQUFPLE9BQU0sR0FBRztBQUNyQyxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxzQkFBcUI7QUF0ZDVCO0FBdWRFLFFBQUksT0FBUSxLQUFLLElBQUksVUFBa0Isa0JBQWtCO0FBQ3pELFFBQUksU0FBUyxLQUFLO0FBQ2xCLFFBQUksUUFBUSxLQUFLO0FBQ2pCLFFBQUcsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLE9BQU07QUFBQyxhQUFPO0FBQUEsSUFBSTtBQUMxQyxRQUFJLFNBQVMsT0FBTyxVQUFVO0FBQzlCLFFBQUksUUFBUSxLQUFLLElBQUksY0FBYyxhQUFhLEtBQUs7QUFDckQsUUFBRyxDQUFDLE9BQU07QUFBQztBQUFBLElBQU07QUFDakIsUUFBRyxDQUFDLFFBQU87QUFDVixVQUFJLE1BQU0sTUFBTSxLQUFLLElBQUksTUFBTSxXQUFXLEtBQUs7QUFDL0MsVUFBSSxTQUFRLG9DQUFPLGFBQVAsbUJBQWlCO0FBQUEsUUFDNUIsQ0FBQUMsYUFBUyxJQUFJLE1BQU1BLFNBQVEsU0FBUyxNQUFNLFFBQU9BLFNBQVEsU0FBUyxJQUFJLE1BQU07QUFBQTtBQUU3RSxVQUFHLENBQUMsT0FBTTtBQUFDLGVBQU87QUFBQSxNQUFJO0FBQ3RCLFVBQUksVUFBVSxNQUFNLEtBQUssT0FBTyxlQUFlLE9BQU0sTUFBTSxRQUFRO0FBQ25FLGFBQU87QUFBQSxJQUVSLE9BQUs7QUFDSixVQUFJLFlBQVcsb0NBQU8sYUFBUCxtQkFBaUI7QUFBQSxRQUMvQixPQUFHO0FBQUMsaUJBQU8sRUFBRSxTQUFTLE1BQU0sUUFBTSxPQUFPLFFBQVEsRUFBRSxTQUFTLElBQUksUUFBTSxPQUFPO0FBQUEsUUFBSTtBQUFBLFFBQ2hGO0FBQ0YsYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLDJCQUEyQixLQUFVLEtBQVUsT0FBYTtBQUNqRSxRQUFHLE9BQU07QUFDUixVQUFJLFFBQVEsS0FBSyxnQkFBZ0IsS0FBSSxLQUFLO0FBQzFDLFVBQUcsT0FBTTtBQUNSLGNBQU0sS0FBSyxnQkFBZ0IsS0FBSSxPQUFNLE9BQU0sQ0FBQztBQUFBLE1BQzdDO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDs7O0FDdGZBLElBQUFDLG1CQUtPO0FBSVA7OztBQ1RBLElBQUFDLG1CQUdPO0FBSUEsSUFBTSxtQkFBTixjQUErQix1QkFBTTtBQUFBLEVBSXhDLFlBQVksS0FBVSxTQUFpQixRQUF5QjtBQUM1RCxVQUFNLEdBQUc7QUFDVCxTQUFLLFVBQVU7QUFDZixTQUFLLFNBQVM7QUFBQSxFQUNsQjtBQUFBLEVBRUEsU0FBUztBQUNMLFVBQU0sRUFBQyxVQUFTLElBQUk7QUFDcEIsY0FBVSxNQUFNO0FBQ2hCLFNBQUssUUFBUSxNQUFNLFVBQVU7QUFDN0IsU0FBSyxRQUFRLE1BQU0sV0FBVztBQUU5QixVQUFNLFlBQVksVUFBVSxVQUFVLEVBQUUsS0FBSyx5QkFBeUIsQ0FBQztBQUN2RSxjQUFVLFNBQVMsbUJBQW1CO0FBQ3RDLGNBQVUsTUFBTSxVQUFVO0FBQzFCLGNBQVUsTUFBTSxnQkFBZ0I7QUFDaEMsY0FBVSxNQUFNLFVBQVU7QUFHMUIsVUFBTSxZQUFZLElBQUksMkJBQVU7QUFFaEMsc0NBQWlCLE9BQU8sS0FBSyxLQUFLLEtBQUssU0FBUyxXQUFXLElBQUksU0FBUztBQUV4RSxTQUFLLGlCQUFpQixTQUFTO0FBQUEsRUFFbkM7QUFBQSxFQUVBLFVBQVU7QUFDTixRQUFJLEVBQUMsVUFBUyxJQUFJO0FBQ2xCLGNBQVUsTUFBTTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxpQkFBaUIsV0FBd0I7QUFDckMsY0FBVSxpQkFBaUIsU0FBUyxDQUFDLFVBQXNCO0FBQ3ZELFVBQUksU0FBUyxNQUFNO0FBQ25CLFVBQUksT0FBTyxZQUFZLE9BQU8sT0FBTyxTQUFTLGVBQWUsR0FBRztBQUM1RCxjQUFNLGVBQWU7QUFDckIsWUFBSSxPQUFPLE9BQU8sYUFBYSxNQUFNO0FBQ3JDLFlBQUksTUFBTTtBQUNOLGVBQUssbUJBQW1CLElBQUk7QUFBQSxRQUNoQztBQUFBLE1BQ0o7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFFQSxNQUFNLG1CQUFtQixVQUFrQjtBQUN2QyxRQUFJO0FBQ0EsWUFBTSxLQUFLLElBQUksVUFBVSxhQUFhLFVBQVUsSUFBSSxPQUFPLEVBQUUsUUFBUSxLQUFLLENBQUM7QUFDM0UsV0FBSyxNQUFNO0FBQUEsSUFDZixTQUFTLE9BQVA7QUFDRSxVQUFJLHdCQUFPLHVCQUF1QixNQUFNLFNBQVM7QUFBQSxJQUNyRDtBQUFBLEVBQ0o7QUFDSjtBQUdPLElBQU0sa0JBQU4sY0FBOEIsdUJBQU07QUFBQTtBQUFBLEVBSXZDLFlBQVksS0FBVSxVQUFrQixhQUFzQixPQUFPO0FBQ2pFLFVBQU0sR0FBRztBQUNULFNBQUssV0FBVztBQUNoQixTQUFLLGFBQWE7QUFBQSxFQUN0QjtBQUFBLEVBRUEsTUFBTSxTQUFTO0FBQ1gsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLE1BQU07QUFFaEIsUUFBSSxLQUFLLFlBQVk7QUFFakIsVUFBSSxPQUFPLEtBQUssSUFBSSxNQUFNLHNCQUFzQixLQUFLLFFBQVE7QUFDN0QsVUFBSSxNQUFNO0FBRU4sY0FBTSxPQUFPLEtBQUssSUFBSSxVQUFVLFFBQVEsSUFBSTtBQUM1QyxjQUFNLEtBQUssU0FBUyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sU0FBUyxFQUFFLENBQUM7QUFHdkQsYUFBSyxNQUFNO0FBQUEsTUFDZixPQUFPO0FBQ0gsWUFBSSx3QkFBTyxtQkFBbUIsS0FBSyxVQUFVO0FBQUEsTUFDakQ7QUFBQSxJQUNKLE9BQU87QUFFSCxVQUFJLHdCQUFPLG1CQUFtQjtBQUFBLElBQ2xDO0FBQUEsRUFDSjtBQUFBLEVBRUEsVUFBVTtBQUNOLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBQUEsRUFDcEI7QUFDSjs7O0FEeEZPLElBQU0sWUFBTixNQUFlO0FBQUEsRUFTckIsWUFBWSxRQUF1QixRQUFnQixPQUFLLFlBQVcsT0FBSyxZQUFZO0FBQ25GLFNBQUssU0FBUztBQUNkLFNBQUssTUFBTSxPQUFPO0FBQ2xCLFFBQUcsUUFBTztBQUNULFdBQUssU0FBUztBQUFBLElBQ2YsT0FBSztBQUNKLFdBQUssU0FBUyxJQUFJLFNBQVMsTUFBTTtBQUFBLElBQ2xDO0FBRUEsU0FBSyxrQkFBa0I7QUFFdkIsU0FBSyxPQUFPO0FBQ1osU0FBSyxPQUFPO0FBQ1osU0FBSyxjQUFjO0FBQUEsRUFDcEI7QUFBQSxFQUlHLE1BQU0sbUJBQW1CLFVBQWtCO0FBQ3ZDLFFBQUk7QUFDQSxVQUFJLE9BQU8sS0FBSyxVQUFVLFFBQVE7QUFDbEMsVUFBSSxnQkFBZ0Isd0JBQU87QUFDdkIsWUFBSSxVQUFVLE1BQU0sS0FBSyxJQUFJLE1BQU0sS0FBSyxJQUFJO0FBQzVDLFlBQUksUUFBUSxJQUFJLGlCQUFpQixLQUFLLEtBQUssU0FBUyxLQUFLLE1BQU07QUFDM0UsY0FBTSxLQUFLO0FBQ1gsZUFBTztBQUFBLE1BQ0MsT0FBTztBQUNmLFlBQUksUUFBUSxJQUFJLGlCQUFpQixLQUFLLEtBQUssVUFBVSxLQUFLLE1BQU07QUFDaEUsY0FBTSxLQUFLO0FBQ1gsZUFBTztBQUFBLE1BQ0M7QUFBQSxJQUNKLFNBQVMsT0FBUDtBQUNFLFVBQUksd0JBQU8sZ0NBQWdDLE1BQU0sU0FBUztBQUFBLElBQzlEO0FBQUEsRUFDSjtBQUFBLEVBRUgsZ0JBQWU7QUE5RGhCO0FBK0RFLFNBQUssV0FBVyxDQUFDO0FBQ2pCLGFBQVEsS0FBSyxLQUFLLGdCQUFnQixHQUFFO0FBQ25DLFVBQUksU0FBUyxFQUFFO0FBQ2YsV0FBRyxVQUFLLE9BQU8sYUFBWixtQkFBc0IsZUFBYztBQUN0QyxpQkFBVSxLQUFLO0FBQUEsVUFDZDtBQUFBLFVBQ0MsS0FBSyxPQUFPLFNBQVMsY0FBc0I7QUFBQSxRQUM3QztBQUFBLE1BQ0Q7QUFDQSxNQUFDLEtBQUssU0FBaUIsRUFBRSxJQUFJLElBQUksS0FBSyxxQkFBcUIsTUFBTTtBQUFBLElBQ2xFO0FBQUEsRUFDRDtBQUFBLEVBRUEsZUFBZSxTQUFnQjtBQUM5QixRQUFHLG1DQUFTLFVBQVM7QUFDcEIsVUFBSSxTQUFVLFFBQVE7QUFDdEIsVUFBRyxLQUFLLE9BQU8sU0FBUyxlQUFjO0FBQ3JDLGlCQUFVLEtBQUs7QUFBQSxVQUNkO0FBQUEsVUFDQyxLQUFLLE9BQU8sU0FBUyxjQUFzQjtBQUFBLFFBQzdDO0FBQUEsTUFDRDtBQUNBLFdBQUssU0FBUyxRQUFRLElBQUksSUFBSSxLQUFLO0FBQUEsUUFDbEM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGNBQWMsT0FBb0I7QUEzRm5DO0FBNEZFLFNBQUcsV0FBTSxXQUFOLG1CQUFjLFVBQVM7QUFDekIsV0FBSyxlQUFlLE1BQU0sTUFBTTtBQUFBLElBQ2pDO0FBQUEsRUFDRDtBQUFBLEVBRUEsSUFBSSxnQkFBZTtBQUNsQixXQUFPLFlBQVksS0FBSyxLQUFJLG9CQUFvQjtBQUFBLEVBQ2pEO0FBQUEsRUFFQSxJQUFJLGVBQWM7QUFDakIsV0FBTyxZQUFZLEtBQUssS0FBSSxxQkFBcUI7QUFBQSxFQUNsRDtBQUFBLEVBRUEsSUFBSSxZQUFXO0FBQ2QsV0FBTyxZQUFZLEtBQUssS0FBSSxrQkFBa0I7QUFBQSxFQUMvQztBQUFBLEVBRUEsa0JBQWlCO0FBQ2hCLFFBQUksVUFBVyxLQUFLLElBQUksTUFBYyxjQUFjO0FBQ3BELFFBQUksU0FBUyxLQUFLLElBQUksTUFBTSxnQkFBZ0IsR0FBRztBQUMvQyxRQUFHLFVBQVMsQ0FBQyxRQUFRLFNBQVMsTUFBTSxHQUFFO0FBQ3JDLGNBQVEsS0FBSyxNQUFNO0FBQUEsSUFDcEI7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZUFBZSxZQUFVLElBQUc7QUFDM0IsUUFBSSxRQUFRLEtBQUssSUFBSSxNQUFNLGlCQUFpQjtBQUM1QyxRQUFHLEVBQUUsY0FBWSxLQUFJO0FBQ3BCLFdBQUssWUFBWSxPQUFNLFlBQVUsU0FBUztBQUFBLElBQzNDO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLHNCQUFzQixTQUF1QixVQUFRLE1BQUs7QUFDekQsYUFBUyxNQUFNLEdBQVU7QUFDeEIsYUFBTyxLQUFLO0FBQUEsUUFDWCxHQUFHLEVBQUUsU0FBUyxPQUFPLENBQUNDLE9BQVVBLEdBQUUsUUFBUSxFQUFFLElBQUksQ0FBQ0EsT0FBVUEsR0FBRSxLQUM1RCxLQUFLO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFDQSxRQUFJLE1BQU0sUUFBUSxLQUFLLENBQUMsR0FBRSxNQUFJLE1BQU0sQ0FBQyxJQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLFFBQUcsU0FBUTtBQUNWLFlBQU0sSUFBSSxRQUFRO0FBQUEsSUFDbkI7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxnQ0FBZ0MsUUFBTSxLQUFLLGNBQWE7QUFDN0QsUUFBRyxTQUFPLE1BQUs7QUFBQztBQUFBLElBQU87QUFFdkIsUUFBSSxVQUFVLEtBQUssZ0JBQWdCO0FBQ25DLGNBQVUsS0FBSztBQUFBLE1BQXNCO0FBQUEsSUFDckMsRUFBRSxPQUFPLE9BQUcsS0FBRyxNQUFNLE1BQU07QUFFM0IsUUFBRyxNQUFNLGNBQVksTUFBSztBQUN6QixnQkFBVSxRQUFRLE9BQU8sQ0FBQyxNQUFVLEtBQUssbUJBQW1CLENBQUMsQ0FBQztBQUFBLElBQy9EO0FBQ0EsUUFBSTtBQUNILFVBQUksU0FBUyxNQUFNLEtBQUssT0FBTztBQUFBLFFBQzlCLEtBQUssT0FBTyxNQUFNO0FBQUEsVUFDakIsUUFBUSxJQUFJLENBQUMsTUFBVSxFQUFFLElBQUk7QUFBQSxRQUM5QjtBQUFBLFFBQUU7QUFBQSxNQUNIO0FBRUEsVUFBSSxNQUFNLE9BQU8sT0FBSyxNQUFJLE1BQU0sV0FBUyxNQUFJLE1BQU07QUFDbkQsWUFBTSxLQUFLLElBQUksWUFBWSxXQUFXLE9BQU0sR0FBRztBQUFBLElBQ2hELFNBQVMsT0FBUDtBQUFBLElBRUY7QUFBQSxFQUNEO0FBQUEsRUFFQSxtQkFBbUIsTUFBVztBQUM3QixRQUFHLEVBQUcsS0FBSyxJQUFJLE1BQWMsT0FBTyx5QkFBdUIsT0FBTTtBQUNoRSxVQUFHLEtBQUssS0FBSztBQUFBLFFBQ1gsS0FBSyxJQUFJLE1BQWMsT0FBTztBQUFBLE1BQW9CLEdBQ25EO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsUUFBSSxLQUFLLElBQUksTUFBYyxtQkFBa0I7QUFDNUMsZUFBUSxLQUFNLEtBQUssSUFBSSxNQUFjLG1CQUFrQjtBQUN0RCxZQUFHLEtBQUssS0FBSyxXQUFXLENBQUMsR0FBRTtBQUMxQixpQkFBTztBQUFBLFFBQ1I7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGVBQWUsUUFBOEIsTUFBSyxRQUFNLEdBQUU7QUFFL0QsUUFBRyxTQUFPLE1BQUs7QUFDZCxjQUFRLEtBQUs7QUFBQSxRQUNaLEtBQUssSUFBSSxNQUFNLFNBQVM7QUFBQSxRQUN4QixDQUFDLFNBQVEsR0FBRztBQUFBLE1BQ2IsRUFBRSxPQUFPLENBQUMsTUFBVSxLQUFLLG1CQUFtQixDQUFDLENBQUM7QUFBQSxJQUMvQztBQUNBLFFBQUk7QUFDSCxVQUFJLE1BQU0sS0FBSyxPQUFPLE1BQU0sZ0JBQWlCLE1BQWMsSUFBSSxDQUFDLE1BQVUsRUFBRSxLQUFLLE1BQU0sS0FBSyxDQUFDLENBQUM7QUFDOUYsVUFBSSxPQUFPLE1BQU0sS0FBSyxPQUFPLGVBQWUsS0FBSSxLQUFLO0FBQ3JELGFBQU87QUFBQSxJQUNSLFNBQVMsT0FBUDtBQUNELGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsVUFBVSxPQUFZLFVBQVEsT0FBTSxlQUFhLE9BQU0sV0FBUyxNQUFLO0FBQ3BFLFFBQUcsT0FBTTtBQUNSLFlBQU0sT0FBTyxLQUFLLElBQUksVUFBVSxvQkFBb0IsNkJBQVk7QUFDaEUsVUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssTUFBSztBQUNqQyxhQUFLLElBQUksVUFBVSxRQUFRLElBQUksRUFBRSxTQUFTLEtBQUs7QUFBQSxNQUNoRCxXQUFVLEtBQUssS0FBYSxRQUFPO0FBQ2xDLGFBQUssSUFBSSxVQUFVLFFBQVEsSUFBSSxFQUFFLFNBQVMsS0FBSztBQUFBLE1BQ2hELE9BQUs7QUFDSixhQUFLLEtBQUssU0FBUyxLQUFLO0FBQUEsTUFDekI7QUFFQSxVQUFHLGNBQWE7QUFDZixZQUFHLFVBQVM7QUFDWCxVQUFDLEtBQUssT0FBTyxTQUFTLGNBQXNCLEtBQUssZUFBZSxJQUFJO0FBQUEsUUFDckU7QUFDQSxRQUFDLEtBQUssT0FBTyxTQUFTLGNBQXNCLGVBQWUsS0FBSztBQUFBLE1BQ2pFO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sc0JBQXFCO0FBQzFCLFFBQUk7QUFDSCxVQUFJLE9BQU8sTUFBTSxLQUFLLGVBQWU7QUFDckMsV0FBSyxVQUFVLElBQUk7QUFBQSxJQUNwQixTQUFTLE9BQVA7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUFBLEVBR0EsVUFBVSxNQUFZLGFBQVcsTUFBSztBQUNyQyxRQUFHO0FBQ0YsYUFBTyxLQUFLLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLE1BQUssRUFBRSxFQUFFLFFBQVEsTUFBSyxFQUFFO0FBQzFELFVBQUksUUFBUSxLQUFLLElBQUksTUFBTSxjQUFjLElBQUk7QUFDN0MsVUFBRyxPQUFNO0FBQ1IsZUFBTztBQUFBLE1BQ1I7QUFFQSxVQUFJLFNBQVUsS0FBSyxJQUFJLGNBQXNCLGlCQUFpQixJQUFJLEtBQUssWUFBWSxDQUFDO0FBQ3BGLFVBQUcsQ0FBQyxRQUFPO0FBQ1YsaUJBQVUsS0FBSyxJQUFJLGNBQXNCLGlCQUFpQixJQUFJLEtBQUssWUFBWSxJQUFFLEtBQUs7QUFDdEYsWUFBRyxDQUFDLFFBQU87QUFDVixpQkFBTztBQUFBLFFBQ1IsT0FBSztBQUNKLGlCQUFPLE9BQUs7QUFBQSxRQUNiO0FBQUEsTUFDRDtBQUVBLFVBQUksVUFBVSxPQUFPLE9BQU8sQ0FBQyxNQUFVLEVBQUUsUUFBTSxJQUFJO0FBQ25ELFVBQUcsUUFBUSxTQUFPLEdBQUU7QUFDbkIsWUFBRyxZQUFXO0FBQ2IsaUJBQU8sUUFBUSxDQUFDO0FBQUEsUUFDakIsT0FBSztBQUNKLGlCQUFPO0FBQUEsUUFDUjtBQUFBLE1BQ0Q7QUFFQSxVQUFHLE9BQU8sU0FBTyxHQUFFO0FBQ2xCLFlBQUcsWUFBVztBQUNiLGlCQUFPLE9BQU8sQ0FBQztBQUFBLFFBQ2hCLE9BQUs7QUFDSixpQkFBTztBQUFBLFFBQ1I7QUFBQSxNQUNEO0FBQ0EsYUFBTztBQUFBLElBQ1IsU0FBTSxHQUFMO0FBQ0EsYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxTQUFTLFFBQU0sS0FBSyxjQUFhO0FBNVFsQztBQTZRRSxRQUFHLENBQUMsT0FBTTtBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUM7QUFDcEIsUUFBSSxTQUFRLEtBQUssSUFBSSxjQUFjLGFBQWEsS0FBSztBQUNyRCxRQUFJLE9BQXFCLENBQUM7QUFDMUIsUUFBRyxpQ0FBUSxNQUFLO0FBQ2YsZUFBUSxRQUFRLE9BQU8sTUFBSztBQUMzQixZQUFHLENBQUMsS0FBSyxTQUFTLEtBQUssR0FBRyxHQUFFO0FBQzNCLGVBQUssS0FBSyxLQUFLLEdBQUc7QUFBQSxRQUNuQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsU0FBRyxzQ0FBUSxnQkFBUixtQkFBcUIsTUFBSztBQUM1QixVQUFHLE1BQU0sUUFBUSxPQUFPLFlBQVksSUFBSSxHQUFFO0FBQ3pDLGlCQUFRLFFBQVEsT0FBTyxZQUFZLE1BQUs7QUFDdkMsY0FBSSxNQUFNLE1BQUk7QUFDZCxjQUFHLENBQUMsS0FBSyxTQUFTLEdBQUcsR0FBRTtBQUN0QixpQkFBSyxLQUFLLEdBQUc7QUFBQSxVQUNkO0FBQUEsUUFDRDtBQUFBLE1BQ0QsV0FBUyxPQUFPLE9BQU8sWUFBWSxTQUFTLFVBQVM7QUFDcEQsWUFBSSxNQUFNLE1BQUksT0FBTyxZQUFZO0FBQ2pDLFlBQUcsQ0FBQyxLQUFLLFNBQVMsR0FBRyxHQUFFO0FBQ3RCLGVBQUssS0FBSyxHQUFHO0FBQUEsUUFDZDtBQUFBLE1BQ0Q7QUFBQSxJQUVEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGtCQUFrQixVQUFRLE1BQWtCO0FBMVM3QztBQTJTRSxRQUFJLFNBQVUsS0FBSyxJQUFZLFFBQVEsVUFBVSx1QkFBdUI7QUFDeEUsUUFBRyxRQUFPO0FBQ1QsVUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZO0FBQUEsUUFDbkMsQ0FBQyxNQUFRLEtBQUssVUFBVSxFQUFFLElBQUk7QUFBQSxNQUMvQixFQUFFLE9BQU8sQ0FBQyxNQUFRLENBQUM7QUFDbkIsYUFBTztBQUFBLElBQ1IsT0FBSztBQUNKLFVBQUlDLFVBQVMsQ0FBQztBQUNkLFVBQUksU0FBUyxVQUFLLElBQUksVUFBa0Isc0JBQTNCLG1CQUE4QztBQUMzRCxVQUFHLFNBQVUsTUFBTSxTQUFPLEdBQUU7QUFDM0IsUUFBQUEsVUFBUyxNQUFNLElBQUksQ0FBQyxNQUFXLEtBQUssVUFBVSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBVSxDQUFDO0FBQUEsTUFDdEU7QUFDQSxVQUFJLFFBQVEsS0FBSyxJQUFJLFVBQVUsY0FBYztBQUM3QyxVQUFHLE9BQU07QUFDUixRQUFBQSxRQUFPLFFBQVEsS0FBSztBQUFBLE1BQ3JCO0FBQ0EsVUFBRyxTQUFRO0FBQ1YsUUFBQUEsVUFBU0EsUUFBTyxPQUFPLENBQUMsTUFBVSxFQUFFLGFBQVcsSUFBSTtBQUFBLE1BQ3BEO0FBQ0EsYUFBT0E7QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsb0JBQW9CLGVBQWEsTUFBSztBQUNyQyxRQUFJLFVBQVE7QUFFWixRQUFHLGNBQWE7QUFDZixVQUFJLFNBQVMsS0FBSyxrQkFBa0I7QUFDcEMsZUFBUSxTQUFTLFFBQU87QUFDdkIsWUFBRyxNQUFNLFNBQVMsTUFBTSxPQUFPLEdBQUU7QUFDaEMsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxRQUFJLFFBQUkseUJBQU87QUFDZixhQUFRLElBQUUsR0FBRSxJQUFFLElBQUcsS0FBSTtBQUNwQixVQUFJLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUUsTUFBTTtBQUVoQyxVQUFJLFFBQVEsR0FBRyxPQUFPLFlBQVk7QUFDbEMsVUFBSSxRQUFRLEtBQUssVUFBVSxLQUFLO0FBQ2hDLFVBQUcsT0FBTTtBQUNSLGVBQU87QUFBQSxNQUNSO0FBQUEsSUFDRDtBQUVBLFFBQUksUUFBUSxLQUFLLElBQUksTUFBTSxpQkFBaUIsRUFBRTtBQUFBLE1BQzdDLENBQUMsTUFBVSxFQUFFLFNBQVMsTUFBTSxPQUFPO0FBQUEsSUFDcEM7QUFDQSxZQUFRLEtBQUssWUFBWSxPQUFNLE1BQU07QUFDckMsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixhQUFPLE1BQU0sTUFBTSxTQUFPLENBQUM7QUFBQSxJQUM1QjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxrQkFBa0IsU0FBTyxHQUFFO0FBQzFCLFFBQUksTUFBTSxLQUFLLE9BQU87QUFDdEIsUUFBSSxTQUFTLElBQUksVUFBVSxnQkFBZ0IsVUFBVTtBQUNyRCxRQUFJLGFBQWEsSUFBSSxVQUFVLG9CQUFvQiw2QkFBWTtBQUMvRCxRQUFHLFlBQVc7QUFDYixVQUFJLE1BQU0sT0FBTyxJQUFJLE9BQUcsRUFBRSxRQUFNLFVBQVUsRUFBRSxRQUFRLElBQUk7QUFDeEQsWUFBTSxNQUFJO0FBQ1YsVUFBRyxNQUFJLEtBQUssTUFBSSxPQUFPLFNBQU8sR0FBRTtBQUMvQixlQUFPO0FBQUEsTUFDUjtBQUNBLGFBQU8sT0FBTyxHQUFHO0FBQUEsSUFDbEI7QUFBQSxFQUNEO0FBQUEsRUFFQSx1QkFBdUIsY0FBWSxNQUFLO0FBQ3ZDLFFBQUksU0FBb0IsS0FBSyxJQUFJLFVBQVUsZ0JBQWdCLFVBQVU7QUFDckUsYUFBUyxPQUFPLE9BQU8sT0FBRyxFQUFFLGFBQWEsRUFBRSxNQUFNLElBQUk7QUFDckQsYUFBUyxPQUFPLEtBQUssQ0FBQyxHQUFFLE1BQUksRUFBRSxhQUFhLEVBQUUsVUFBVTtBQUV2RCxhQUFRQyxTQUFRLFFBQU87QUFDdEIsVUFBSSxPQUFPQSxNQUFLLGFBQWEsRUFBRSxNQUFNO0FBQ3JDLFVBQUcsZUFBZSxLQUFLLFNBQVMsSUFBSSxFQUFFLFNBQVMsU0FBUyxHQUFFO0FBQ3pEO0FBQUEsTUFDRDtBQUNBLGFBQU9BO0FBQUEsSUFDUjtBQUVBLFFBQUksT0FBTztBQUNYLGFBQVEsS0FBSyxDQUFDLEdBQUUsSUFBRyxDQUFDLEdBQUU7QUFDckIsYUFBTyxLQUFLLE9BQU8sTUFBTSxrQkFBa0IsQ0FBQztBQUM1QyxVQUFHLE1BQUs7QUFDUCxlQUFPO0FBQUEsTUFDUjtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsSUFBSSxlQUF5QjtBQUM1QixXQUFPLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFBQSxFQUN6QztBQUFBLEVBRUEsbUJBQW1CLHlCQUF1QixNQUFLO0FBQzlDLFFBQUksV0FBVyxTQUFTO0FBQUEsTUFDdEI7QUFBQSxJQUNGO0FBQ0EsUUFBSSxRQUFRLE9BQU8sT0FBTyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQVU7QUFDakQsVUFBSTtBQUNKLGNBQVEsS0FBSyxFQUFFLFlBQVksT0FBTyxTQUFTLEdBQUc7QUFBQSxJQUNoRCxDQUFDO0FBQ0QsUUFBSSxTQUFTLE1BQU07QUFBQSxNQUNsQixDQUFDLE1BQU0sS0FBSyxVQUFVLENBQUM7QUFBQSxJQUFDLEVBQUU7QUFBQSxNQUFPLENBQUMsTUFBTSxFQUFFLGFBQWE7QUFBQSxJQUN4RDtBQUNBLFFBQUcsT0FBTyxTQUFPLEdBQUU7QUFDbEIsYUFBTztBQUFBLElBQ1IsV0FBUywwQkFBMEIsS0FBSyxjQUFhO0FBQ3BELGFBQU8sQ0FBQyxLQUFLLFlBQVk7QUFBQSxJQUMxQixPQUFLO0FBQ0osYUFBTyxDQUFDO0FBQUEsSUFDVDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFlBQVksUUFBTSxLQUFLLGNBQWEsVUFBUSxNQUFrQjtBQUM3RCxRQUFHLFNBQU8sTUFBSztBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUU7QUFDMUIsUUFBSSxNQUFtQixDQUFDO0FBRXhCLFFBQUksVUFBVyxLQUFLLElBQUksY0FBc0Isb0JBQW9CLEtBQUs7QUFDdkUsYUFBUSxDQUFDLEdBQUUsQ0FBQyxLQUFLLFFBQVEsTUFBSztBQUM3QixVQUFJLE9BQU8sS0FBSyxJQUFJLE1BQU0sY0FBYyxDQUFDO0FBQ3pDLFVBQUcsTUFBSztBQUNQLFlBQUksS0FBSyxJQUFJO0FBQUEsTUFDZDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsYUFBYSxRQUFNLEtBQUssY0FBYSxVQUFRLE1BQWtCO0FBQzlELFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUUxQixRQUFJLFNBQVMsS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3RELFFBQUcsQ0FBQyxRQUFPO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUV0QixRQUFJLE1BQW1CLENBQUM7QUFDeEIsUUFBRyxPQUFPLE9BQU07QUFDZixlQUFRLFFBQVEsT0FBTyxPQUFNO0FBQzVCLFlBQUlDLFNBQVEsS0FBSyxVQUFVLEtBQUssSUFBSTtBQUNwQyxZQUFHQSxVQUFTLENBQUMsSUFBSSxTQUFTQSxNQUFLLEtBQUssRUFBRSxXQUFXQSxPQUFNLGFBQVcsT0FBTTtBQUN2RSxjQUFJLEtBQUtBLE1BQUs7QUFBQSxRQUNmO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxRQUFHLE9BQU8sa0JBQWlCO0FBQzFCLGVBQVEsUUFBUSxPQUFPLGtCQUFpQjtBQUN2QyxZQUFJQSxTQUFRLEtBQUssVUFBVSxLQUFLLElBQUk7QUFDcEMsWUFBR0EsVUFBUyxDQUFDLElBQUksU0FBU0EsTUFBSyxLQUFLLEVBQUUsV0FBV0EsT0FBTSxhQUFXLE9BQU07QUFDdkUsY0FBSSxLQUFLQSxNQUFLO0FBQUEsUUFDZjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsUUFBRyxDQUFDLFdBQVcsT0FBTyxRQUFPO0FBQzVCLGVBQVEsUUFBUSxPQUFPLFFBQU87QUFDN0IsWUFBSUEsU0FBUSxLQUFLLFVBQVUsS0FBSyxJQUFJO0FBQ3BDLFlBQUdBLFVBQVMsQ0FBQyxJQUFJLFNBQVNBLE1BQUssR0FBRTtBQUNoQyxjQUFJLEtBQUtBLE1BQUs7QUFBQSxRQUNmO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsVUFBVSxRQUFNLEtBQUssY0FBYSxVQUFRLE1BQUs7QUFDOUMsUUFBSSxVQUFVLEtBQUssWUFBWSxPQUFNLE9BQU87QUFDNUMsUUFBSSxXQUFXLEtBQUssYUFBYSxPQUFNLE9BQU87QUFDOUMsYUFBUSxRQUFRLFNBQVE7QUFDdkIsVUFBRyxDQUFDLFNBQVMsU0FBUyxJQUFJLEdBQUU7QUFDM0IsaUJBQVMsS0FBSyxJQUFJO0FBQUEsTUFDbkI7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGtCQUFrQixRQUFvQixRQUFNLEdBQUU7QUFDN0MsUUFBSSxRQUFRLE9BQU8sSUFBSSxDQUFDLE1BQVUsQ0FBQztBQUNuQyxXQUFNLFNBQU8sR0FBRTtBQUNkLFVBQUksT0FBTyxNQUFNLElBQUksQ0FBQyxNQUFVLENBQUM7QUFDakMsZUFBUSxLQUFLLE1BQUs7QUFDakIsWUFBSSxRQUFRLEtBQUssWUFBWSxHQUFFLElBQUk7QUFDbkMsaUJBQVEsUUFBUSxPQUFNO0FBQ3JCLGNBQUcsQ0FBQyxNQUFNLFNBQVMsSUFBSSxHQUFFO0FBQ3hCLGtCQUFNLEtBQUssSUFBSTtBQUFBLFVBQ2hCO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFDQSxVQUFHLEtBQUssVUFBUSxNQUFNLFFBQU87QUFDNUI7QUFBQSxNQUNEO0FBQ0EsY0FBUSxRQUFNO0FBQUEsSUFDZjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxtQkFBbUIsUUFBb0IsUUFBTSxHQUFFO0FBQzlDLFFBQUksUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFVLENBQUM7QUFDbkMsV0FBTSxTQUFPLEdBQUU7QUFDZCxVQUFJLE9BQU8sTUFBTSxJQUFJLENBQUMsTUFBVSxDQUFDO0FBQ2pDLGVBQVEsS0FBSyxNQUFLO0FBQ2pCLFlBQUksUUFBUSxLQUFLLGFBQWEsR0FBRSxJQUFJO0FBQ3BDLGlCQUFRLFFBQVEsT0FBTTtBQUNyQixjQUFHLENBQUMsTUFBTSxTQUFTLElBQUksR0FBRTtBQUN4QixrQkFBTSxLQUFLLElBQUk7QUFBQSxVQUNoQjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQ0EsVUFBRyxLQUFLLFVBQVEsTUFBTSxRQUFPO0FBQzVCO0FBQUEsTUFDRDtBQUNBLGNBQVEsUUFBTTtBQUFBLElBQ2Y7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZ0JBQWdCLFFBQW9CLFFBQU0sR0FBRTtBQUMzQyxRQUFJLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBVSxDQUFDO0FBQ25DLFdBQU0sU0FBTyxHQUFFO0FBQ2QsVUFBSSxPQUFPLE1BQU0sSUFBSSxDQUFDLE1BQVUsQ0FBQztBQUNqQyxlQUFRLEtBQUssTUFBSztBQUNqQixZQUFJLFFBQVEsS0FBSyxVQUFVLEdBQUUsSUFBSTtBQUNqQyxpQkFBUSxRQUFRLE9BQU07QUFDckIsY0FBRyxDQUFDLE1BQU0sU0FBUyxJQUFJLEdBQUU7QUFDeEIsa0JBQU0sS0FBSyxJQUFJO0FBQUEsVUFDaEI7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUNBLFVBQUcsS0FBSyxVQUFRLE1BQU0sUUFBTztBQUM1QjtBQUFBLE1BQ0Q7QUFDQSxjQUFRLFFBQU07QUFBQSxJQUNmO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGFBQWEsUUFBTSxLQUFLLGNBQWE7QUFDcEMsUUFBRyxTQUFPLE1BQU0sUUFBTztBQUN0QixhQUFPLEtBQUsscUJBQXFCLE1BQU0sUUFBTyxLQUFLO0FBQUEsSUFDcEQsT0FBSztBQUNKLGFBQU8sQ0FBQztBQUFBLElBQ1Q7QUFBQSxFQUVEO0FBQUEsRUFFQSxXQUFXLE9BQVk7QUFDdEIsUUFBRyxTQUFTLE1BQU0sVUFBVSxNQUFNLE9BQU8sUUFBTztBQUMvQyxVQUFJLFNBQVMsTUFBTSxPQUFPO0FBQzFCLGFBQU8sT0FBTyxTQUFTO0FBQUEsUUFDdEIsQ0FBQyxNQUFrQixhQUFhO0FBQUEsTUFDakM7QUFBQSxJQUNEO0FBQ0EsV0FBTyxDQUFDO0FBQUEsRUFDVDtBQUFBLEVBRUEscUJBQXFCLFNBQXFCLGdCQUFjLE9BQVU7QUFDakUsUUFBRyxXQUFTLE1BQUs7QUFBQyxhQUFPLENBQUM7QUFBQSxJQUFFO0FBQzVCLFFBQUksUUFBUSxDQUFDO0FBQ2IsYUFBUSxLQUFLLFFBQVEsVUFBUztBQUM3QixVQUFHLGFBQWEsMEJBQVMsRUFBRSxjQUFZLE1BQUs7QUFDM0MsY0FBTSxLQUFLLENBQUM7QUFBQSxNQUNiLFdBQVMsYUFBYSw0QkFBVyxlQUFjO0FBQzlDLFlBQUksTUFBTSxLQUFLLHFCQUFxQixDQUFDO0FBQ3JDLGlCQUFRLEtBQUssS0FBSTtBQUNoQixnQkFBTSxLQUFLLENBQUM7QUFBQSxRQUNiO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFFUjtBQUFBLEVBRUEsY0FBYyxPQUFjLFFBQW9CO0FBQy9DLFFBQUksUUFBUSxLQUFLLFVBQVUsTUFBTSxPQUFLLEtBQUs7QUFDM0MsUUFBRyxDQUFDLE9BQU07QUFBQyxhQUFPO0FBQUEsSUFBRztBQUNyQixRQUFJLE1BQU0sS0FBSyxPQUFPLE9BQU87QUFBQSxNQUM1QjtBQUFBLE1BQU07QUFBQSxJQUNQO0FBQ0EsUUFBRyxDQUFDLE9BQUssT0FBTyxPQUFNLFVBQVM7QUFBQyxhQUFPO0FBQUEsSUFBRztBQUMxQyxRQUFJLFNBQVMsS0FBSyxVQUFVLEdBQUc7QUFDL0IsUUFBRyxDQUFDLFFBQU87QUFBQyxhQUFPO0FBQUEsSUFBRztBQUN0QixRQUFJLE1BQU0sT0FBTyxRQUFRLE1BQU07QUFDL0IsUUFBSSxTQUFTLEtBQUssT0FBTyxPQUFPO0FBQUEsTUFDL0I7QUFBQSxNQUFNO0FBQUEsSUFDUDtBQUVBLFFBQUcsT0FBTyxVQUFTLFVBQVM7QUFDM0IsWUFBTSxNQUFNLFdBQVcsTUFBTTtBQUFBLElBQzlCLE9BQUs7QUFDSixZQUFNLE1BQU07QUFBQSxJQUNiO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGdCQUFnQixPQUFZO0FBQzNCLFFBQUksT0FBTyxLQUFLO0FBQ2hCLFFBQUksTUFBTTtBQUNWLFFBQUcsTUFBTSxXQUFRLDZCQUFNLFNBQU87QUFDN0IsWUFBTSxNQUFNO0FBQUEsSUFDYixPQUFLO0FBQ0osWUFBTSxNQUFNO0FBQUEsSUFDYjtBQUNBLFFBQUcsU0FBTyxLQUFLLGNBQWE7QUFDM0IsYUFBTyxhQUFNO0FBQUEsSUFDZCxPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUVEO0FBQUEsRUFFQSxNQUFNLGdCQUFnQixRQUFNLEtBQUssY0FBYSxhQUFXLE9BQU0sUUFBTSxJQUFHO0FBQ3ZFLFFBQUcsT0FBTTtBQUFDLGVBQU8sS0FBSztBQUFBLElBQWE7QUFDbkMsUUFBSSxLQUFLO0FBQUEsTUFDUixLQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3BCLEtBQUssT0FBTyxRQUFRO0FBQUEsTUFDcEIsS0FBSyxPQUFPLFFBQVE7QUFBQSxNQUNwQixLQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3BCLEtBQUssT0FBTyxRQUFRO0FBQUEsTUFDcEIsS0FBSyxPQUFPLFFBQVE7QUFBQSxNQUNwQixLQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3BCLEtBQUssT0FBTyxRQUFRO0FBQUEsTUFDcEIsS0FBSyxPQUFPLFFBQVE7QUFBQSxJQUNyQjtBQUVBLFFBQUcsWUFBVztBQUNiLFNBQUcsUUFBUSxLQUFLLE9BQU8sUUFBUSxnQkFBZ0I7QUFBQSxJQUNoRCxPQUFLO0FBQ0osU0FBRyxLQUFLLEtBQUssT0FBTyxRQUFRLGdCQUFnQjtBQUFBLElBQzdDO0FBRUEsUUFBSSxPQUFPO0FBQ1gsUUFBRyxHQUFHLFNBQVMsS0FBSyxHQUFFO0FBQ3JCLGFBQU87QUFBQSxJQUNSLE9BQUs7QUFDSixhQUFPLE1BQU0sS0FBSyxPQUFPLGVBQWUsS0FBSyxPQUFPLE1BQU0sZ0JBQWdCLEVBQUUsR0FBRSxFQUFFO0FBQUEsSUFDakY7QUFDQSxRQUFHLFNBQU8sS0FBSyxPQUFPLFFBQVEsa0JBQWlCO0FBQzlDLGFBQU8sQ0FBQyxLQUFLO0FBQUEsSUFDZCxXQUFTLFNBQU8sS0FBSyxPQUFPLFFBQVEsbUJBQWtCO0FBQ3JELGFBQU8sS0FBSyxhQUFhLEtBQUs7QUFBQSxJQUMvQixXQUFTLFNBQU8sS0FBSyxPQUFPLFFBQVEsa0JBQWlCO0FBQ3BELFVBQUcsK0JBQU8sUUFBTztBQUNoQixlQUFPLEtBQUsscUJBQXFCLE1BQU0sUUFBTyxJQUFJO0FBQUEsTUFDbkQ7QUFBQSxJQUNELFdBQVMsU0FBTyxLQUFLLE9BQU8sUUFBUSx1QkFBc0I7QUFDekQsYUFBTyxLQUFLLFVBQVUsS0FBSztBQUFBLElBQzVCLFdBQVMsU0FBTyxLQUFLLE9BQU8sUUFBUSxhQUFZO0FBQy9DLGFBQU8sS0FBSyxZQUFZLEtBQUs7QUFBQSxJQUM5QixXQUFTLFNBQU8sS0FBSyxPQUFPLFFBQVEsZUFBYztBQUNqRCxhQUFPLEtBQUssYUFBYSxLQUFLO0FBQUEsSUFDL0IsV0FBUyxTQUFPLEtBQUssT0FBTyxRQUFRLGVBQWM7QUFDakQsYUFBTyxLQUFLLGVBQWU7QUFBQSxJQUM1QixXQUFTLFNBQU8sS0FBSyxPQUFPLFFBQVEsYUFBWTtBQUMvQyxhQUFPLEtBQUssa0JBQWtCO0FBQUEsSUFDL0IsV0FBUyxTQUFPLEtBQUssT0FBTyxRQUFRLGtCQUFpQjtBQUNwRCxVQUFHLE9BQU07QUFDUixlQUFPLEtBQUssV0FBVyxLQUFLO0FBQUEsTUFDN0I7QUFBQSxJQUNELFdBQVMsU0FBTyxLQUFLLE9BQU8sUUFBUSxnQkFBZTtBQUNsRCxhQUFPLEtBQUs7QUFBQSxRQUNYO0FBQUEsUUFDQSxPQUFPLEtBQUssT0FBTyxTQUFTLFNBQVM7QUFBQSxRQUNyQyxPQUFPLEtBQUssT0FBTyxTQUFTLFNBQVM7QUFBQSxNQUN0QztBQUFBLElBQ0QsT0FBSztBQUNKLGFBQU8sQ0FBQztBQUFBLElBQ1Q7QUFBQSxFQUNEO0FBQUE7QUFBQSxFQUlBLGNBQWMsUUFBTSxLQUFLLGNBQWE7QUFDckMsUUFBRyxDQUFDLE9BQU07QUFBQztBQUFBLElBQU87QUFDbEIsUUFBSSxNQUFjLFNBQVE7QUFDekIsVUFBSSxTQUFTLEtBQUssSUFBSSxNQUFNLGlCQUFpQjtBQUU3QyxlQUFTLE9BQU8sT0FBTyxPQUFHO0FBQ3pCLFlBQUcsQ0FBQyxHQUFFO0FBQ0wsaUJBQU87QUFBQSxRQUNSO0FBQ0EsWUFBSSxPQUFPLEtBQUssT0FBTyxnQkFBZ0IsR0FBRSxLQUFLLElBQUk7QUFDbEQsWUFBRyxPQUFPLFFBQU8sVUFBUztBQUN6QixpQkFBTztBQUFBLFFBQ1I7QUFDQSxlQUFPLEtBQUssTUFBTSxnQkFBZTtBQUFBLE1BQ2xDLENBQUM7QUFFRCxVQUFHLE9BQU8sU0FBTyxHQUFFO0FBQ2xCLGVBQU8sT0FBTyxDQUFDO0FBQUEsTUFDaEIsT0FBSztBQUNKLGVBQU87QUFBQSxNQUNSO0FBQUEsSUFDRCxPQUFLO0FBQ0osVUFBSSxPQUFPLEtBQUssT0FBTyxnQkFBZ0IsT0FBTSxLQUFLLElBQUk7QUFDdEQsVUFBRyxDQUFDLFFBQU0sT0FBTyxRQUFPLFVBQVM7QUFBQyxlQUFPO0FBQUEsTUFBSztBQUM5QyxVQUFJLE9BQU8sS0FBSyxVQUFVLElBQUk7QUFDOUIsYUFBTyxPQUFLLE9BQUs7QUFBQSxJQUNsQjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGdCQUFnQixRQUFNLEtBQUssY0FBYTtBQUN2QyxRQUFJLE9BQU8sS0FBSyxjQUFjLEtBQUs7QUFDbkMsU0FBSyxVQUFVLElBQUk7QUFBQSxFQUNwQjtBQUFBLEVBRUEsY0FBYyxRQUFNLEtBQUssY0FBYTtBQUNyQyxRQUFHLENBQUMsT0FBTTtBQUFDLGFBQU87QUFBQSxJQUFLO0FBQ3ZCLFFBQUksTUFBYyxTQUFRO0FBQ3pCLFVBQUksU0FBUyxLQUFLLElBQUksTUFBTSxpQkFBaUI7QUFDN0MsVUFBSSxPQUNKLFNBQVMsT0FBTyxPQUFPLE9BQUc7QUFDekIsWUFBRyxDQUFDLEdBQUU7QUFDTCxpQkFBTztBQUFBLFFBQ1I7QUFDQSxZQUFJQyxRQUFPLEtBQUssT0FBTyxnQkFBZ0IsR0FBRSxLQUFLLElBQUk7QUFDbEQsWUFBRyxPQUFPQSxTQUFPLFVBQVM7QUFDekIsaUJBQU87QUFBQSxRQUNSO0FBQ0EsZUFBTyxLQUFLLE1BQU0sZ0JBQWVBO0FBQUEsTUFDbEMsQ0FBQztBQUNELFVBQUcsT0FBTyxTQUFPLEdBQUU7QUFDbEIsZUFBTyxPQUFPLENBQUM7QUFBQSxNQUNoQixPQUFLO0FBQ0osZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNELE9BQUs7QUFDSixVQUFJLE9BQU8sS0FBSyxPQUFPLGdCQUFnQixPQUFNLEtBQUssSUFBSTtBQUN0RCxVQUFHLENBQUMsUUFBTSxPQUFPLFFBQU8sVUFBUztBQUFDLGVBQU87QUFBQSxNQUFLO0FBQzlDLFVBQUksT0FBTyxLQUFLLFVBQVUsSUFBSTtBQUM5QixhQUFPLE9BQUssT0FBSztBQUFBLElBQ2xCO0FBQUEsRUFDRDtBQUFBLEVBRUEsZ0JBQWdCLFFBQU0sS0FBSyxjQUFhO0FBQ3ZDLFFBQUksT0FBTyxLQUFLLGNBQWMsS0FBSztBQUNuQyxTQUFLLFVBQVUsSUFBSTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxVQUFVLFFBQU0sS0FBSyxjQUFhLE9BQUssSUFBRyxPQUFLLElBQUcsWUFBVSxNQUFLO0FBQ2hFLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUUxQixRQUFJLE1BQU0sSUFBSSxNQUFNO0FBQ3BCLFFBQUcsV0FBVTtBQUNaLFVBQUksS0FBSyxLQUFLO0FBQUEsSUFDZjtBQUVBLFFBQUksTUFBTTtBQUNWLGFBQVEsSUFBRSxNQUFLLEtBQUcsR0FBRSxLQUFJO0FBQ3ZCLFVBQUksT0FBTyxLQUFLLGNBQWMsR0FBRztBQUNqQyxVQUFHLENBQUMsTUFBSztBQUNSO0FBQUEsTUFDRCxXQUFTLElBQUksU0FBUyxJQUFJLEdBQUU7QUFDM0I7QUFBQSxNQUNELE9BQUs7QUFDSixZQUFJLFFBQVEsSUFBSTtBQUNoQixjQUFNO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFFQSxVQUFNO0FBQ04sYUFBUSxJQUFFLE1BQUssS0FBRyxHQUFFLEtBQUk7QUFDdkIsVUFBSSxPQUFPLEtBQUssY0FBYyxHQUFHO0FBQ2pDLFVBQUcsQ0FBQyxNQUFLO0FBQ1I7QUFBQSxNQUNELFdBQVMsSUFBSSxTQUFTLElBQUksR0FBRTtBQUMzQjtBQUFBLE1BQ0QsT0FBSztBQUNKLFlBQUksS0FBSyxJQUFJO0FBQ2IsY0FBTTtBQUFBLE1BQ1A7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGVBQWUsUUFBTSxLQUFLLGNBQWE7QUFDdEMsUUFBSSxRQUFRLEtBQUssVUFBVSxPQUFNLElBQUcsR0FBRSxLQUFLO0FBQzNDLFFBQUcsTUFBTSxTQUFPLEdBQUU7QUFDakIsYUFBTyxNQUFNLENBQUM7QUFBQSxJQUNmLE9BQUs7QUFDSixhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGNBQWMsUUFBTSxLQUFLLGNBQWE7QUFDckMsUUFBSSxRQUFRLEtBQUssVUFBVSxPQUFNLEdBQUUsSUFBRyxLQUFLO0FBQzNDLFFBQUcsTUFBTSxTQUFPLEdBQUU7QUFDakIsYUFBTyxNQUFNLE1BQU0sU0FBTyxDQUFDO0FBQUEsSUFDNUIsT0FBSztBQUNKLGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsY0FBYyxRQUFNLEtBQUssY0FBYTtBQUNyQyxXQUFPO0FBQUEsTUFDTixLQUFLLGNBQWMsS0FBSztBQUFBLE1BQ3hCLEtBQUssY0FBYyxLQUFLO0FBQUEsSUFDekI7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWUsT0FBWSxNQUFnQjtBQUNoRCxRQUFHLFNBQU8sUUFBUSxTQUFPLE1BQUs7QUFBQztBQUFBLElBQU87QUFDdEMsUUFBRyxLQUFLLGNBQWMsS0FBSyxLQUFHLE1BQUs7QUFBQztBQUFBLElBQU87QUFDM0MsUUFBSSxNQUFNLGVBQWUsNkJBQU0seUJBQWtCLE1BQU07QUFDdkQsUUFBRyxRQUFNLE1BQU07QUFDZCxZQUFNLEtBQUssT0FBTztBQUFBLFFBQ2pCO0FBQUEsUUFBTSxLQUFLO0FBQUEsUUFBSztBQUFBLE1BQ2pCO0FBQUEsSUFDRCxPQUFLO0FBQ0osWUFBTSxLQUFLLE9BQU87QUFBQSxRQUNqQjtBQUFBLFFBQU0sS0FBSztBQUFBLFFBQUssS0FBSyxLQUFLO0FBQUEsTUFDM0I7QUFBQSxJQUNEO0FBQ0EsUUFBRyxLQUFLLE9BQU8sU0FBUywyQkFBMEI7QUFDakQsVUFBSSx3QkFBTyxLQUFJLEdBQUk7QUFBQSxJQUNwQjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZUFBZSxPQUFZLE1BQWdCO0FBQ2hELFFBQUcsU0FBTyxRQUFRLFNBQU8sTUFBSztBQUFDO0FBQUEsSUFBTztBQUN0QyxRQUFHLEtBQUssY0FBYyxLQUFLLEtBQUcsTUFBSztBQUFDO0FBQUEsSUFBTztBQUMzQyxRQUFJLE1BQU0sd0JBQWlCLCtCQUFPLGdCQUFnQiw2QkFBTTtBQUN4RCxRQUFHLFFBQU0sTUFBTTtBQUNkLFlBQU0sS0FBSyxPQUFPO0FBQUEsUUFDakI7QUFBQSxRQUFNLEtBQUs7QUFBQSxRQUFLO0FBQUEsTUFDakI7QUFBQSxJQUNELE9BQUs7QUFDSixZQUFNLEtBQUssT0FBTztBQUFBLFFBQ2pCO0FBQUEsUUFBTSxLQUFLO0FBQUEsUUFBSyxLQUFLLEtBQUs7QUFBQSxNQUMzQjtBQUFBLElBQ0Q7QUFDQSxRQUFHLEtBQUssT0FBTyxTQUFTLDJCQUEwQjtBQUNqRCxVQUFJLHdCQUFPLEtBQUksR0FBSTtBQUFBLElBQ3BCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxvQkFBb0IsT0FBWSxNQUFXLE1BQVc7QUFDM0QsUUFBRyxTQUFPLFFBQVEsUUFBTSxRQUFNLFNBQU8sUUFBTSxTQUFPLE1BQUs7QUFBQztBQUFBLElBQU87QUFFL0QsUUFBRyxLQUFLLGNBQWMsS0FBSyxLQUFHLE1BQUs7QUFDbEMsWUFBTSxLQUFLLGVBQWUsT0FBTSxJQUFJO0FBQ3BDO0FBQUEsSUFDRDtBQUVBLFFBQUcsS0FBSyxjQUFjLEtBQUssS0FBRyxNQUFLO0FBQ2xDLFlBQU0sS0FBSyxlQUFlLE9BQU0sSUFBSTtBQUNwQztBQUFBLElBQ0Q7QUFFQSxRQUFJLE1BQU0sZUFBZSw2QkFBTSx5QkFBa0IsK0JBQU8sZ0JBQWdCLDZCQUFNO0FBQzlFLFFBQUksS0FBd0IsQ0FBQztBQUM3QixPQUFHLEtBQUssSUFBSSxJQUFJLE9BQUssS0FBSyxLQUFLLGVBQWE7QUFDNUMsT0FBRyxLQUFLLElBQUksSUFBSSxPQUFLLEtBQUssS0FBSyxlQUFhO0FBQzVDLFVBQU0sS0FBSyxPQUFPLE9BQU8sc0JBQXNCLE9BQU0sRUFBRTtBQUN2RCxRQUFHLEtBQUssT0FBTyxTQUFTLDJCQUEwQjtBQUNqRCxVQUFJLHdCQUFPLEtBQUksR0FBSTtBQUFBLElBQ3BCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxxQkFBcUIsTUFBVyxNQUFXO0FBQ2hELFVBQU0sS0FBSyxlQUFlLE1BQUssSUFBSTtBQUNuQyxVQUFNLEtBQUssZUFBZSxNQUFLLElBQUk7QUFBQSxFQUNwQztBQUFBLEVBRUEsTUFBTSxvQkFBb0IsUUFBb0I7QUFFN0MsUUFBSSxPQUFPLEtBQUssY0FBYyxPQUFPLENBQUMsQ0FBQztBQUN2QyxRQUFHLE9BQU8sU0FBUyxJQUFJLEdBQUU7QUFDeEIsWUFBTSxLQUFLLGVBQWUsT0FBTyxDQUFDLEdBQUUsSUFBSTtBQUFBLElBQ3pDO0FBR0EsUUFBSSxPQUFPLEtBQUssY0FBYyxPQUFPLE9BQU8sU0FBTyxDQUFDLENBQUM7QUFDckQsUUFBRyxPQUFPLFNBQVMsSUFBSSxHQUFFO0FBQ3hCLFlBQU0sS0FBSyxlQUFlLE9BQU8sT0FBTyxTQUFPLENBQUMsR0FBRSxJQUFJO0FBQUEsSUFDdkQ7QUFDQSxRQUFHLE9BQU8sVUFBUSxHQUFFO0FBQ25CO0FBQUEsSUFDRDtBQUNBLFFBQUksSUFBSSxPQUFPO0FBQ2YsVUFBTSxLQUFLLGVBQWUsT0FBTyxDQUFDLEdBQUUsT0FBTyxDQUFDLENBQUM7QUFDN0MsVUFBTSxLQUFLLGVBQWUsT0FBTyxJQUFFLENBQUMsR0FBRSxPQUFPLElBQUUsQ0FBQyxDQUFDO0FBQ2pELGFBQVEsSUFBRSxHQUFFLElBQUUsT0FBTyxTQUFPLEdBQUUsS0FBSTtBQUNqQyxZQUFNLEtBQUssb0JBQW9CLE9BQU8sQ0FBQyxHQUFFLE9BQU8sSUFBRSxDQUFDLEdBQUUsT0FBTyxJQUFFLENBQUMsQ0FBQztBQUFBLElBQ2pFO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlLE9BQVk7QUFDaEMsUUFBSSxRQUFRLEtBQUssY0FBYyxLQUFLO0FBQ3BDLFVBQU0sS0FBSyxxQkFBcUIsTUFBTSxDQUFDLEdBQUUsTUFBTSxDQUFDLENBQUM7QUFBQSxFQUNsRDtBQUFBLEVBRUEsTUFBTSwwQkFBMEIsT0FBWSxRQUFhO0FBQ3hELFFBQUksT0FBTyxLQUFLLGVBQWUsTUFBTTtBQUNyQyxVQUFNLEtBQUsscUJBQXFCLE9BQU0sSUFBSTtBQUFBLEVBQzNDO0FBQUEsRUFFQSxNQUFNLDBCQUEwQixPQUFZLFFBQWE7QUFDeEQsUUFBSSxPQUFPLEtBQUssY0FBYyxNQUFNO0FBQ3BDLFVBQU0sS0FBSyxxQkFBcUIsTUFBSyxLQUFLO0FBQUEsRUFDM0M7QUFBQSxFQUVBLE1BQU0sd0JBQXdCLE9BQVksUUFBYTtBQUN0RCxRQUFJLGNBQWMsS0FBSyxjQUFjLE1BQU07QUFDM0MsUUFBRyxlQUFhLE9BQU07QUFBQztBQUFBLElBQU87QUFFOUIsUUFBSSxpQkFBaUIsS0FBSyxjQUFjLEtBQUs7QUFDN0MsUUFBRyxlQUFlLENBQUMsS0FBRyxRQUFPO0FBQzVCLFlBQU0sS0FBSztBQUFBLFFBQ1YsQ0FBQyxlQUFlLENBQUMsR0FBRSxRQUFPLE9BQU0sV0FBVztBQUFBLE1BQzVDO0FBQUEsSUFDRCxPQUFLO0FBQ0osWUFBTSxLQUFLLGVBQWUsS0FBSztBQUMvQixZQUFNLEtBQUssb0JBQW9CLENBQUMsUUFBTyxPQUFNLFdBQVcsQ0FBQztBQUFBLElBQzFEO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSx5QkFBeUIsT0FBWSxRQUFhO0FBQ3ZELFFBQUksY0FBYyxLQUFLLGNBQWMsTUFBTTtBQUMzQyxRQUFHLGVBQWEsT0FBTTtBQUFDO0FBQUEsSUFBTztBQUM5QixRQUFJLGlCQUFpQixLQUFLLGNBQWMsS0FBSztBQUM3QyxRQUFHLGVBQWUsQ0FBQyxLQUFHLFFBQU87QUFDNUIsWUFBTSxLQUFLO0FBQUEsUUFDVixDQUFDLGFBQVksT0FBTSxRQUFPLGVBQWUsQ0FBQyxDQUFDO0FBQUEsTUFDNUM7QUFBQSxJQUNELE9BQUs7QUFDSixZQUFNLEtBQUssZUFBZSxLQUFLO0FBQy9CLFlBQU0sS0FBSyxvQkFBb0IsQ0FBQyxhQUFZLE9BQU0sTUFBTSxDQUFDO0FBQUEsSUFDMUQ7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLDBCQUEwQixPQUFZLFFBQWE7QUFDeEQsUUFBRyxDQUFDLE1BQU0sVUFBVSxNQUFNLE9BQU8sVUFBUSxPQUFPLFFBQU87QUFDdEQ7QUFBQSxJQUNEO0FBQ0EsUUFBSSxPQUFPLEtBQUssVUFBVSxNQUFNLE9BQU8sSUFBSTtBQUMzQyxRQUFHLENBQUMsTUFBSztBQUNSO0FBQUEsSUFDRDtBQUNBLFVBQU0sS0FBSyxPQUFPLE9BQU87QUFBQSxNQUN4QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLGtCQUFpQixLQUFLLE9BQU87QUFBQSxRQUM3Qix3QkFBdUI7QUFBQSxNQUNyQjtBQUFBLElBQ0o7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLHVCQUF1QixRQUFNLEtBQUssY0FBYSxPQUFLLGFBQVk7QUFDckUsUUFBSSxRQUFRLEtBQUssYUFBYSxLQUFLO0FBQ25DLFFBQUcsTUFBTSxVQUFRLEdBQUU7QUFBQztBQUFBLElBQU87QUFFM0IsUUFBSSxRQUFRLE1BQU0sS0FBSyxlQUFlLEtBQUs7QUFDM0MsVUFBTSxLQUFLLG9CQUFvQixLQUFLO0FBQUEsRUFDckM7QUFBQSxFQUVBLFlBQVksT0FBbUIsT0FBYztBQUM1QyxRQUFHLE9BQU8sVUFBVSxVQUFTO0FBQzVCLFVBQUcsVUFBUSxVQUFVLFVBQVEsZ0JBQWU7QUFDM0MsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBSyxFQUFFLEtBQUssY0FBYyxFQUFFLElBQUk7QUFBQSxRQUNwQztBQUFBLE1BQ0QsV0FBUyxVQUFRLFdBQVUsVUFBUSxrQkFBaUI7QUFDbkQsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBRTtBQWw4QlY7QUFrOEJhLDRCQUFFLFNBQUYsbUJBQVEsV0FBTSxPQUFFLFNBQUYsbUJBQVE7QUFBQTtBQUFBLFFBQy9CO0FBQUEsTUFDRCxXQUFTLFVBQVEsV0FBVyxVQUFRLGlCQUFnQjtBQUNuRCxlQUFPLE1BQU07QUFBQSxVQUNaLENBQUMsR0FBRSxNQUFFO0FBdDhCVjtBQXM4QmEsNEJBQUUsU0FBRixtQkFBUSxXQUFNLE9BQUUsU0FBRixtQkFBUTtBQUFBO0FBQUEsUUFDL0I7QUFBQSxNQUNELFdBQVMsVUFBUSx1QkFBc0I7QUFDdEMsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBSyxFQUFFLEtBQUssY0FBYyxFQUFFLElBQUk7QUFBQSxRQUNwQztBQUFBLE1BQ0QsV0FBUyxVQUFRLHlCQUF3QjtBQUN4QyxlQUFPLE1BQU07QUFBQSxVQUNaLENBQUMsR0FBRSxNQUFFO0FBOThCVjtBQTg4QmEsNEJBQUUsU0FBRixtQkFBUSxXQUFNLE9BQUUsU0FBRixtQkFBUTtBQUFBO0FBQUEsUUFDL0I7QUFBQSxNQUNELFdBQVMsVUFBUSx3QkFBdUI7QUFDdkMsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBRTtBQWw5QlY7QUFrOUJhLDRCQUFFLFNBQUYsbUJBQVEsV0FBTSxPQUFFLFNBQUYsbUJBQVE7QUFBQTtBQUFBLFFBQy9CO0FBQUEsTUFDRCxXQUFTLFVBQVEsU0FBUTtBQUN4QixlQUFPLEtBQUsscUJBQXFCLEtBQUs7QUFBQSxNQUN2QztBQUNBLGFBQU87QUFBQSxJQUNSLFdBQVMsT0FBTyxVQUFVLFVBQVM7QUFDbEMsVUFBRyxpQkFBaUIsT0FBTTtBQUN6QixZQUFJLFNBQVMsS0FBSyxZQUFZLE9BQU0sTUFBTSxDQUFDLENBQUM7QUFDNUMsWUFBRyxNQUFNLFVBQVEsR0FBRTtBQUNsQixjQUFHLE1BQU0sQ0FBQyxNQUFJLEtBQUk7QUFDakIsbUJBQU8sT0FBTyxRQUFRO0FBQUEsVUFDdkI7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLHFCQUFxQixRQUE0QjtBQUNoRCxRQUFJLFFBQVEsT0FBTyxPQUFPLE9BQUcsYUFBYSxzQkFBSztBQUMvQyxRQUFJLE1BQXNCLENBQUM7QUFDM0IsUUFBSSxVQUFrQixDQUFDO0FBQ3ZCLFdBQU0sTUFBTSxTQUFPLEdBQUU7QUFDcEIsVUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixVQUFHLGdCQUFnQix3QkFBTTtBQUN4QixZQUFJLFNBQVMsS0FBSyxVQUFVLE1BQUssSUFBRyxFQUFFO0FBQ3RDLGlCQUFRLEtBQUssUUFBTztBQUNuQixjQUFHLE1BQU0sU0FBUyxDQUFDLEdBQUU7QUFDcEIsb0JBQVEsS0FBSyxDQUFDO0FBQ2Qsa0JBQU0sT0FBTyxDQUFDO0FBQUEsVUFDZjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFFBQUksS0FBSyxHQUFHLE9BQU87QUFDbkIsUUFBSSxTQUFTLElBQUksT0FBTyxPQUFJLGFBQWEsMEJBQVUsRUFBRSxhQUFXLFFBQVM7QUFDekUsVUFBTSxJQUFJLE9BQU8sT0FBSSxhQUFhLDBCQUFVLEVBQUUsYUFBVyxRQUFTO0FBQ2xFLFFBQUksVUFBVSxPQUFPLE9BQU8sT0FBRyxhQUFhLHdCQUFPO0FBQ25ELFFBQUcsUUFBUSxTQUFPLEdBQUU7QUFLbkIsVUFBUyxVQUFULFNBQWlCLEdBQWdCO0FBQ2hDLFlBQUcsYUFBYSx3QkFBTTtBQUNyQixpQkFBTyxJQUFJLFFBQVEsQ0FBQztBQUFBLFFBQ3JCLFdBQVMsYUFBYSwwQkFBUTtBQUM3QixpQkFBTyxLQUFLLFFBQVEsUUFBUSxDQUFDLENBQUM7QUFBQSxRQUMvQixPQUFLO0FBQ0osaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQVpBLFVBQUksT0FBTyxRQUFRO0FBQUEsUUFDbEIsQ0FBQyxNQUFZLEtBQUssY0FBYyxHQUFFLE9BQU87QUFBQSxNQUMxQztBQUNBLFVBQUksS0FBSyxHQUFHLE9BQU87QUFVbkIsWUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFFLE1BQUksUUFBUSxDQUFDLElBQUUsUUFBUSxDQUFDLENBQUM7QUFBQSxJQUM1QztBQUVBLGFBQVEsU0FBUyxRQUFPO0FBQ3ZCLFVBQUksUUFBUSxJQUFJLElBQUksT0FBRyxhQUFhLDJCQUFRLEVBQUUsT0FBTyxFQUFZLFFBQVE7QUFDekUsVUFBSSxRQUFTLE1BQWdCO0FBQzdCLFVBQUksTUFBTSxNQUFNLFFBQVEsS0FBSztBQUM3QixVQUFHLE1BQUksR0FBRTtBQUNSLGNBQU0sTUFBTSxRQUFRLE1BQU0sTUFBTSxHQUFHLEVBQUUsTUFBTSxHQUFFLEVBQUUsRUFBRSxLQUFLLEdBQUcsQ0FBQztBQUFBLE1BQzNEO0FBQ0EsVUFBRyxNQUFJLEdBQUU7QUFDUixZQUFJLEtBQUssS0FBSztBQUFBLE1BQ2YsT0FBSztBQUNKLFlBQUksT0FBTyxNQUFJLEdBQUUsR0FBRSxLQUFLO0FBQUEsTUFFekI7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLHlCQUF5QixRQUFvQjtBQUM1QyxRQUFJLElBQUksT0FBTyxPQUFPLE9BQUcsYUFBYSx3QkFBTyxFQUFFLEtBQUssQ0FBQyxHQUFFLE1BQUssRUFBRSxLQUFLLGNBQWMsRUFBRSxJQUFJLENBQUU7QUFDekYsUUFBSSxJQUFJLE9BQU8sT0FBTyxPQUFHLGFBQWEsc0JBQUs7QUFDM0MsV0FBTyxLQUFLLE9BQU8sTUFBTSxhQUFhLENBQUMsR0FBRSxDQUFDLENBQUM7QUFBQSxFQUM1QztBQUFBLEVBRUEscUJBQXFCLFFBQW9CLE9BQWE7QUFDckQsUUFBSSxNQUFNLE9BQU87QUFBQSxNQUNoQixDQUFDLEdBQUUsTUFBSTtBQUNOLFlBQUksS0FBSyxLQUFLLE9BQU8sZ0JBQWdCLEdBQUUsS0FBSztBQUM1QyxZQUFJLEtBQUssS0FBSyxPQUFPLGdCQUFnQixHQUFFLEtBQUs7QUFDNUMsWUFBRyxPQUFPLE1BQUssT0FBTyxJQUFJO0FBQ3pCLGlCQUFPO0FBQUEsUUFDUjtBQUNBLFlBQUcsT0FBTyxNQUFLLFlBQVksT0FBTyxNQUFLLFVBQVM7QUFDL0MsaUJBQU8sS0FBSztBQUFBLFFBQ2I7QUFDQSxZQUFHLE9BQU8sTUFBSyxZQUFZLE9BQU8sTUFBSyxVQUFTO0FBQy9DLGNBQUksSUFBSyxHQUFjLGNBQWMsRUFBWTtBQUNqRCxpQkFBTztBQUFBLFFBQ1I7QUFDQSxlQUFPO0FBQUEsTUFDUjtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxlQUFlLFFBQW9CO0FBQ3hDLFFBQUcsQ0FBQyxRQUFPO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUN0QixRQUFHLE9BQU8sVUFBUSxHQUFFO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBQztBQUFDO0FBQy9CLFFBQUksS0FBSztBQUFBLE1BQ1IsU0FBUTtBQUFBLE1BQ1IsaUJBQWdCO0FBQUEsTUFDaEIsc0JBQXFCO0FBQUEsTUFDckIsc0JBQXFCO0FBQUEsTUFDckIsaUJBQWdCLENBQUMsUUFBTyxHQUFHO0FBQUEsTUFDM0Isc0JBQXFCLENBQUMsU0FBUSxHQUFHO0FBQUEsTUFDakMsc0JBQXFCLENBQUMsU0FBUSxHQUFHO0FBQUEsSUFDbEM7QUFDQSxRQUFJLFFBQVEsTUFBTSxLQUFLLE9BQU87QUFBQSxNQUM3QixPQUFPLEtBQUssRUFBRTtBQUFBLE1BQ2QsT0FBTyxPQUFPLEVBQUU7QUFBQSxJQUNqQjtBQUNBLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUMxQixRQUFHLFNBQU8sU0FBUTtBQUNqQixlQUFTLEtBQUssWUFBWSxRQUFPLE1BQU07QUFBQSxJQUN4QztBQUNBLFdBQU8sS0FBSyxZQUFZLFFBQU8sS0FBSztBQUFBLEVBQ3JDO0FBQUEsRUFFQSxxQkFBb0I7QUEva0NyQjtBQWdsQ0UsUUFBSSxRQUFPLFVBQUssSUFBSSxVQUFVO0FBQUEsTUFDN0I7QUFBQSxJQUNELEVBQUUsQ0FBQyxNQUZRLG1CQUVMO0FBQ04sUUFBRyxDQUFDLE1BQUs7QUFBQztBQUFBLElBQU87QUFDakIsU0FBSyxLQUFLO0FBQ1YsUUFBRyxLQUFLLE9BQU07QUFDYixlQUFRLFFBQVEsS0FBSyxXQUFVO0FBQzlCLFlBQUksT0FBTyxLQUFLLFVBQVUsSUFBSTtBQUM5QixZQUFHLEtBQUssV0FBVTtBQUNqQixjQUFJLFFBQVEsS0FBSyxVQUFVLFVBQVUsSUFBSSxDQUFDLE1BQVEsRUFBRSxJQUFJO0FBQ3hELGtCQUFRLEtBQUsscUJBQXFCLEtBQUs7QUFDdkMsY0FBSSxXQUFXLEtBQUssVUFBVSxVQUFVO0FBQUEsWUFDdkMsQ0FBQyxHQUFNLE1BQVEsTUFBTSxRQUFRLEVBQUUsSUFBSSxJQUFFLE1BQU0sUUFBUSxFQUFFLElBQUk7QUFBQSxVQUMxRDtBQUNBLGVBQUssVUFBVSxZQUFZLFFBQVE7QUFBQSxRQUNwQztBQUFBLE1BQ0Q7QUFDQSxXQUFLLEtBQUssZUFBZSxRQUFRO0FBQUEsSUFDbEM7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWUsT0FBWSxTQUFPLE1BQUssVUFBUSxNQUFLLFdBQVMsTUFBSyxTQUFPLE9BQU07QUFDcEYsUUFBSSxRQUEyQixDQUFDO0FBRWhDLFFBQUcsQ0FBQyxPQUFNO0FBQ1QsYUFBTztBQUFBLElBQ1I7QUFFQSxVQUFNLGVBQU0sTUFBTSxRQUFRLElBQUssS0FBSyxJQUFJLE1BQU0sUUFBZ0IsWUFBWSxNQUFNLElBQUk7QUFDcEYsUUFBRyxRQUFPO0FBQ1QsVUFBSTtBQUNKLFlBQU0sS0FBSyxPQUFPLGdCQUFnQixPQUFNLFFBQVE7QUFDaEQsVUFBRyxLQUFJO0FBQ04sWUFBRyxJQUFJLFNBQVMsWUFBWSxHQUFFO0FBQzdCLGdCQUFNLGlCQUFVLElBQUk7QUFBQSxRQUNyQixPQUFLO0FBQ0osZ0JBQU0saUJBQVUsSUFBSSx3QkFBc0I7QUFBQSxRQUMzQztBQUFBLE1BQ0Q7QUFDQSxZQUFNLEtBQUssT0FBTyxnQkFBZ0IsT0FBTSxhQUFhO0FBQ3JELFVBQUcsS0FBSTtBQUNOLFlBQUcsSUFBSSxTQUFTLGdCQUFnQixHQUFFO0FBQ2pDLGdCQUFNLCtCQUFpQixJQUFJO0FBQUEsUUFDNUIsT0FBSztBQUNKLGdCQUFNLCtCQUFpQixJQUFJLDRCQUEwQjtBQUFBLFFBQ3REO0FBQUEsTUFDRDtBQUNBLFlBQU0sS0FBSyxPQUFPLGdCQUFnQixPQUFNLE9BQU87QUFDL0MsVUFBRywyQkFBSyxJQUFHO0FBQ1YsY0FBTSxnQkFBUyxJQUFJLDRCQUF5QiwyQkFBSztBQUFBLE1BQ2xEO0FBR0EsVUFBSSxPQUFPLE1BQU0sS0FBSyxJQUFJLE1BQU0sV0FBVyxLQUFLO0FBRWhELFlBQU0sUUFBUTtBQUNkLFlBQU0sVUFBVSxLQUFLLE1BQU0sS0FBSztBQUNoQyxVQUFJLFNBQVM7QUFDWixtQkFBVyxTQUFTLFNBQVM7QUFFNUIsY0FBSSxNQUFNLE1BQU0sTUFBTSxHQUFFLE1BQU0sUUFBUSxJQUFJLENBQUM7QUFDM0MsY0FBSSxRQUFRLE1BQU0sTUFBTSxNQUFNLFFBQVEsSUFBSSxDQUFDLEVBQUUsTUFBTSxHQUFFLEVBQUU7QUFDdkQsY0FBRyxVQUFRLElBQUc7QUFBQztBQUFBLFVBQVM7QUFDeEIsY0FBRyxRQUFNLElBQUc7QUFDWCxrQkFBTTtBQUFBLFVBQ1A7QUFDQSxjQUFHLE1BQU0sV0FBVyxNQUFNLEdBQUU7QUFDM0Isa0JBQUksZUFBTTtBQUFBLFVBQ1gsV0FBUyxNQUFNLFdBQVcsVUFBVSxHQUFFO0FBQ3JDLG9CQUFRLE1BQU0sTUFBTSxDQUFDO0FBQ3JCLGtCQUFLLGVBQU87QUFBQSxVQUNiLE9BQUs7QUFDSixrQkFBTSxlQUFNO0FBQUEsVUFDYjtBQUNBLGdCQUFNLEdBQUcsSUFBSTtBQUFBLFFBQ2Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUNBLFFBQUcsU0FBUTtBQUNKLFVBQUksUUFBUSxLQUFLLFlBQVksT0FBTSxLQUFLO0FBQ3hDLGVBQVEsS0FBSyxPQUFNO0FBQ2YsWUFBRyxVQUFTLEVBQUUsRUFBRSxjQUFZLE9BQU07QUFBQztBQUFBLFFBQVM7QUFDckQsWUFBRyxFQUFFLGNBQVksTUFBSztBQUNyQixnQkFBTSxrQkFBTSxFQUFFLFFBQVEsSUFBSyxLQUFLLElBQUksTUFBTSxRQUFnQixZQUFZLEVBQUUsSUFBSTtBQUFBLFFBQzdFLE9BQUs7QUFDSixnQkFBTSxrQkFBTSxFQUFFLElBQUksSUFBSyxLQUFLLElBQUksTUFBTSxRQUFnQixZQUFZLEVBQUUsSUFBSTtBQUFBLFFBQ3pFO0FBQUEsTUFDSztBQUFBLElBQ0o7QUFDQSxRQUFHLFVBQVM7QUFDUixVQUFJLFFBQVEsS0FBSyxhQUFhLE9BQU0sS0FBSztBQUN6QyxlQUFRLEtBQUssT0FBTTtBQUNmLFlBQUcsVUFBUyxFQUFFLEVBQUUsY0FBWSxPQUFNO0FBQUM7QUFBQSxRQUFTO0FBQ3JELFlBQUcsRUFBRSxjQUFZLE1BQUs7QUFDckIsZ0JBQU0scUJBQU8sRUFBRSxRQUFRLElBQUssS0FBSyxJQUFJLE1BQU0sUUFBZ0IsWUFBWSxFQUFFLElBQUk7QUFBQSxRQUM5RSxPQUFLO0FBQ0osZ0JBQU0scUJBQU8sRUFBRSxJQUFJLElBQUssS0FBSyxJQUFJLE1BQU0sUUFBZ0IsWUFBWSxFQUFFLElBQUk7QUFBQSxRQUMxRTtBQUFBLE1BQ0s7QUFBQSxJQUNKO0FBQ0gsVUFBTSxpQkFBVSxJQUFLLEtBQUssSUFBSSxNQUFNLFFBQWdCLFlBQVksR0FBRztBQUNuRSxXQUFPO0FBQUEsRUFDUjtBQUVEOzs7QUU3cUNPLElBQU0sYUFBTixNQUFnQjtBQUFBLEVBS3RCLFlBQVksUUFBd0I7QUFKcEMsa0JBQVM7QUFLUixTQUFLLFNBQVM7QUFDZCxTQUFLLE1BQU0sT0FBTztBQUNsQixTQUFLLG1DQUFtQztBQUFBLEVBQ3pDO0FBQUEsRUFFQSxvQkFBb0IsUUFBcUI7QUFDeEMsUUFBSSxTQUFTO0FBQ2IsUUFBSSxRQUFRLElBQUksV0FBVyxNQUFNO0FBQ2pDLFFBQUksTUFBTSxNQUFNO0FBQ2hCLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxLQUFLO0FBQzdCLGdCQUFVLE9BQU8sYUFBYSxNQUFNLENBQUMsQ0FBQztBQUFBLElBQ3ZDO0FBQ0EsV0FBTyxPQUFPLEtBQUssTUFBTTtBQUFBLEVBQzFCO0FBQUEsRUFDQSxNQUFNLG1DQUFtQyxRQUFNLFlBQVc7QUFDekQsUUFBSSxLQUFLLEtBQUs7QUFDZCxPQUFHLG1DQUFtQyxPQUFPLE9BQzVDLFFBQ0EsSUFDQSxRQUNJO0FBckNQO0FBc0NHLGVBQVMsT0FBTyxLQUFLO0FBQ3JCLFVBQUk7QUFDSixVQUFHLFVBQVEsSUFBRztBQUNiLGlCQUFTLENBQUM7QUFBQSxNQUNYLE9BQUs7QUFDSixpQkFBUyxHQUFHLFNBQVMsT0FBTyxLQUFLLE1BQU07QUFBQSxNQUN4QztBQUVBLFVBQUksWUFBWSxHQUFHLFNBQVMsT0FBTyxFQUFFLEtBQUsscUJBQXFCLENBQUM7QUFFaEUsVUFBSSxPQUFTO0FBQ2IsVUFBRyxPQUFPLFVBQVUsS0FBRyxPQUFNO0FBQzVCLFlBQUksTUFBTTtBQUNWLGFBQUcsWUFBTyxhQUFQLG1CQUFpQixLQUFJO0FBQ3ZCLGdCQUFNLE9BQU8sVUFBVSxFQUFFLEtBQUs7QUFBQSxRQUMvQjtBQUNBLGVBQU8sVUFBVSxTQUFTLFlBQVcsRUFBQyxJQUFPLENBQUM7QUFDOUMsYUFBSyxNQUFNLFFBQVE7QUFDbkIsYUFBSyxNQUFNLFNBQVM7QUFDcEIsWUFBSSxTQUFRLFlBQU8sYUFBUCxtQkFBaUI7QUFDN0IsWUFBRyxTQUFTLE9BQU8sU0FBUSxVQUFTO0FBQ25DLG1CQUFRLFFBQVEsT0FBTTtBQUNyQixnQkFBRyxRQUFNLG1CQUFrQjtBQUMxQixrQkFBSSxNQUFNLEdBQUcsTUFBTSxVQUFVLE1BQU0sSUFBSSxDQUFDO0FBQ3hDLGtCQUFHLEtBQUk7QUFDTixvQkFBSSxPQUFPLE1BQU0sR0FBRyxJQUFJLE1BQU0sV0FBVyxHQUFHO0FBQzVDLG9CQUFJLE9BQU8sS0FBSyxvQkFBb0IsSUFBSTtBQUN4QyxvQkFBSSxPQUFPLHlCQUF5QjtBQUNwQyxnQkFBQyxLQUFhLE1BQU0sSUFBSSxJQUFJLFFBQVE7QUFDcEM7QUFBQSxjQUNEO0FBQUEsWUFDRDtBQUNBLFlBQUMsS0FBYSxNQUFNLElBQUksSUFBSSxNQUFNLElBQUk7QUFBQSxVQUN2QztBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQ0EsZUFBUSxLQUFLLFFBQU87QUFDbkIsWUFBRyxFQUFFLFdBQVcsU0FBUyxHQUFFO0FBQzFCLGNBQUksT0FBTyxPQUFPLENBQUM7QUFDbkIsY0FBRyxRQUFRLE1BQU0sUUFBUSxJQUFJLEdBQUU7QUFFOUIsZ0JBQUksa0JBQWtCLFVBQVUsU0FBUyxPQUFPLEVBQUUsS0FBSyxvQ0FBb0MsQ0FBQztBQUM1Riw0QkFBZ0IsTUFBTSxVQUFVO0FBQ2hDLDRCQUFnQixNQUFNLGlCQUFpQjtBQUN2Qyw0QkFBZ0IsTUFBTSxZQUFZO0FBQ2xDLHFCQUFRLE9BQU8sTUFBSztBQUNuQixrQkFBSSxPQUFPLElBQUksQ0FBQztBQUNoQixrQkFBSSxRQUFRLElBQUksQ0FBQztBQUNqQixrQkFBRyxDQUFDLFFBQVEsQ0FBQyxPQUFNO0FBQUM7QUFBQSxjQUFRO0FBRTVCLGtCQUFJLE1BQU07QUFDVixrQkFBRyxJQUFJLENBQUMsR0FBRTtBQUNULHNCQUFNLElBQUksQ0FBQztBQUFBLGNBQ1o7QUFFQSxrQkFBSSxRQUFTLEdBQUcsU0FBaUIsS0FBSztBQUN0QyxrQkFBRyxDQUFDLE9BQU07QUFFVCx3QkFBUSxNQUFNLEdBQUcsTUFBTSxhQUFhLEdBQUcsS0FBSSxLQUFLO0FBQUEsY0FDakQ7QUFDQSxrQkFBRyxPQUFNO0FBQ1Isb0JBQUksT0FBTyxnQkFBZ0IsU0FBUyxVQUFVLEVBQUUsTUFBTSxNQUFLLElBQU8sQ0FBQztBQUNuRSxxQkFBSyxpQkFBaUIsU0FBUyxNQUFNO0FBQ3BDLHdCQUFNLE1BQUssUUFBTyxJQUFHLEdBQUc7QUFBQSxnQkFDekIsQ0FBQztBQUNEO0FBQUEsY0FDRDtBQUdBLGtCQUFJLEtBQUssUUFBRyxJQUFZLGFBQWYsbUJBQXlCLFlBQVk7QUFDOUMsa0JBQUcsR0FBRTtBQUNKLG9CQUFJLE9BQU8sZ0JBQWdCLFNBQVMsVUFBVSxFQUFFLE1BQU0sTUFBSyxJQUFPLENBQUM7QUFDbkUscUJBQUssaUJBQWlCLFNBQVMsTUFBTTtBQUNwQyxrQkFBQyxHQUFHLElBQVksU0FBUyxtQkFBbUIsS0FBSztBQUFBLGdCQUNsRCxDQUFDO0FBQ0Q7QUFBQSxjQUNEO0FBRUEsa0JBQUksUUFBUSxHQUFHLE1BQU0sVUFBVSxLQUFLO0FBQ3BDLGtCQUFHLE9BQU07QUFDUixvQkFBSSxPQUFPLGdCQUFnQixTQUFTLFVBQVUsRUFBRSxNQUFNLE1BQUssSUFBTyxDQUFDO0FBQ25FLHFCQUFLLGlCQUFpQixTQUFTLE1BQU07QUFDcEMscUJBQUcsTUFBTTtBQUFBLG9CQUNSLEdBQUc7QUFBQSxvQkFBSTtBQUFBLG9CQUFNO0FBQUEsb0JBQUs7QUFBQSxzQkFDakI7QUFBQSxzQkFDQTtBQUFBLHNCQUNBO0FBQUEsc0JBQ0E7QUFBQSxvQkFDRDtBQUFBLGtCQUNEO0FBQUEsZ0JBQ0QsQ0FBQztBQUNEO0FBQUEsY0FDRDtBQUFBLFlBQ0Q7QUFDQSxzQkFBVSxZQUFZLGVBQWU7QUFBQSxVQUN0QztBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBRUEsVUFBRyxRQUFRLE9BQU8sT0FBTyxLQUFHLE9BQU07QUFDakMsYUFBSyxNQUFNO0FBQUEsTUFDWjtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVBLFdBQVcsTUFBMkI7QUFDckMsU0FBSyxRQUFRO0FBQUEsRUFDZDtBQUFBLEVBRUEsVUFBVSxNQUEyQjtBQUNwQyxTQUFLLE9BQU87QUFDWixjQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUs7QUFBQSxFQUN6QztBQUFBLEVBRUEsU0FBUyxNQUEyQjtBQUNuQyxZQUFRLElBQUksa0NBQWM7QUFDMUIsWUFBUSxJQUFJLElBQUk7QUFBQSxFQUNqQjtBQUNEOzs7QUM1SkEsSUFBQUMsbUJBRU87QUE0Q1AsSUFBSSx1QkFBdUIsU0FBUyxVQUFtQjtBQUN0RCxNQUFJLFNBQVUsS0FBSyxJQUFZLFFBQVEsVUFBVSxZQUFZO0FBQzdELFNBQU8sU0FBUyxHQUFNO0FBQ3JCLFFBQUcsUUFBTztBQUNULFVBQUc7QUFDRixZQUFJLE1BQU0sU0FBUyxLQUFLLE1BQUssQ0FBQztBQUM5QixZQUFJLFNBQVMsT0FBTyxNQUFNLFNBQVMsRUFBRSxJQUFJO0FBQ3pDLFlBQUcsUUFBTztBQUNULGdCQUFNLElBQUksS0FBSyxDQUFDLEdBQU0sTUFBUSxPQUFPLFFBQVEsRUFBRSxJQUFJLElBQUUsT0FBTyxRQUFRLEVBQUUsSUFBSSxDQUFDO0FBQUEsUUFDNUU7QUFDQSxlQUFPO0FBQUEsTUFDUixTQUFPQyxJQUFOO0FBQ0EsZUFBTyxTQUFTLEtBQUssTUFBS0EsRUFBQztBQUFBLE1BQzVCO0FBQUEsSUFDRCxPQUFLO0FBQ0osYUFBTyxTQUFTLEtBQUssTUFBSyxDQUFDO0FBQUEsSUFDNUI7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFJLFlBQVksU0FBUyxjQUF1QjtBQUMvQyxNQUFJLFNBQVUsS0FBSyxJQUFZLFFBQVEsVUFBVSxZQUFZO0FBQzdELFNBQU8sU0FBUyxHQUFNO0FBQ3JCLFFBQUcsUUFBTztBQUNULFVBQUc7QUFDRixZQUFJLE1BQU0sT0FBTyxTQUFTLGlCQUFpQixLQUFLLElBQUk7QUFDcEQsZUFBTztBQUFBLE1BQ1IsU0FBT0EsSUFBTjtBQUNBLGVBQU8sYUFBYSxLQUFLLElBQUk7QUFBQSxNQUM5QjtBQUFBLElBQ0QsT0FBSztBQUNKLGFBQU8sYUFBYSxLQUFLLElBQUk7QUFBQSxJQUM5QjtBQUFBLEVBQ0Q7QUFDRDtBQUVPLElBQU0saUJBQU4sTUFBb0I7QUFBQSxFQVUxQixZQUFZLFFBQXVCO0FBQ2xDLFNBQUssU0FBUztBQUNkLFNBQUssUUFBUSxPQUFPO0FBQ3BCLFNBQUssTUFBTSxPQUFPO0FBQ2xCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLE1BQU0sV0FBVTtBQUNmLFVBQU0sS0FBSyxvQkFBb0I7QUFDL0IsU0FBSyx1QkFBdUIsS0FBSyxjQUFjLFlBQVksVUFBVTtBQUNyRSxTQUFLLDJCQUEyQixxQkFBcUIsS0FBSyxvQkFBb0I7QUFDOUUsU0FBSyxjQUFjLFlBQVksVUFBVSx1QkFBdUIsS0FBSztBQUNyRSxRQUFJO0FBQ0gsVUFBSSxPQUFRLEtBQUssY0FBc0IsVUFDdEMsS0FBSyxPQUFPLE1BQU0sZUFBZSxFQUFFLENBQUMsRUFBRSxJQUN2QztBQUVBLFVBQUcsTUFBSztBQUNQLGFBQUssV0FBVyxLQUFLLFlBQVksVUFBVTtBQUMzQyxhQUFLLGVBQWUsVUFBVSxLQUFLLFFBQVE7QUFDM0MsYUFBSyxZQUFZLFVBQVUsV0FBVyxLQUFLO0FBQUEsTUFDNUM7QUFFQSxXQUFLLEtBQUssR0FBRSxJQUFJO0FBQ2hCLFdBQUssaUJBQWlCO0FBQ3RCLFdBQUssbUJBQW1CO0FBQUEsSUFFekIsU0FBUyxPQUFQO0FBQUEsSUFFRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sYUFBWTtBQUNqQixRQUFHLEtBQUssc0JBQXFCO0FBQzVCLFdBQUssY0FBYyxZQUFZLFVBQVUsdUJBQXVCLEtBQUs7QUFBQSxJQUN0RTtBQUVBLFFBQUksUUFBUyxLQUFLLGNBQXNCO0FBQ3hDLGFBQVEsT0FBTyxPQUFNO0FBQ3BCLFVBQUksT0FBTyxNQUFNLEdBQUc7QUFDcEIsWUFBTSxLQUFLLG1CQUFtQixNQUFLLEtBQUssZ0JBQWdCLEtBQUssSUFBSSxDQUFDO0FBQ2xFLFdBQUssR0FBRyxNQUFNLGFBQWE7QUFDM0IsV0FBSyxHQUFHLE1BQU0sU0FBUztBQUFBLElBQ3hCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxzQkFBc0I7QUFDM0IsV0FBTyxDQUFFLEtBQUssY0FBc0IsV0FBVztBQUM5QyxZQUFNLElBQUksUUFBUSxhQUFXLFdBQVcsU0FBUyxHQUFHLENBQUM7QUFBQSxJQUN0RDtBQUNBLFdBQVEsS0FBSyxjQUFzQjtBQUFBLEVBQ3BDO0FBQUEsRUFFQSxJQUFJLGdCQUFlO0FBakpwQjtBQWtKRSxRQUFJLElBQUksS0FBSyxJQUFJLFVBQVU7QUFBQSxNQUMxQjtBQUFBLElBQ0Q7QUFDQSxRQUFJLFFBQU8sT0FBRSxDQUFDLE1BQUgsbUJBQU07QUFDakIsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sS0FBSyxTQUFPLEdBQUUsT0FBSyxPQUFNO0FBekpoQztBQTBKRSxTQUFJLFVBQUssa0JBQUwsbUJBQTRCLE1BQUs7QUFDcEMsVUFBRyxTQUFPLEdBQUU7QUFDWCxjQUFNLE1BQU0sTUFBTTtBQUFBLE1BQ25CO0FBQ0EsVUFBRyxNQUFLO0FBQ1AsYUFBSyxPQUFPLE1BQU0sY0FBYztBQUFBLE1BQ2pDO0FBRUEsVUFBRyxPQUFPLEtBQUssS0FBSyxPQUFPLE1BQU0sUUFBUSxFQUFFLFVBQVEsR0FBRTtBQUNwRCxtQkFBVyxNQUFJO0FBQ2QsZUFBSyxLQUFLLFFBQU8sSUFBSTtBQUFBLFFBQ3RCLEdBQUcsR0FBSTtBQUFBLE1BQ1IsT0FBSztBQUNKLFFBQUMsS0FBSyxjQUFzQixLQUFLO0FBQUEsTUFDbEM7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsMEJBQTBCLE9BQTJCO0FBQ3BELFFBQUcsS0FBSyxPQUFPLFNBQVMsdUJBQXNCO0FBQzdDLFVBQUksT0FBUSxLQUFLLE9BQU8sT0FBTyx1QkFBdUIsT0FBTSxLQUFLLE9BQU8sU0FBUyxxQkFBcUI7QUFDdEcsVUFBRyxPQUFPLFFBQVMsVUFBUztBQUMzQixlQUFPO0FBQUEsTUFDUjtBQUNBLGFBQU87QUFBQSxJQUNSO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGdCQUFnQixPQUFvQjtBQUNuQyxRQUFHLGlCQUFpQix3QkFBTTtBQUN6QixVQUFHLE1BQU0sYUFBVyxNQUFLO0FBQ3hCLGVBQU8sTUFBTTtBQUFBLE1BQ2QsV0FBUyxNQUFNLGFBQVcsVUFBUztBQUNsQyxlQUFPLE1BQU07QUFBQSxNQUNkLE9BQUs7QUFDSixlQUFPLE1BQU07QUFBQSxNQUNkO0FBQUEsSUFDRCxPQUFLO0FBQ0osYUFBTyxNQUFNO0FBQUEsSUFDZDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFNBQVMsT0FBb0IsT0FBYTtBQXJNM0M7QUFzTUUsUUFBRyxDQUFDLE9BQU07QUFBQyxhQUFPO0FBQUEsSUFBRTtBQUNwQixRQUFJLFNBQVMsTUFBTSxNQUFNLEdBQUc7QUFDNUIsUUFBSSxPQUFXO0FBQ2YsYUFBUSxLQUFLLFFBQU87QUFDbkIsVUFBRyxLQUFHLE1BQUs7QUFDVixlQUFPLEtBQUssZ0JBQWdCLEtBQUs7QUFBQSxNQUNsQztBQUNBLFVBQUcsRUFBRSxXQUFXLEdBQUcsR0FBRTtBQUNwQjtBQUFBLE1BQ0Q7QUFDQSxVQUFHLGlCQUFpQix3QkFBTTtBQUN6QixZQUFJLElBQUksS0FBSyxPQUFPLE9BQU8sZ0JBQWdCLE9BQU0sQ0FBQztBQUNsRCxZQUFHLE9BQU8sTUFBTSxVQUFTO0FBQ3hCLGlCQUFPLEdBQUc7QUFBQSxRQUNYLFdBQVMsT0FBTyxLQUFJLFlBQVksS0FBRyxJQUFHO0FBQ3JDO0FBQUEsUUFDRDtBQUNBLGVBQU87QUFDUDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsVUFBRyxZQUFPLEtBQUssTUFBWixtQkFBZSxXQUFXLFNBQVEsTUFBSztBQUN6QyxlQUFPLFlBQU8sS0FBSyxNQUFaLG1CQUFlLE1BQU0sR0FBRyxRQUFRLFFBQU8sVUFBVTtBQUFBLElBQ3pEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGlCQUFpQixPQUFxQjtBQUNyQyxRQUFJLE1BQU0sS0FBSywwQkFBMEIsS0FBSztBQUc5QyxRQUFHLENBQUMsT0FBTyxLQUFLLE9BQU8sU0FBUyxnQ0FBK0I7QUFDOUQsWUFBTSxJQUFJLEtBQUssT0FBTyxTQUFTO0FBQUEsSUFDaEMsT0FBSztBQUNKLFlBQU0sSUFBSSxLQUFLLE9BQU8sU0FBUyxrQ0FBa0M7QUFBQSxJQUNsRTtBQUVBLFFBQUcsQ0FBQyxPQUFPLE9BQUssUUFBUSxPQUFLLFFBQU87QUFDbkMsYUFBTyxLQUFLLGdCQUFnQixLQUFLO0FBQUEsSUFDbEM7QUFFQSxRQUFJLE9BQU8sSUFBSSxRQUFRLGVBQWUsQ0FBQyxPQUFjLFVBQWlCO0FBQ3JFLGFBQU8sS0FBSyxTQUFTLE9BQU0sS0FBSztBQUFBLElBQ2pDLENBQUM7QUFDRCxXQUFPO0FBQ1AsUUFBRyxRQUFNLElBQUc7QUFDWCxhQUFPLEtBQUssZ0JBQWdCLEtBQUs7QUFBQSxJQUNsQyxPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxtQkFBbUIsTUFBUyxLQUFRO0FBQ25DLFFBQUcsUUFBUSxLQUFJO0FBQ2QsVUFBRyxPQUFPLE9BQU0sVUFBUztBQUN4QixhQUFLLFFBQVEsUUFBUSxHQUFHO0FBQUEsTUFDekI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBQ0EsbUJBQWtCO0FBQ2pCLFFBQUksUUFBUyxLQUFLLGNBQXNCO0FBQ3hDLGFBQVEsT0FBTyxPQUFNO0FBQ3BCLFVBQUksT0FBTyxNQUFNLEdBQUc7QUFDcEIsVUFBSSxNQUFNLEtBQUssaUJBQWlCLEtBQUssSUFBSTtBQUN6QyxXQUFLLG1CQUFtQixNQUFLLEdBQUc7QUFBQSxJQUNqQztBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sbUJBQW1CLE9BQW9CO0FBQzVDLFFBQUcsS0FBSyxPQUFPLFNBQVMsMkJBQTBCO0FBQ2pELFVBQUksUUFBUSxLQUFLLE9BQU8sT0FBTyx1QkFBdUIsT0FBTSxLQUFLLE9BQU8sU0FBUyx5QkFBeUI7QUFDMUcsVUFBRyxPQUFPLFNBQVEsVUFBUztBQUMxQixZQUFJLE9BQU8sTUFBTSxLQUFLLE9BQU8sTUFBTSxhQUFhLEtBQUssS0FBSSxLQUFLO0FBQzlELFlBQUcsTUFBSztBQUNQLGlCQUFPO0FBQUEsUUFDUjtBQUFBLE1BQ0Q7QUFDQSxhQUFPO0FBQUEsSUFDUjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLHFCQUFvQjtBQUN6QixRQUFJLFFBQVMsS0FBSyxjQUFzQjtBQUN4QyxhQUFRLE9BQU8sT0FBTTtBQUNwQixVQUFJLE9BQU8sTUFBTSxHQUFHO0FBQ3BCLFVBQUksUUFBUSxNQUFNLEtBQUssbUJBQW1CLEtBQUssSUFBSTtBQUNuRCxZQUFNLEtBQUssMkJBQTJCLEtBQUssTUFBSyxLQUFLO0FBQUEsSUFDdEQ7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLDJCQUEyQixPQUFvQixRQUFNLE1BQUs7QUFDL0QsUUFBRyxDQUFDLE9BQU07QUFBQztBQUFBLElBQU07QUFDakIsUUFBRyxDQUFDLE9BQU07QUFDVCxjQUFRLE1BQU0sS0FBSyxtQkFBbUIsS0FBSztBQUFBLElBQzVDO0FBQ0EsUUFBSSxRQUFTLEtBQUssY0FBc0I7QUFDeEMsUUFBSSxPQUFPLE1BQU0sTUFBTSxJQUFJO0FBQzNCLFFBQUcsTUFBSztBQUNQLFVBQUcsT0FBTyxTQUFRLFlBQVc7QUFDNUIsZ0JBQVEsTUFBTyxNQUFjLEtBQUs7QUFDbEMsWUFBRyxDQUFDLE9BQU07QUFDVDtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQ0EsVUFBRyxTQUFPLE1BQUs7QUFDZCxhQUFLLEdBQUcsTUFBTSxhQUFhO0FBQzNCLGFBQUssR0FBRyxNQUFNLFNBQVM7QUFBQSxNQUN4QixXQUFVLE9BQU8sU0FBUSxVQUFTO0FBQ2pDLGFBQUssR0FBRyxNQUFNLGFBQWE7QUFBQSxNQUM1QixXQUFTLE9BQU8sU0FBUSxVQUFTO0FBQ2hDLGlCQUFRLEtBQU0sT0FBYztBQUMzQixVQUFDLEtBQWEsR0FBRyxNQUFNLENBQUMsSUFBSyxNQUFjLENBQUM7QUFBQSxRQUM3QztBQUFBLE1BQ0QsV0FBUyxPQUFPLFNBQVEsWUFBVztBQUNsQyxjQUFPLE1BQWMsS0FBSztBQUFBLE1BQzNCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDs7O0FDM1RPLElBQU0sVUFBTixNQUFhO0FBQUEsRUFFaEIsY0FBYTtBQUNULFFBQUksT0FBTyxPQUFPLGFBQWEsUUFBUSxVQUFVO0FBQ2pELFFBQUcsTUFBSztBQUNKLFdBQUssV0FBVztBQUFBLElBQ3BCLE9BQUs7QUFDRCxXQUFLLFdBQVc7QUFBQSxJQUNwQjtBQUFBLEVBQ1A7QUFBQSxFQUVHLElBQUksNkJBQTRCO0FBQzVCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSwrQkFBOEI7QUFDOUIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLDZCQUE0QjtBQUM1QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUdBLElBQUksZ0NBQStCO0FBQy9CLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxtQ0FBa0M7QUFDbEMsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGtCQUFpQjtBQUNqQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUdBLElBQUkseUJBQXdCO0FBQ3hCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSx5QkFBd0I7QUFDeEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLHlCQUF3QjtBQUN4QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUkseUJBQXdCO0FBQ3hCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxnQkFBZTtBQUNmLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxxQkFBb0I7QUFDcEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLHFCQUFvQjtBQUNwQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksdUJBQXNCO0FBQ3RCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxxQkFBb0I7QUFDcEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGtCQUFpQjtBQUNqQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksMkJBQTBCO0FBQzFCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxtQ0FBa0M7QUFDbEMsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLG1DQUFrQztBQUNsQyxRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksNkJBQTRCO0FBQzVCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSwrQkFBOEI7QUFDOUIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLHNCQUFxQjtBQUNyQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksc0JBQXFCO0FBQ3JCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxzQkFBcUI7QUFDckIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLHNCQUFxQjtBQUNyQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksd0JBQXVCO0FBQ3ZCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBR0EsSUFBSSw0QkFBMkI7QUFDM0IsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLDZCQUE0QjtBQUM1QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksOEJBQTZCO0FBQzdCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxnQkFBZTtBQUNmLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSw4QkFBNkI7QUFDN0IsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLDBCQUF5QjtBQUN6QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksb0JBQW1CO0FBQ25CLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxxQkFBb0I7QUFDcEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGtCQUFpQjtBQUNqQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksNkJBQTRCO0FBQzVCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSx3QkFBdUI7QUFDdkIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLG9CQUFtQjtBQUNuQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksb0JBQW1CO0FBQ25CLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSw2QkFBNEI7QUFDNUIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPLEdBQUcsS0FBSztBQUFBLElBQ25CLE9BQUs7QUFDRCxhQUFPLEdBQUcsS0FBSztBQUFBLElBQ25CO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSx5QkFBd0I7QUFDeEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLDBCQUF5QjtBQUN6QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksdUJBQXNCO0FBQ3RCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxtQkFBa0I7QUFDbEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGdCQUFlO0FBQ2YsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFHQSxJQUFJLDJCQUEwQjtBQUMxQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksb0NBQW1DO0FBQ25DLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBR0EsSUFBSSxnQ0FBK0I7QUFDL0IsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGdDQUErQjtBQUMvQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksb0NBQW1DO0FBQ25DLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBR0EsSUFBSSx3QkFBdUI7QUFDdkIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLHlCQUF3QjtBQUN4QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksMEJBQXlCO0FBQ3pCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSwyQkFBMEI7QUFDMUIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLDJCQUEwQjtBQUMxQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksMkJBQTBCO0FBQzFCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxvQkFBbUI7QUFDbkIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLG1CQUFrQjtBQUNsQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksd0JBQXVCO0FBQ3ZCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxjQUFhO0FBQ2IsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGdCQUFlO0FBQ2YsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGdCQUFlO0FBQ2YsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGNBQWE7QUFDYixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksbUJBQWtCO0FBQ2xCLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxpQkFBZ0I7QUFDaEIsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLG1CQUFrQjtBQUNsQixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksK0JBQXFDO0FBQ3JDLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSxpQ0FBdUM7QUFDdkMsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGdDQUFzQztBQUN0QyxRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFBQSxFQUVBLElBQUksaUNBQXVDO0FBQ3ZDLFFBQUcsS0FBSyxZQUFVLE1BQUs7QUFDbkIsYUFBTztBQUFBLElBQ1gsT0FBSztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUFBLEVBRUEsSUFBSSw4QkFBb0M7QUFDcEMsUUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixhQUFPO0FBQUEsSUFDWCxPQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFFQSxJQUFJLGtCQUF3QjtBQUN4QixRQUFHLEtBQUssWUFBVSxNQUFLO0FBQ25CLGFBQU87QUFBQSxJQUNYLE9BQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFFSjtBQUdPLElBQUksVUFBVSxJQUFJLFFBQVE7OztBQ3JsQmpDLElBQUFDLG1CQUlPO0FBS0EsSUFBTSxZQUFOLE1BQWU7QUFBQSxFQVFyQixZQUFZLFFBQXVCLEtBQVE7QUFDcEMsU0FBSyxTQUFTO0FBQ3BCLFNBQUssTUFBTTtBQUNYLFNBQUssU0FBTztBQUNOLFNBQUssU0FBUyxJQUFJLE1BQU07QUFDeEIsU0FBSyxTQUFTO0FBQUEsRUFDckI7QUFBQSxFQUVHLE9BQU8sT0FBWTtBQTFCdkI7QUEyQlEsUUFBRyxDQUFDLE9BQU07QUFBQyxhQUFPO0FBQUEsSUFBTTtBQUN4QixRQUFJLE1BQWMsU0FBUTtBQUFDLGFBQU87QUFBQSxJQUFNO0FBQ3hDLFFBQUcsTUFBTSxhQUFXLE1BQUs7QUFBQyxhQUFPO0FBQUEsSUFBTTtBQUN2QyxRQUFJLFdBQVcsS0FBSyxPQUFPLFNBQVMsaUJBQWlCLE1BQU0sSUFBSSxFQUFFLE9BQU8sT0FBRyxLQUFHLEVBQUU7QUFDaEYsYUFBUSxRQUFRLFVBQVM7QUFDckIsVUFBRyxNQUFNLEtBQUssV0FBVyxJQUFJLEdBQUU7QUFDM0IsZUFBTztBQUFBLE1BQ1gsV0FBUyxRQUFNLEtBQUk7QUFDZixjQUFHLFdBQU0sV0FBTixtQkFBYyxTQUFNLEtBQUk7QUFDdkIsaUJBQU87QUFBQSxRQUNYO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBO0FBQUEsRUFHQSxZQUFZLEtBQVcsU0FBTyw2REFBNEQ7QUFDdEYsUUFBSSxJQUFJLElBQUksUUFBUSxRQUFRLEVBQUUsRUFBRTtBQUNoQyxRQUFJLFVBQVU7QUFDZCxRQUFJLFVBQVUsSUFBSSxNQUFNLE9BQU87QUFDL0IsUUFBRyxTQUFRO0FBQ1AsVUFBSSxPQUFLO0FBQ1QsY0FBUSxRQUFRLE9BQUcsT0FBSyxPQUFLLEVBQUUsTUFBTTtBQUNyQyxVQUFJLElBQUUsT0FBSyxRQUFRO0FBQUEsSUFDdkI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBRUEsTUFBTSxnQkFBZ0IsT0FBWSxLQUFXLEtBQVc7QUF4RDVEO0FBMERRLFFBQUksYUFBYSxLQUFLLElBQUksVUFBVSxvQkFBb0IsNkJBQVk7QUFDcEUsUUFBSSxjQU1BLENBQUM7QUFFTCxRQUFJLGNBQWMsV0FBVyxTQUFTLE9BQU87QUFDekMsVUFBSSxTQUFTLFdBQVc7QUFDeEIsVUFBSSxRQUFRO0FBQ1Isb0JBQVksU0FBUyxPQUFPLFVBQVU7QUFDdEMsb0JBQVksWUFBWSxPQUFPLGFBQWE7QUFDNUMsb0JBQVksVUFBVSxPQUFPLFVBQVUsUUFBUTtBQUMvQyxvQkFBWSxRQUFRLE9BQU8sVUFBVSxNQUFNO0FBQzNDLG9CQUFZLGFBQWEsT0FBTyxjQUFjO0FBQUEsTUFDbEQ7QUFBQSxJQUNKO0FBQ0EsUUFBSSxVQUFRLGdEQUFhLFdBQWIsbUJBQXFCLFVBQVMsVUFDcEMsOENBQVksV0FBWixtQkFBb0IsUUFBUSxZQUFZLE9BQU8sUUFDL0M7QUFDTixRQUFHLFNBQVMsTUFBTSxXQUFXLEdBQUcsS0FBSyxNQUFNLFNBQVMsR0FBRyxHQUFFO0FBQ3JEO0FBQUEsSUFDSjtBQUNBLFVBQU0sS0FBSyxJQUFJLFlBQVk7QUFBQSxNQUN2QjtBQUFBLE1BQ0EsQ0FBQyxPQUFNO0FBQ0gsWUFBSSxJQUFJLHdCQUFPLEtBQUssTUFBTSxLQUFLLFFBQU0sR0FBSTtBQUN6QyxZQUFJLFFBQVEsRUFBRSxPQUFPLFlBQVk7QUFDakMsWUFBRyxHQUFHLEdBQUcsS0FBRyxNQUFLO0FBQ2IsY0FBRyxNQUFJLEdBQUU7QUFDTCxlQUFHLEdBQUcsSUFBSSxDQUFDO0FBQ1gsZ0JBQUcsYUFBUSx5QkFBTyxFQUFFLE9BQU8sWUFBWSxLQUFLLFNBQU8sd0JBQU8sS0FBSyxNQUFNLEtBQUssUUFBTSxHQUFJLEVBQUUsT0FBTyxZQUFZLEdBQUU7QUFDdkcsaUJBQUcsR0FBRyxFQUFFLEVBQUUsSUFBSSxJQUFHLE1BQU0sRUFBRSxPQUFPLFlBQVksQ0FBQyxJQUFJO0FBQUEsWUFDckQsT0FBSztBQUNELGlCQUFHLEdBQUcsRUFBRSxLQUFLLElBQUk7QUFBQSxZQUNyQjtBQUFBLFVBQ0o7QUFBQSxRQUNKLE9BQUs7QUFDRCxjQUFJLEtBQUssT0FBTyxLQUFLLEdBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUUsTUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxPQUFHLEVBQUUsS0FBRyxNQUFNO0FBQ25GLGNBQUcsR0FBRyxVQUFRLEdBQUU7QUFDWixnQkFBRyxNQUFJLEdBQUU7QUFDTCxpQkFBRyxHQUFHLEVBQUUsS0FBSyxJQUFJO0FBQUEsWUFDckIsV0FBUyxHQUFHLEdBQUcsRUFBRSxLQUFLLEdBQUU7QUFDcEIsaUJBQUcsR0FBRyxFQUFFLEtBQUssSUFBSTtBQUFBLFlBQ3JCO0FBQUEsVUFDSixPQUFLO0FBQ0QsZ0JBQUksTUFBSSxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFJLEdBQUU7QUFDdkIsaUJBQUcsR0FBRyxFQUFFLEtBQUssSUFBSTtBQUFBLFlBQ3JCLFdBQVMsR0FBRyxHQUFHLEVBQUUsS0FBSyxHQUFFO0FBQ3BCLHFCQUFPLEdBQUcsR0FBRyxFQUFFLEtBQUs7QUFBQSxZQUN4QjtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFFQSxRQUFJLGNBQWMsV0FBVyxTQUFTLE9BQU87QUFDekMsVUFBSSxTQUFTLFdBQVc7QUFDeEIsVUFBSSxRQUFRO0FBQ1IsWUFBSSxZQUFZLGFBQWEsWUFBWSxXQUFXLFlBQVksT0FBTztBQUNuRSxjQUFJO0FBQ0Esa0JBQU0sT0FBTyxhQUFhLFlBQVksU0FBUSxZQUFZLEtBQUs7QUFBQSxVQUNuRSxTQUFTLE9BQVA7QUFDRSxnQkFBSSx3QkFBTywyQkFBMkIsU0FBUSxHQUFJO0FBQUEsVUFDdEQ7QUFBQSxRQUNKLFdBQVUsWUFBWSxRQUFRO0FBQzFCLGdCQUFNLE9BQU8sVUFBVSxZQUFZLE1BQU07QUFBQSxRQUM3QztBQUNBLFlBQUksWUFBWSxZQUFZO0FBQ3hCLGdCQUFNLE9BQU8sU0FBUyxZQUFZLFdBQVcsTUFBTSxZQUFZLFdBQVcsR0FBRztBQUFBLFFBQ2pGO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQUEsRUFFQSxjQUFjLE9BQVksVUFBSSx5QkFBTyxFQUFFLE9BQU8sWUFBWSxHQUFFO0FBdkloRTtBQXdJUSxRQUFJLE9BQU8sS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3BELFFBQUksVUFBUyxrQ0FBTSxnQkFBTixtQkFBbUI7QUFDaEMsUUFBRyxRQUFPO0FBQ04sVUFBSSxPQUFPLE9BQU8sS0FBSyxNQUFNLEVBQUUsS0FBSyxDQUFDLEdBQUUsTUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQzdELFVBQUksTUFBTSxLQUFLLFFBQVEsR0FBRztBQUMxQixVQUFHLE1BQUksR0FBRTtBQUNMLGVBQU87QUFBQSxNQUNYLFdBQVMsT0FBSyxHQUFFO0FBQ1osZUFBTyxPQUFPLEdBQUc7QUFBQSxNQUNyQixPQUFLO0FBQ0QsZUFBTyxPQUFPLEdBQUcsSUFBRSxPQUFPLEtBQUssTUFBSSxDQUFDLENBQUM7QUFBQSxNQUN6QztBQUFBLElBQ0o7QUFBQSxFQUVKO0FBQUEsRUFFQSxNQUFNLGtCQUFrQixPQUFZO0FBQ2hDLFFBQUcsQ0FBQyxLQUFLLE9BQU8sS0FBSyxHQUFFO0FBQUM7QUFBQSxJQUFPO0FBQy9CLFFBQUksTUFBTSxNQUFNLEtBQUssSUFBSSxNQUFNLFdBQVcsS0FBSztBQUMvQyxRQUFJLFNBQVMsS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3RELFFBQUcsaUNBQVEscUJBQW9CO0FBQzNCLFlBQU0sSUFBSSxNQUFNLE9BQU8sb0JBQW9CLElBQUksTUFBTTtBQUFBLElBQ3pEO0FBQ0EsUUFBSSxJQUFJLEtBQUssWUFBWSxHQUFHO0FBQzVCLFVBQU0sS0FBSyxnQkFBZ0IsT0FBTSxTQUFRLENBQUM7QUFBQSxFQUM5QztBQUFBLEVBRUgsa0JBQWtCLE9BQVksSUFBOEI7QUFDM0QsUUFBSTtBQUNILFVBQUcsQ0FBQyxPQUFNO0FBQUMsZUFBTztBQUFBLE1BQU07QUFDeEIsVUFBSSxPQUFPLEtBQUssSUFBSSxjQUFjLGFBQWEsS0FBSztBQUNwRCxVQUFHLDZCQUFNLGFBQVk7QUFDcEIsaUJBQVEsS0FBSyxJQUFHO0FBQ2YsY0FBRyxFQUFFLEtBQUssWUFBWSxDQUFDLEtBQUcsR0FBRyxDQUFDLElBQUc7QUFDaEMsbUJBQU87QUFBQSxVQUNSO0FBQUEsUUFDRDtBQUNBLGVBQU87QUFBQSxNQUNSO0FBQ0EsYUFBTztBQUFBLElBQ1IsU0FBUyxPQUFQO0FBQ0QsYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGlCQUFpQixPQUFZLElBQXNCLFNBQU8sS0FBSyxRQUF3QjtBQUM1RixRQUFJLE9BQU8sS0FBSyxrQkFBa0IsT0FBTSxFQUFFO0FBRTFDLFdBQU0sQ0FBQyxRQUFRLFNBQU8sR0FBRTtBQUN2QixZQUFNLE1BQU0sRUFBRTtBQUNkLGVBQVMsU0FBTztBQUNoQixhQUFPLEtBQUssa0JBQWtCLE9BQU0sRUFBRTtBQUFBLElBQ3ZDO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVHLE1BQU0sNkJBQTRCO0FBQzlCLFFBQUksU0FBUyxLQUFLLElBQUksTUFBTSxpQkFBaUIsRUFBRSxPQUFPLENBQUMsTUFBVSxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQy9FLFFBQUksSUFBSTtBQUNSLGFBQVEsU0FBUyxRQUFPO0FBQ3BCLFVBQUksd0JBQU8sR0FBRyxLQUFLLE9BQU8sVUFBVSxNQUFNLFFBQU8sR0FBSTtBQUNyRCxZQUFNLEtBQUssa0JBQWtCLEtBQUs7QUFDbEMsVUFBSSxJQUFFO0FBQUEsSUFDVjtBQUFBLEVBQ0o7QUFBQSxFQUVBLFdBQVU7QUFDWixRQUFHLEtBQUssT0FBTyxTQUFTLFVBQVM7QUFDaEMsV0FBSyx3QkFBd0I7QUFDN0IsV0FBSyw2QkFBNkI7QUFBQSxJQUNuQyxPQUFLO0FBQ0ssV0FBSyxXQUFXO0FBQUEsSUFDcEI7QUFBQSxFQUNKO0FBQUEsRUFFQSwwQkFBeUI7QUFDckIsUUFBSSxJQUFJLEtBQUssSUFBSSxVQUFVLEdBQUcsaUJBQWdCLE9BQU8sUUFBTyxTQUFPO0FBcE4zRTtBQXFOWSxZQUFHLFVBQUssU0FBTCxtQkFBVyxjQUFXLE1BQUs7QUFDMUI7QUFBQSxNQUNKO0FBQ0EsVUFBRyxLQUFLLFlBQVUsTUFBSztBQUNuQixxQkFBYSxLQUFLLE9BQU87QUFBQSxNQUM3QjtBQUNBLFVBQUcsS0FBSyxNQUFLO0FBQ1QsYUFBSyxVQUFVLFdBQVcsTUFBSTtBQUMxQixlQUFLLGtCQUFtQixLQUFhLElBQUk7QUFBQSxRQUM3QyxHQUFHLEdBQUk7QUFBQSxNQUNYO0FBQUEsSUFDSixDQUFDO0FBQ0QsU0FBSyxPQUFPLGNBQWMsQ0FBQztBQUMzQixTQUFLLE9BQU8sS0FBSyxDQUFDO0FBQUEsRUFDdEI7QUFBQSxFQUVBLCtCQUE4QjtBQUMxQixRQUFJLElBQUksS0FBSyxJQUFJLFVBQVUsR0FBRyxzQkFBcUIsT0FBTyxTQUFPO0FBdE96RTtBQXdPWSxVQUFJLFNBQVMsNkJBQU0sTUFBYTtBQUNoQyxVQUFHLEVBQUMsNkJBQU0sT0FBSztBQUNYO0FBQUEsTUFDSjtBQUNBLFVBQUcsSUFBRyxnQkFBSyxTQUFMLG1CQUFtQixTQUFuQixtQkFBeUIsY0FBVyxPQUFNO0FBQzVDO0FBQUEsTUFDSjtBQUNBLFlBQU0sS0FBSyxrQkFBa0IsS0FBSztBQUNsQyxVQUFHLEtBQUssb0JBQWtCLE1BQUs7QUFDM0IsYUFBSyxtQkFBbUI7QUFDeEI7QUFBQSxNQUNKO0FBQ0EsVUFBRyxLQUFLLG9CQUFvQixPQUFNO0FBQzlCLGNBQU0sS0FBSyxrQkFBa0IsS0FBSyxnQkFBZ0I7QUFDbEQsYUFBSyxtQkFBbUI7QUFBQSxNQUM1QjtBQUFBLElBQ0osQ0FBQztBQUNELFNBQUssT0FBTyxjQUFjLENBQUM7QUFDM0IsU0FBSyxPQUFPLEtBQUssQ0FBQztBQUFBLEVBQ3RCO0FBQUEsRUFFQSxhQUFZO0FBQ1IsYUFBUSxLQUFLLEtBQUssUUFBTztBQUNyQixNQUFDLEVBQVUsRUFBRSxPQUFPLENBQUM7QUFBQSxJQUN6QjtBQUNBLFNBQUssU0FBUyxLQUFLLE9BQU8sTUFBTSxJQUFHLENBQUM7QUFBQSxFQUN4QztBQUFBLEVBRUEsb0JBQW9CLFFBQXdCLE1BQUs7QUFDN0MsUUFBRyxDQUFDLE9BQU07QUFDTixjQUFRLEtBQUssT0FBTyxNQUFNLGVBQWU7QUFBQSxJQUM3QztBQUNBLFdBQU8sTUFBTTtBQUFBLE1BQ1QsT0FBRyxLQUFLLE9BQU8sT0FBTyxnQkFBZ0IsR0FBRSxPQUFPO0FBQUEsSUFDbkQsRUFBRSxPQUFPLE9BQUcsQ0FBQztBQUFBLEVBQ2pCO0FBQUEsRUFFQSxvQkFBb0IsUUFBd0IsTUFBTSxPQUFtQixJQUFJLE9BQW1CLEdBQUc7QUFDM0YsWUFBUSxLQUFLLG9CQUFvQixLQUFLO0FBQ3RDLFFBQUcsT0FBTyxRQUFPLFVBQVM7QUFDdEIsaUJBQU8seUJBQU8sRUFBRSxJQUFJLENBQUMsTUFBSyxNQUFNLEVBQUUsT0FBTyxZQUFZO0FBQUEsSUFDekQ7QUFDQSxRQUFHLE9BQU8sUUFBTyxVQUFTO0FBQ3RCLGlCQUFPLHlCQUFPLEVBQUUsSUFBSSxDQUFDLE1BQUssTUFBTSxFQUFFLE9BQU8sWUFBWTtBQUFBLElBQ3pEO0FBRUEsUUFBSSxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzdCLFFBQUksVUFBVSxJQUFJLEtBQUssSUFBSTtBQUMzQixRQUFJLGtCQUFxQyxDQUFDO0FBRzFDLGFBQVMsT0FBTyxJQUFJLEtBQUssU0FBUyxHQUFHLFFBQVEsU0FBUyxLQUFLLFFBQVEsS0FBSyxRQUFRLElBQUksQ0FBQyxHQUFHO0FBQ3BGLFVBQUksVUFBVSxLQUFLLFlBQVksRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQzdDLHNCQUFnQixPQUFPLElBQUk7QUFBQSxJQUMvQjtBQUdBLFVBQU0sUUFBUSxDQUFDLFNBQWE7QUFDeEIsVUFBSSxnQkFBZ0I7QUFDcEIsVUFBSSxlQUFlLElBQUksS0FBSyxPQUFPLEtBQUssSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7QUFHdkQsVUFBSSxlQUFlLFdBQVc7QUFDMUIsd0JBQWdCLEtBQUssYUFBYSxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQUEsTUFDakU7QUFFQSxlQUFTLE9BQU8sSUFBSSxLQUFLLFNBQVMsR0FBRyxRQUFRLFNBQVMsS0FBSyxRQUFRLEtBQUssUUFBUSxJQUFJLENBQUMsR0FBRztBQUNwRixZQUFJLFVBQVUsS0FBSyxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUM3QyxZQUFJLEtBQUssZUFBZSxPQUFPLEdBQUc7QUFDOUIsMEJBQWdCLEtBQUssT0FBTztBQUFBLFFBQ2hDO0FBQ0Esd0JBQWdCLE9BQU8sS0FBSztBQUFBLE1BQ2hDO0FBQUEsSUFDSixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUVBLHFCQUFxQixpQkFBNEMsZ0JBQXlCLE1BQWlDO0FBQ3ZILFFBQUkscUJBQWdELENBQUM7QUFDckQsUUFBSSxnQkFBZ0I7QUFDcEIsUUFBSSxRQUFRO0FBRVosYUFBUyxRQUFRLGlCQUFpQjtBQUM5QixVQUFJLFVBQVUsSUFBSTtBQUNkLGdCQUFRO0FBQUEsTUFDWjtBQUNBLFVBQUksZUFBZSxnQkFBZ0IsSUFBSTtBQUN2Qyx5QkFBbUIsSUFBSSxJQUFJLGVBQWU7QUFDMUMsc0JBQWdCO0FBQUEsSUFDcEI7QUFFQSxRQUFJLGlCQUFpQixVQUFVLElBQUk7QUFDL0IseUJBQW1CLEtBQUssSUFBSTtBQUFBLElBQ2hDO0FBRUEsV0FBTztBQUFBLEVBQ1g7QUFDSjs7O0FDeFVBLElBQUFDLG1CQUtPO0FBV1AsSUFBTSxXQUFOLE1BQWU7QUFBQSxFQU1kLFlBQVksT0FBWSxRQUF3QjtBQUMvQyxTQUFLLFFBQVE7QUFDYixTQUFLLFVBQVUsQ0FBQztBQUNoQixTQUFLLEtBQUs7QUFDVixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUE7QUFBQSxFQUdBLE9BQU8sT0FBYTtBQUNuQixRQUFJLE1BQU0sWUFBWSxLQUFLLFNBQVM7QUFDbkMsYUFBTyxLQUFLLFFBQVEsTUFBTSxRQUFRO0FBQUEsSUFDbkM7QUFDQSxRQUFJLFFBQVEsS0FBSyxLQUFLLEdBQUcsU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ25ELFNBQUssUUFBUSxNQUFNLFFBQVEsSUFBSTtBQUMvQixTQUFLLEtBQUssS0FBSyxLQUFHO0FBQ2xCLFdBQU87QUFBQSxFQUVSO0FBQUE7QUFBQSxFQUdBLFNBQVMsT0FBWTtBQUNwQixRQUFJLEtBQUssS0FBSyxPQUFPLEtBQUs7QUFDMUIsV0FBTyxHQUFHLE9BQU8sTUFBTTtBQUFBLEVBQ3hCO0FBQUEsRUFFQSxrQkFBa0IsTUFBWSxRQUFNLElBQUc7QUFDdEMsUUFBSSxRQUFRLEtBQUssU0FBUztBQUN6QixhQUFPLEtBQUssUUFBUSxJQUFJO0FBQUEsSUFDekI7QUFDQSxRQUFHLEtBQUssV0FBVyxXQUFXLEdBQUU7QUFDL0IsYUFBTyxLQUFLLE1BQU0sWUFBWSxNQUFNO0FBQUEsSUFDckM7QUFDQSxRQUFJLFFBQVEsS0FBSyxLQUFLLEdBQUcsU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ25ELFNBQUssUUFBUSxJQUFJLElBQUk7QUFDckIsU0FBSyxLQUFLLEtBQUssS0FBRztBQUNsQixRQUFJLFFBQVEsS0FBSyxPQUFPLE1BQU0sVUFBVSxJQUFJO0FBQzVDLFFBQUcsT0FBTTtBQUNSLFVBQUcsU0FBUSxJQUFHO0FBQ2IsZ0JBQVEsS0FBSyxPQUFPLFNBQVM7QUFBQSxNQUM5QjtBQUNBLFVBQUksT0FBTyxLQUFLLE9BQU8sT0FBTyxnQkFBZ0IsT0FBTSxLQUFLO0FBQ3pELFVBQUcsTUFBSztBQUNQLFlBQUcsS0FBSyxXQUFXLEdBQUcsR0FBRTtBQUN2QixpQkFBTyxNQUFNLE1BQU0sV0FBVztBQUFBLFFBQy9CLE9BQUs7QUFDSixpQkFBTyxLQUFLLFFBQVEsUUFBTyxLQUFLLE1BQU0sWUFBWTtBQUFBLFFBQ25EO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxXQUFPLEdBQUcsVUFBVTtBQUFBLEVBQ3JCO0FBQUEsRUFFQSxnQkFBZ0IsTUFBWTtBQUMzQixRQUFJLFFBQVEsS0FBSyxTQUFTO0FBQ3pCLGFBQU8sS0FBSyxRQUFRLElBQUk7QUFBQSxJQUN6QjtBQUNBLFFBQUksUUFBUSxLQUFLLEtBQUssR0FBRyxTQUFTLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDbkQsU0FBSyxRQUFRLElBQUksSUFBSTtBQUNyQixTQUFLLEtBQUssS0FBSyxLQUFHO0FBQ2xCLFdBQU87QUFBQSxFQUVSO0FBQUEsRUFFQSxjQUFhO0FBQ1osUUFBSSxNQUFNO0FBQ1YsYUFBUSxTQUFTLEtBQUssU0FBUTtBQUM3QixZQUFNLE1BQUksVUFBVyxLQUFLLFFBQVEsS0FBSztBQUFBO0FBQUEsSUFDeEM7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUNEO0FBRU8sSUFBTSxlQUFOLE1BQWtCO0FBQUEsRUFLeEIsWUFBWSxRQUF3QjtBQUNuQyxTQUFLLFNBQVM7QUFDZCxTQUFLLE1BQU0sT0FBTztBQUNsQixTQUFLLFNBQVMsT0FBTztBQUFBLEVBQ3RCO0FBQUEsRUFFQSxjQUFjLE9BQVk7QUFDekIsUUFBSSxPQUFPLElBQUksU0FBUyxPQUFNLEtBQUssTUFBTTtBQUN6QyxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZUFBZSxNQUFjLFFBQW9CLFdBQVMsSUFBRyxPQUFLLFFBQU87QUFFeEUsUUFBSSxNQUFNO0FBQ1YsUUFBSSxRQUFRLE9BQU8sSUFBSSxPQUFHLENBQUM7QUFDM0IsUUFBSSxPQUFPO0FBQ1gsUUFBRyxZQUFVLElBQUc7QUFDZixZQUFNLE1BQU07QUFBQSxZQUFnQjtBQUFBO0FBQzVCLGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxJQUFJO0FBQ1IsV0FBTSxJQUFFLE1BQU0sU0FBTyxHQUFFO0FBQ3RCLFVBQUksT0FBTyxLQUFLLFNBQVMsTUFBTSxDQUFDLENBQUM7QUFDakMsVUFBSSxPQUFPLEtBQUssU0FBUyxNQUFNLElBQUUsQ0FBQyxDQUFDO0FBQ25DLFlBQU0sTUFBSSxHQUFHLE9BQU8sT0FBTyxPQUFPO0FBQUE7QUFDbEMsVUFBSSxJQUFFO0FBQUEsSUFDUDtBQUVBLFFBQUcsWUFBVSxJQUFHO0FBQ2YsWUFBTSxNQUFJO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxlQUFlLE1BQWMsUUFBb0IsV0FBUyxJQUFHLE9BQUssT0FBTSxlQUFhLE9BQU07QUFDMUYsUUFBSSxNQUFNO0FBQ1YsUUFBSSxRQUFRLE9BQU8sSUFBSSxPQUFHLENBQUM7QUFDM0IsUUFBSSxPQUFPO0FBQ1gsUUFBRyxZQUFVLElBQUc7QUFDZixZQUFNLE1BQU07QUFBQSxZQUFnQjtBQUFBO0FBQzVCLGFBQU87QUFBQSxJQUVSO0FBQ0EsUUFBSSxJQUFJO0FBQ1IsUUFBSSxNQUFNLEtBQUssU0FBUyxLQUFLLEtBQUs7QUFDbEMsV0FBTSxJQUFFLE1BQU0sUUFBTztBQUNwQixVQUFJLEtBQUssS0FBSyxTQUFTLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLFVBQUcsY0FBYTtBQUNmLGNBQU0sTUFBSSxHQUFHLE9BQU8sS0FBSyxPQUFPO0FBQUE7QUFBQSxNQUVqQyxPQUFLO0FBQ0osY0FBTSxNQUFJLEdBQUcsT0FBTyxNQUFNLE9BQU87QUFBQTtBQUFBLE1BQ2xDO0FBQ0EsVUFBSSxJQUFFO0FBQUEsSUFDUDtBQUNBLFFBQUcsWUFBVSxJQUFHO0FBQ2YsWUFBTSxNQUFJO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQSxFQUdBLGdCQUFnQixRQUFvQixjQUFZLE1BQUs7QUFDcEQsUUFBSSxVQUFzQyxDQUFDO0FBQzNDLFFBQUksV0FBdUMsQ0FBQztBQUM1QyxhQUFRLFNBQVMsUUFBTztBQUN2QixlQUFTLE9BQU8sUUFBUSxLQUFLLENBQUMsSUFBSSxLQUFLLE9BQU8sTUFBTSxhQUFhLE9BQU0sSUFBSTtBQUMzRSxjQUFRLE9BQU8sUUFBUSxLQUFLLENBQUMsSUFBSSxLQUFLLE9BQU8sTUFBTSxZQUFZLE9BQU0sSUFBSTtBQUFBLElBQzFFO0FBRUEsUUFBSSxRQUFRLENBQUM7QUFDYixhQUFRLFNBQVMsUUFBTztBQUN2QixVQUFJLElBQUksT0FBTyxRQUFRLEtBQUs7QUFDNUIsZUFBUSxXQUFXLFNBQVMsQ0FBQyxHQUFFO0FBQzlCLFlBQUcsT0FBTyxTQUFTLE9BQU8sR0FBRTtBQUMzQixjQUFHLE9BQU8sUUFBUSxPQUFPLEtBQUcsR0FBRTtBQUFDO0FBQUEsVUFBUztBQUN4QyxjQUFHLGFBQVk7QUFDZCxnQkFBRyxRQUFRLENBQUMsRUFBRSxTQUFTLE9BQU8sR0FBRTtBQUMvQixvQkFBTSxLQUFLLENBQUMsT0FBTSxTQUFRLElBQUksQ0FBQztBQUFBLFlBQ2hDLE9BQUs7QUFDSixvQkFBTSxLQUFLLENBQUMsT0FBTSxTQUFRLEtBQUssQ0FBQztBQUFBLFlBQ2pDO0FBQUEsVUFDRCxPQUFLO0FBQ0osa0JBQU0sS0FBSyxDQUFDLE9BQU0sU0FBUSxLQUFLLENBQUM7QUFBQSxVQUNqQztBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBRUEsZUFBUSxVQUFVLFFBQVEsQ0FBQyxHQUFFO0FBQzVCLFlBQUcsT0FBTyxTQUFTLE1BQU0sR0FBRTtBQUMxQixjQUFHLE9BQU8sUUFBUSxNQUFNLEtBQUcsR0FBRTtBQUFDO0FBQUEsVUFBUztBQUN2QyxjQUFHLGFBQVk7QUFDZCxnQkFBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFLFNBQVMsTUFBTSxHQUFFO0FBQ2hDLG9CQUFNLEtBQUssQ0FBQyxRQUFPLE9BQU0sS0FBSyxDQUFDO0FBQUEsWUFDaEM7QUFBQSxVQUNELE9BQUs7QUFDSixrQkFBTSxLQUFLLENBQUMsUUFBTyxPQUFNLEtBQUssQ0FBQztBQUFBLFVBQ2hDO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGVBQWUsTUFBYyxRQUFvQixXQUFTLElBQUcsT0FBSyxPQUFNLGVBQWEsT0FBTTtBQUMxRixRQUFJLE1BQU07QUFDVixRQUFJLFFBQVEsT0FBTyxJQUFJLE9BQUcsQ0FBQztBQUMzQixRQUFJLE9BQU87QUFDWCxRQUFHLFlBQVUsSUFBRztBQUNmLFlBQU0sTUFBTTtBQUFBLFlBQWdCO0FBQUE7QUFDNUIsYUFBTztBQUFBLElBRVI7QUFFQSxRQUFJLFFBQVEsS0FBSyxnQkFBZ0IsTUFBTTtBQUN2QyxhQUFRLFFBQVEsT0FBTTtBQUNyQixVQUFJLE1BQU0sS0FBSyxTQUFTLEtBQUssQ0FBQyxDQUFRO0FBQ3RDLFVBQUksTUFBTSxLQUFLLFNBQVMsS0FBSyxDQUFDLENBQVE7QUFDdEMsVUFBRyxLQUFLLENBQUMsR0FBRTtBQUNWLGNBQU0sTUFBTSxHQUFHLE9BQU8sV0FBVztBQUFBO0FBQUEsTUFDbEMsT0FBSztBQUNKLGNBQU0sTUFBTSxHQUFHLE9BQU8sVUFBVTtBQUFBO0FBQUEsTUFDakM7QUFBQSxJQUNEO0FBRUEsUUFBRyxZQUFVLElBQUc7QUFDZixZQUFNLE1BQUk7QUFBQSxJQUNYO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGNBQWMsT0FBWSxJQUFFLEdBQUUsVUFBUSxXQUFVLFdBQVMsV0FBVSxZQUFVLFdBQVUsV0FBUyxXQUFVO0FBQ3pHLFFBQUcsQ0FBQyxPQUFNO0FBQ1QsVUFBSSxPQUFPLEtBQUssT0FBTyxNQUFNLHVCQUF1QjtBQUNwRCxVQUFHLE1BQUs7QUFDUCxnQkFBUSxLQUFLLEtBQUs7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFFQSxRQUFHLENBQUMsT0FBTTtBQUNULGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxPQUFPLElBQUksU0FBUyxPQUFNLEtBQUssTUFBTTtBQUV6QyxRQUFJLEtBQUssS0FBSztBQUVkLFFBQUksTUFBTTtBQUNWLFFBQUksUUFBUSxHQUFHLE1BQU0sVUFBVSxPQUFNLEdBQUUsQ0FBQztBQUN4QyxVQUFNLE1BQU0sS0FBSyxlQUFlLE1BQUssT0FBTSxvQkFBSztBQUVoRCxRQUFJLFVBQVUsR0FBRyxNQUFNLFlBQVksT0FBTSxJQUFJLEVBQUUsT0FBTyxDQUFDLE1BQVUsQ0FBQyxNQUFNLFNBQVMsQ0FBQyxDQUFDO0FBQ25GLFFBQUksV0FBVyxHQUFHLE1BQU0sYUFBYSxPQUFNLElBQUksRUFBRSxPQUFPLENBQUMsTUFBVSxDQUFDLE1BQU0sU0FBUyxDQUFDLENBQUM7QUFFckYsVUFBTSxNQUFNLEtBQUssZUFBZSxNQUFLLFNBQVEsZ0JBQUssT0FBTSxJQUFJO0FBRTVELFVBQU0sTUFBTSxLQUFLLGVBQWUsTUFBSyxVQUFTLGdCQUFLLEtBQUs7QUFFeEQsVUFBTSxNQUFNLEtBQUssWUFBWTtBQUM3QixVQUFNLE1BQU07QUFBQSxNQUNYLHVDQUFzQjtBQUFBLE1BQ3RCLGlDQUFxQjtBQUFBLE1BQ3JCLGlDQUFxQjtBQUFBLE1BQ3JCLHdCQUF3QixrQkFBa0I7QUFBQSxNQUMxQztBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0QsRUFBRSxLQUFLLElBQUk7QUFDWCxVQUFNLE1BQUk7QUFDVixVQUFNLElBQUk7QUFBQSxNQUNULFNBQVMsS0FBSyxPQUFPLEtBQUs7QUFBQSxNQUMxQixTQUFTLEtBQUssT0FBTyxLQUFLO0FBQUEsSUFDM0I7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsaUJBQWlCLE9BQVksV0FBUyxVQUFTLFFBQU0sV0FBVSxXQUFTLFdBQVU7QUFDakYsUUFBRyxDQUFDLE9BQU07QUFDVCxVQUFJLE9BQU8sS0FBSyxPQUFPLE1BQU0sdUJBQXVCO0FBQ3BELFVBQUcsTUFBSztBQUNQLGdCQUFRLEtBQUssS0FBSztBQUFBLE1BQ25CO0FBQUEsSUFDRDtBQUVBLFFBQUcsQ0FBQyxPQUFNO0FBQ1QsYUFBTztBQUFBLElBQ1I7QUFFQSxRQUFJLFNBQVMsS0FBSyxPQUFPLE1BQU0sYUFBYSxLQUFLO0FBQ2pELFdBQU8sS0FBSyxnQkFBZ0IsT0FBTSxRQUFPLFVBQVMsT0FBTSxRQUFRO0FBQUEsRUFDakU7QUFBQSxFQUVBLG9CQUFvQixPQUFZLElBQUUsSUFBRyxXQUFTLGFBQVksUUFBTSxXQUFVLFdBQVMsV0FBVTtBQUM1RixRQUFHLENBQUMsT0FBTTtBQUNULFVBQUksT0FBTyxLQUFLLE9BQU8sTUFBTSx1QkFBdUI7QUFDcEQsVUFBRyxNQUFLO0FBQ1AsZ0JBQVEsS0FBSyxLQUFLO0FBQUEsTUFDbkI7QUFBQSxJQUNEO0FBRUEsUUFBRyxDQUFDLE9BQU07QUFDVCxhQUFPO0FBQUEsSUFDUjtBQUVBLFFBQUksU0FBUyxLQUFLLE9BQU8sTUFBTSxVQUFVLE9BQU0sR0FBRSxDQUFDO0FBQ2xELFdBQU8sS0FBSyxnQkFBZ0IsT0FBTSxRQUFPLFVBQVMsT0FBTSxRQUFRO0FBQUEsRUFDakU7QUFBQSxFQUVBLGdCQUFnQixRQUFhLFFBQW9CLFdBQVMsSUFBRyxRQUFNLFdBQVUsV0FBUyxXQUFVO0FBQy9GLFFBQUksT0FBTyxJQUFJLFNBQVMsT0FBTyxDQUFDLEdBQUUsS0FBSyxNQUFNO0FBQzdDLFFBQUksTUFBTTtBQUNWLFVBQU0sTUFBTSxLQUFLLGVBQWUsTUFBSyxRQUFPLFFBQVE7QUFDcEQsVUFBTSxNQUFNLEtBQUssWUFBWTtBQUM3QixVQUFNLE1BQU07QUFBQSxNQUNYLFlBQVksa0JBQWtCO0FBQUEsTUFDOUIsd0JBQXdCLGtCQUFrQjtBQUFBLE1BQzFDLFNBQVMsWUFBWTtBQUFBLE1BQ3JCO0FBQUEsSUFDRCxFQUFFLEtBQUssSUFBSTtBQUNYLFVBQU0sTUFBSTtBQUNWLFVBQU0sSUFBSTtBQUFBLE1BQ1QsU0FBUyxLQUFLLE9BQU8sTUFBTTtBQUFBLE1BQzNCLFNBQVMsS0FBSyxPQUFPLE1BQU07QUFBQSxJQUM1QjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxrQkFBa0IsWUFBa0IsUUFBb0IsT0FBSyxTQUFRO0FBQ3BFLFFBQUksS0FBSyxLQUFLO0FBQ2QsUUFBSSxRQUE4QixDQUFDO0FBQ25DLGFBQVEsU0FBUyxRQUFPO0FBQ3ZCLFVBQUksU0FBUyxHQUFHLE9BQU8sZ0JBQWdCLE9BQU0sSUFBSTtBQUNqRCxVQUFHLFVBQVUsTUFBTSxRQUFRLE1BQU0sR0FBRTtBQUNsQyxpQkFBUSxNQUFNLFFBQU87QUFDcEIsY0FBSSxNQUFNLEdBQUcsTUFBTSxHQUFHO0FBQ3RCLGNBQUcsSUFBSSxDQUFDLEtBQUcsWUFBVztBQUNyQixnQkFBRyxJQUFJLFVBQVEsR0FBRTtBQUNoQixvQkFBTSxPQUFPLFFBQVEsS0FBSyxDQUFDLElBQUk7QUFBQSxZQUNoQyxPQUFLO0FBQ0osb0JBQU0sT0FBTyxRQUFRLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQztBQUFBLFlBQ3JDO0FBQ0E7QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGlCQUFpQixRQUFhLE9BQUssU0FBUTtBQUMxQyxRQUFJLEtBQUssS0FBSztBQUVkLFFBQUksU0FBUyxHQUFHLE1BQU0sYUFBYSxNQUFNO0FBQ3pDLGFBQVMsR0FBRyxNQUFNLGdCQUFnQixRQUFPLENBQUM7QUFFMUMsUUFBSSxPQUFPLEdBQUcsUUFBUSxjQUFjLE1BQU07QUFHMUMsUUFBSSxRQUFRLEdBQUcsT0FBTyxnQkFBZ0IsUUFBTyxJQUFJO0FBQ2pELFFBQUcsQ0FBQyxTQUFPLENBQUMsTUFBTSxRQUFRLEtBQUssR0FBRTtBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUU7QUFDNUMsUUFBSSxNQUFvQixDQUFDO0FBQ3pCLGFBQVEsS0FBSyxPQUFNO0FBQ2xCLFVBQUksRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ2xCLFVBQUksUUFBUSxLQUFLLGtCQUFrQixHQUFFLFFBQU8sSUFBSTtBQUNoRCxVQUFJLE9BQU8sSUFBSSxJQUFJLE9BQU8sT0FBTyxLQUFLLENBQUM7QUFFdkMsVUFBSSxNQUFNO0FBQUE7QUFBQSxTQUE4QjtBQUFBO0FBQUE7QUFBQTtBQUN4QyxlQUFRLE9BQU8sTUFBSztBQUNuQixZQUFHLE9BQUssSUFBRztBQUNWLG1CQUFRLE9BQU8sT0FBTTtBQUNwQixnQkFBRyxNQUFNLEdBQUcsS0FBRyxLQUFJO0FBQ2xCLG9CQUFNLE1BQUksT0FBSyxLQUFLLFNBQVMsT0FBTyxHQUFHLENBQUM7QUFBQSxZQUN6QztBQUFBLFVBQ0Q7QUFBQSxRQUNELE9BQUs7QUFDSixnQkFBTSxNQUFJLGdCQUFjLE1BQUk7QUFDNUIsbUJBQVEsT0FBTyxPQUFNO0FBQ3BCLGdCQUFHLE1BQU0sR0FBRyxLQUFHLEtBQUk7QUFDbEIsb0JBQU0sTUFBSSxRQUFPLEtBQUssU0FBUyxPQUFPLEdBQUcsQ0FBQztBQUFBLFlBQzNDO0FBQUEsVUFDRDtBQUVBLGdCQUFNLE1BQUk7QUFBQSxRQUNYO0FBQUEsTUFDRDtBQUNBLFlBQU0sTUFBSSxPQUFLLEtBQUssZUFBZSxNQUFLLE9BQU8sS0FBSyxLQUFLLEVBQUUsSUFBSSxPQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDNUUsWUFBTSxNQUFJLE9BQUssS0FBSyxZQUFZO0FBQ2hDLFlBQU0sTUFBSTtBQUNWLFVBQUksS0FBSyxHQUFHO0FBQUEsSUFDYjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSx1QkFBdUIsT0FBYSxJQUFFLEdBQUcsTUFBSSxRQUFPLGdCQUFjLE1BQU07QUFDdkUsUUFBSSxLQUFLLEtBQUs7QUFDZCxRQUFJLE9BQU8sSUFBSSxTQUFTLE9BQU0sS0FBSyxNQUFNO0FBQ3pDLFFBQUksTUFBTTtBQUdWLFFBQUksU0FBUyxHQUFHLE1BQU0sZ0JBQWdCLENBQUMsS0FBSyxHQUFHLENBQUM7QUFDaEQsUUFBRyxlQUFjO0FBQ2hCLGVBQVFDLFVBQVMsUUFBTztBQUN2QixlQUFNLEdBQUcsS0FBSyxTQUFTQSxNQUFLO0FBQUE7QUFBQSxNQUM3QjtBQUFBLElBQ0Q7QUFHQSxRQUFJLGlCQUFpQixvQkFBSSxJQUFXO0FBRXBDLGFBQVMsZUFBZSxRQUFRO0FBQy9CLFVBQUksZUFBZSxJQUFJLFdBQVc7QUFBRztBQUNyQyxxQkFBZSxJQUFJLFdBQVc7QUFFOUIsVUFBSSxRQUFRLEdBQUcsT0FBTyxnQkFBZ0IsYUFBYSxHQUFHO0FBQ3RELFVBQUksT0FBTztBQUNWLGlCQUFTLENBQUMsVUFBVSxVQUFVLEtBQUssT0FBTyxRQUFRLEtBQUssR0FBRztBQUN6RCxjQUFHLHNCQUFzQixPQUFNO0FBQzlCLHFCQUFRLFFBQVEsWUFBVztBQUMxQixrQkFBSSxjQUFjLEdBQUcsTUFBTSxVQUFVLElBQWM7QUFDbkQsa0JBQUksdUJBQXVCLHdCQUFPO0FBQ2pDLHVCQUFPLElBQUssS0FBSyxTQUFTLFdBQVcsU0FBUyxhQUFhLEtBQUssU0FBUyxXQUFXO0FBQUE7QUFBQSxjQUNyRjtBQUFBLFlBQ0Q7QUFBQSxVQUNELE9BQUs7QUFDSixnQkFBSSxjQUFjLEdBQUcsTUFBTSxVQUFVLFVBQW9CO0FBQ3pELGdCQUFJLHVCQUF1Qix3QkFBTztBQUNqQyxxQkFBTyxJQUFLLEtBQUssU0FBUyxXQUFXLFNBQVMsYUFBYSxLQUFLLFNBQVMsV0FBVztBQUFBO0FBQUEsWUFDckY7QUFBQSxVQUNEO0FBQUEsUUFFRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsVUFBTSxNQUFNLEtBQUssWUFBWTtBQUM3QixXQUFPO0FBQ1AsUUFBSSxXQUFTO0FBQ2IsVUFBTSxJQUFJO0FBQUEsTUFDVCxTQUFTLEtBQUssT0FBTyxLQUFLO0FBQUEsTUFDMUIsd0JBQXdCLGtCQUFrQjtBQUFBLFFBQW1CLEtBQUssT0FBTyxLQUFLO0FBQUEsSUFDL0U7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsbUJBQW1CLE9BQWEsSUFBRSxHQUFHLE1BQUksV0FBVSxXQUFTLFdBQVUsUUFBTSxTQUFTO0FBRXBGLFFBQUcsQ0FBQyxPQUFNO0FBQ1QsVUFBSSxPQUFPLEtBQUssT0FBTyxNQUFNLHVCQUF1QjtBQUNwRCxVQUFHLE1BQUs7QUFDUCxnQkFBUSxLQUFLLEtBQUs7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFFQSxRQUFHLENBQUMsT0FBTTtBQUNULGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxLQUFLLEtBQUs7QUFDZCxRQUFJLE9BQU8sSUFBSSxTQUFTLE9BQU0sS0FBSyxNQUFNO0FBQ3pDLFFBQUksTUFBTTtBQUdWLFFBQUk7QUFDSixRQUFHLEtBQUcsSUFBRztBQUNSLGVBQVMsR0FBRyxNQUFNLGFBQWEsS0FBSztBQUFBLElBQ3JDLE9BQUs7QUFDSixlQUFTLEdBQUcsTUFBTSxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQztBQUFBLElBQzdDO0FBQ0EsYUFBUyxHQUFHLE1BQU0scUJBQXFCLE1BQU07QUFFN0MsYUFBUyxlQUFlLFFBQVE7QUFDL0IsVUFBSUMsT0FBTSxLQUFLLFlBQVk7QUFDM0IsVUFBSSxRQUFRLEdBQUcsT0FBTyxnQkFBZ0IsYUFBYSxHQUFHO0FBQ3RELFVBQUksU0FBUyxNQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ2xDLGlCQUFRLFFBQVEsT0FBTTtBQUNyQixjQUFHLEtBQUssTUFBTSxLQUFHLFFBQVEsS0FBSyxNQUFNLEtBQUcsTUFBSztBQUMzQyxnQkFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixnQkFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixnQkFBRyxTQUFPLElBQUc7QUFDWixzQkFBUTtBQUFBLFlBQ1QsT0FBSztBQUNKLHNCQUFRLEtBQUs7QUFBQSxZQUNkO0FBQ0EsZ0JBQUksT0FBTztBQUNYLGdCQUFHLEtBQUssTUFBTSxHQUFFO0FBQ2YscUJBQU8sS0FBSyxNQUFNO0FBQUEsWUFDbkI7QUFDQSxnQkFBRyxLQUFLLENBQUMsS0FBRyxPQUFPLEtBQUssS0FBSyxTQUFPLENBQUMsS0FBRyxLQUFJO0FBQzNDLHFCQUFPLEtBQUssTUFBTSxDQUFDLElBQUU7QUFDckIsa0JBQUcsaUJBQWlCLE9BQU07QUFDekIseUJBQVEsUUFBUSxPQUFNO0FBQ3JCLHlCQUFPLEdBQUcsS0FBSyxrQkFBa0IsTUFBSyxLQUFLLEtBQUssUUFBUSxTQUFTLEtBQUssa0JBQWtCQSxNQUFJLEtBQUs7QUFBQTtBQUFBLGdCQUNsRztBQUFBLGNBQ0QsT0FBSztBQUNKLHVCQUFPLEdBQUcsS0FBSyxrQkFBa0IsT0FBTSxLQUFLLEtBQUssUUFBUSxTQUFTLEtBQUssa0JBQWtCQSxNQUFJLEtBQUs7QUFBQTtBQUFBLGNBQ25HO0FBQUEsWUFDRCxPQUFLO0FBQ0osa0JBQUcsaUJBQWlCLE9BQU07QUFDekIseUJBQVEsUUFBUSxPQUFNO0FBQ3JCLHlCQUFPLEdBQUcsS0FBSyxrQkFBa0JBLE1BQUksS0FBSyxLQUFLLFFBQVEsU0FBUyxLQUFLLGtCQUFrQixNQUFLLEtBQUs7QUFBQTtBQUFBLGdCQUNsRztBQUFBLGNBQ0QsT0FBSztBQUNKLHVCQUFPLEdBQUcsS0FBSyxrQkFBa0JBLE1BQUksS0FBSyxLQUFLLFFBQVEsU0FBUyxLQUFLLGtCQUFrQixPQUFNLEtBQUs7QUFBQTtBQUFBLGNBQ25HO0FBQUEsWUFDRDtBQUFBLFVBQ0QsT0FBSztBQUNKLGdCQUFHLEtBQUssT0FBTyxHQUFFO0FBQ2hCLHFCQUFPLFlBQVksS0FBSyxPQUFPO0FBQUEsR0FBUSxLQUFLLGtCQUFrQkEsTUFBSSxLQUFLO0FBQUE7QUFBQTtBQUN2RSxrQkFBRyxLQUFLLE9BQU8sR0FBRTtBQUNoQix1QkFBTyxZQUFZLEtBQUssT0FBTyxlQUFlLEtBQUssT0FBTztBQUFBO0FBQzFELHVCQUFPLFNBQVMsS0FBSyxPQUFPLEtBQUssS0FBSyxPQUFPO0FBQUE7QUFBQSxjQUM5QztBQUFBLFlBQ0Q7QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsUUFBSSxNQUFNLEtBQUssTUFBTTtBQUNyQixXQUFPLEdBQUcsS0FBSyxrQkFBa0IsR0FBRztBQUFBO0FBQ3BDLFFBQUcsVUFBUztBQUNYLGFBQU8sd0JBQXdCLGtCQUFrQjtBQUFBLFFBQW1CLEtBQUssa0JBQWtCLEdBQUc7QUFBQTtBQUFBLElBQy9GO0FBQ0EsV0FBTztBQUNQLFdBQU87QUFBQSxFQUNSO0FBR0Q7QUErTE8sSUFBTSxjQUFOLE1BQWlCO0FBQUEsRUFLdkIsWUFBWSxRQUF3QjtBQUNuQyxTQUFLLFNBQVM7QUFDZCxTQUFLLE1BQU0sT0FBTztBQUNsQixTQUFLLFNBQVMsT0FBTztBQUFBLEVBQ3RCO0FBQUEsRUFFQSxrQkFBa0IsUUFBZTtBQUNoQyxRQUFJLGFBQWE7QUFDakIsUUFBSSxlQUFlO0FBRW5CLGFBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxLQUFLO0FBQy9CLFVBQUksY0FBYyxLQUFLLE1BQU0sS0FBSyxPQUFPLElBQUksV0FBVyxNQUFNO0FBQzlELHNCQUFnQixXQUFXLE9BQU8sV0FBVztBQUFBLElBQy9DO0FBRUEsV0FBTztBQUFBLEVBQ047QUFBQSxFQUVGLGNBQWMsT0FBWTtBQUN6QixRQUFJLE9BQU8sSUFBSSxTQUFTLE9BQU0sS0FBSyxNQUFNO0FBQ3pDLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxTQUFTLElBQVksT0FBMkIsSUFBRSxHQUFFLElBQUUsR0FBRSxRQUFNLEtBQUksU0FBTyxLQUFJO0FBQzVFLFFBQUksTUFBeUIsQ0FBQztBQUM5QixRQUFHLE9BQU8sU0FBVSxVQUFTO0FBQzVCLFVBQUksTUFBTSxJQUFJO0FBQ2QsVUFBSSxNQUFNLElBQUk7QUFDZCxVQUFJLElBQUksSUFBSSxHQUFHLGdCQUFnQixJQUFJLE1BQU0sQ0FBQztBQUFBLElBQzNDLE9BQUs7QUFDSixVQUFJLE1BQU0sSUFBSTtBQUNkLFVBQUcsaUJBQWlCLDBCQUFRO0FBQzNCLFlBQUksTUFBTSxJQUFJLE1BQU0sT0FBSyxNQUFJLE1BQU0sT0FBSztBQUFBLE1BQ3pDLE9BQUs7QUFDSixZQUFJLE1BQU0sSUFBSSxNQUFNO0FBQUEsTUFDckI7QUFDQSxVQUFJLElBQUksSUFBSSxHQUFHLGdCQUFnQixJQUFJLE1BQU0sQ0FBQztBQUFBLElBQzNDO0FBRUEsUUFBSSxHQUFHLElBQUk7QUFDWCxRQUFJLEdBQUcsSUFBSTtBQUNYLFFBQUksUUFBUSxJQUFJO0FBQ2hCLFFBQUksT0FBTyxJQUFJO0FBRWYsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGVBQWUsR0FBUyxHQUFTLEdBQVM7QUFJekMsUUFBSSxNQUFNLEtBQUssT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJO0FBQ3BDLFFBQUksTUFBTSxNQUFNLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSSxJQUFJLEtBQU0sSUFBSSxLQUFLO0FBQzNELFdBQU8sQ0FBQyxLQUFLLEdBQUc7QUFBQSxFQUNqQjtBQUFBLEVBRUEsTUFBTSxlQUFlLE9BQVksT0FBSyxHQUFFLE9BQUssR0FBRSxRQUFNLEtBQUksU0FBTyxLQUFJLFNBQU8sS0FBSSxVQUFRLEtBQUksUUFBTSxNQUFLO0FBQ3JHLFFBQUksVUFBVSxNQUFNLEtBQUssT0FBTyxJQUFJLE1BQU0sS0FBSyxLQUFLO0FBQ3BELFFBQUksU0FBUyxDQUFDLEdBQUcsUUFBUSxTQUFTLGdCQUFnQixDQUFDO0FBRW5ELFFBQUcsT0FBSyxPQUFLLE9BQU8sUUFBTztBQUMxQixhQUFPLEtBQUssS0FBSyxPQUFPLFNBQU8sSUFBSTtBQUFBLElBQ3BDO0FBRUEsUUFBSSxRQUFRLENBQUM7QUFDYixRQUFJLElBQUk7QUFDUixRQUFJLEtBQUssS0FBSyxjQUFjLEtBQUs7QUFDakMsYUFBUSxTQUFTLFFBQU87QUFDdkIsVUFBSSxJQUFFO0FBQ04sVUFBSSxRQUFRLE1BQU0sTUFBTSxZQUFZLE1BQU0sQ0FBQztBQUMzQyxVQUFJLE1BQU0sS0FBSyxlQUFlLEdBQUcsTUFBTSxJQUFJO0FBQzNDLFVBQUksT0FBTyxLQUFLO0FBQUEsUUFDZixLQUFHO0FBQUEsUUFDSDtBQUFBLFFBQ0EsSUFBSSxDQUFDLEtBQUcsUUFBTTtBQUFBLFFBQ2QsSUFBSSxDQUFDLEtBQUcsU0FBTztBQUFBLFFBQ2YsUUFBTTtBQUFBLFFBQ04sU0FBTztBQUFBLE1BQ1I7QUFDQSxZQUFNLEtBQUssSUFBSTtBQUFBLElBQ2hCO0FBQ0EsUUFBSSxNQUFNO0FBQUEsTUFDVCxTQUFRO0FBQUEsTUFDUixTQUFRLENBQUM7QUFBQSxJQUNWO0FBQ0EsUUFBRyxPQUFNO0FBQ1IsVUFBSSxPQUFPLEtBQUssZUFBZSxLQUFLO0FBQ3BDLFlBQU0sS0FBSyxrQkFBa0IsS0FBSSxJQUFJO0FBQUEsSUFDdEM7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxrQkFBa0IsUUFBVSxNQUFZO0FBQzdDLFFBQUksTUFBTSxLQUFLLFVBQVUsTUFBTTtBQUMvQixRQUFJLGFBQWEsS0FBSyxPQUFPLElBQUksTUFBTSxzQkFBc0IsSUFBSTtBQUNqRSxRQUFJLFlBQVk7QUFDZixZQUFNLEtBQUssT0FBTyxJQUFJLE1BQU0sT0FBTyxZQUFxQixHQUFHO0FBQUEsSUFDNUQsT0FBTztBQUVOLFlBQU0sS0FBSyxPQUFPLElBQUksTUFBTSxPQUFPLE1BQU0sR0FBRztBQUFBLElBQzdDO0FBQUEsRUFDRDtBQUFBLEVBRUEsZUFBZSxPQUFZO0FBQzFCLFdBQU8sTUFBTSxLQUFLLFFBQVEsT0FBTSxTQUFTO0FBQUEsRUFDMUM7QUFDRDs7O0FDL3pCQSxJQUFBQyxtQkFFTztBQXlCQSxJQUFNLG1CQUErQjtBQUFBLEVBQzNDLFdBQVk7QUFBQSxFQUNaLFdBQVk7QUFBQSxFQUNaLHVCQUF1QjtBQUFBLEVBQ3ZCLGdDQUFnQztBQUFBLEVBQ2hDLDJCQUEwQjtBQUFBLEVBQzFCLGdCQUFpQjtBQUFBLEVBQ2pCLDJCQUEwQjtBQUFBLEVBQzFCLGlCQUFrQjtBQUFBLEVBQ2xCLGNBQWU7QUFBQSxFQUNmLG9CQUFxQjtBQUFBLEVBQ3JCLGVBQWdCO0FBQUEsRUFDaEIsb0JBQW1CO0FBQUEsRUFDbkIsVUFBUztBQUFBLEVBQ1Qsa0JBQWlCO0FBQUEsRUFDakIscUJBQXFCO0FBQUEsRUFDbEIsc0JBQXNCO0FBQUEsRUFDekIsT0FBTTtBQUNQO0FBR08sSUFBTSxlQUFOLGNBQTJCLGtDQUFpQjtBQUFBLEVBR2xELFlBQVksS0FBVSxRQUF5QjtBQUM5QyxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBQyxZQUFXLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHlCQUFRLFdBQVcsRUFDcEIsUUFBUSxLQUFLLE9BQU8sUUFBUSwwQkFBMEIsRUFDdEQ7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxrQkFBa0IsRUFDaEQsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMscUJBQXFCO0FBQzFDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsYUFBSyxPQUFPLFNBQVMsS0FBSztBQUFBLE1BQzNCLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsS0FBSyxPQUFPLFFBQVEscUJBQXFCLEVBQ2pEO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxFQUMzQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDckMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixhQUFLLE9BQU8sU0FBUyxLQUFLO0FBQUEsTUFDM0IsQ0FBQztBQUFBLElBQ0Y7QUFHRixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxLQUFLLE9BQU8sUUFBUSxpQkFBaUIsRUFDN0MsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQ3ZDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLEtBQUssT0FBTyxRQUFRLDBCQUEwQixFQUN0RCxZQUFZLGNBQVksU0FDdkIsVUFBVSxxQkFBb0IsS0FBSyxPQUFPLFFBQVEsaUJBQWlCLEVBQ25FLFVBQVUsb0JBQW1CLEtBQUssT0FBTyxRQUFRLGdCQUFnQixFQUNqRSxVQUFVLGtCQUFpQixLQUFLLE9BQU8sUUFBUSxjQUFjLEVBQzdELFVBQVUsb0JBQW1CLEtBQUssT0FBTyxRQUFRLGdCQUFnQixFQUNqRSxVQUFVLHlCQUF3QixLQUFLLE9BQU8sUUFBUSxxQkFBcUIsRUFDM0UsVUFBVSxlQUFjLEtBQUssT0FBTyxRQUFRLFdBQVcsRUFDdkQsVUFBVSxpQkFBZ0IsS0FBSyxPQUFPLFFBQVEsYUFBYSxFQUMzRCxVQUFVLGlCQUFnQixLQUFLLE9BQU8sUUFBUSxhQUFhLEVBQzNELFVBQVUsZUFBYyxLQUFLLE9BQU8sUUFBUSxXQUFXLEVBQ3ZELFVBQVUsSUFBRyxFQUFFLEVBRWYsU0FBUyxLQUFLLE9BQU8sU0FBUyxrQkFBa0IsRUFDaEQsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMscUJBQXFCO0FBQzFDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxLQUFLLE9BQU8sUUFBUSxpQkFBaUIsRUFDN0MsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQ3ZDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLEtBQUssT0FBTyxRQUFRLHNCQUFzQixFQUNsRDtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLGNBQWMsRUFDNUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3RDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLEtBQUssT0FBTyxRQUFRLDZCQUE2QixFQUN6RCxRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLHFCQUFxQixFQUNuRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyx3QkFBd0I7QUFDN0MsV0FBSyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3RDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFTCxRQUFJLHlCQUFRLFdBQVcsRUFDbkIsUUFBUSxLQUFLLE9BQU8sUUFBUSw2QkFBNkIsRUFDekQsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyw4QkFBOEIsRUFDNUQsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsaUNBQWlDO0FBQ3RELFdBQUssT0FBTyxTQUFTLGlCQUFpQjtBQUN0QyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRU4sUUFBSSx5QkFBUSxXQUFXLEVBQ25CLFFBQVEsS0FBSyxPQUFPLFFBQVEsaUNBQWlDLEVBQzdELFFBQVEsVUFBUSxLQUNmLFNBQVMsS0FBSyxPQUFPLFNBQVMseUJBQXlCLEVBQ3ZELFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLDRCQUE0QjtBQUNqRCxXQUFLLE9BQU8sU0FBUyxtQkFBbUI7QUFDeEMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUdOLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLEtBQUssT0FBTyxRQUFRLGlDQUFpQyxFQUM3RDtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLHlCQUF5QixFQUN2RCxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyw0QkFBNEI7QUFDakQsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsS0FBSyxPQUFPLFFBQVEsdUJBQXVCLEVBQ25EO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsS0FBSyxPQUFPLFFBQVEsb0JBQW9CLEVBQ2hEO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3BDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLEtBQUssT0FBTyxRQUFRLGdCQUFnQixFQUM1QztBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFFBQVEsRUFDdEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsV0FBVztBQUNoQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLGFBQUssT0FBTyxTQUFTLFNBQVM7QUFBQSxNQUMvQixDQUFDO0FBQUEsSUFDRjtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLEtBQUssT0FBTyxRQUFRLHdCQUF3QixFQUNwRDtBQUFBLE1BQVksVUFBUSxLQUNuQixTQUFTLEtBQUssT0FBTyxTQUFTLGdCQUFnQixFQUM5QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxtQkFBbUI7QUFDeEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsS0FBSyxPQUFPLFFBQVEsYUFBYSxFQUN6QztBQUFBLE1BQVksVUFBUSxLQUNuQixTQUFTLEtBQUssT0FBTyxTQUFTLEtBQUssRUFDbkMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsUUFBUTtBQUM3QixjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNIO0FBQ0Q7OztBQ2hPQSxJQUFBQyxtQkFFTztBQUtQLElBQU0seUJBQXlCLENBQUMsWUFBNEI7QUFBQSxFQUMzRCxJQUFJO0FBQUEsRUFDRCxNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3hCLE1BQUs7QUFBQSxFQUNMLFVBQVUsWUFBWTtBQUNyQixRQUFJLE9BQU8sT0FBTyxNQUFNO0FBQ3hCLFFBQUcsUUFBUSxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBQ3hCLFdBQU8sSUFBSSxZQUFZO0FBQUEsTUFDdEI7QUFBQSxNQUNBLE9BQU8sT0FBTTtBQUNaLFlBQUcsUUFBTSxNQUFLO0FBQUM7QUFBQSxRQUFPO0FBQ3RCLFlBQUcsR0FBRyxVQUFVLEtBQUcsTUFBSztBQUFDO0FBQUEsUUFBTztBQUNoQyxZQUFJLFNBQVMsT0FBTyxNQUFNLGFBQWEsR0FBRyxTQUFTLE1BQU07QUFDekQsWUFBSSxlQUFlLE9BQU8sTUFBTSxhQUFhLEdBQUcsU0FBUyxZQUFZO0FBQ3JFLHVCQUFlLGFBQWEsT0FBTyxDQUFDLE1BQVcsQ0FBQyxPQUFPLFNBQVMsQ0FBQyxDQUFDO0FBQ2xFLFlBQUksUUFBUSxPQUFPLE1BQU0sYUFBYSxDQUFDLFFBQU8sWUFBWSxDQUFDO0FBQzNELGdCQUFRLE1BQU0sSUFBSSxDQUFDLE1BQVcsT0FBTyxNQUFNLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZELFlBQUcsS0FBSyxVQUFRLE1BQUs7QUFBQztBQUFBLFFBQU07QUFBQztBQUM3QixZQUFJLFNBQVMsT0FBTyxNQUFNLHFCQUFxQixLQUFLLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBUSxDQUFDLE1BQU0sU0FBUyxDQUFDLENBQUM7QUFDOUYsZ0JBQVEsT0FBTyxNQUFNLGFBQWEsQ0FBQyxRQUFPLEtBQUssQ0FBQztBQUNoRCxjQUFNLE9BQU8sTUFBTSxvQkFBb0IsS0FBSztBQUM1QyxlQUFPLFNBQVMsS0FBSztBQUFBLE1BQ3RCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQUVBLElBQU0seUJBQXlCLENBQUMsWUFBNEI7QUFBQSxFQUMzRCxJQUFJO0FBQUEsRUFDRCxNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3hCLE1BQUs7QUFBQSxFQUNMLFVBQVUsWUFBWTtBQUNyQixRQUFJLEtBQUs7QUFDVCxRQUFJLE9BQU8sT0FBTyxNQUFNO0FBQ3hCLFFBQUcsUUFBTSxRQUFRLEtBQUssVUFBUSxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBRTNDLFFBQUksT0FBTyxLQUFLLE9BQU8sT0FBSyxNQUFJLEtBQUssT0FBTyxPQUFLO0FBQ2pELFFBQUksTUFBTSxNQUFNLEdBQUcsTUFBTSxVQUFVLElBQUk7QUFDdkMsUUFBRyxPQUFLLE1BQUs7QUFDWixZQUFNLE1BQU0sT0FBTyxJQUFJLE1BQU07QUFBQSxRQUM1QixLQUFLLE9BQU8sT0FBSyxNQUFJLEtBQUssT0FBTyxPQUFLO0FBQUEsUUFDdEM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFVBQU0sR0FBRyxJQUFJLFlBQVk7QUFBQSxNQUN4QjtBQUFBLE1BQ0EsUUFBSztBQUNKLFlBQUcsR0FBRyxVQUFVLEtBQUcsTUFBSztBQUN2QixhQUFHLFVBQVUsSUFBSTtBQUFBLFlBQ2hCLFVBQVM7QUFBQSxZQUNULFNBQVEsSUFBSSxPQUFPO0FBQUEsWUFDbkIsWUFBVztBQUFBLFlBQ1gsZUFBYztBQUFBLFlBQ2QsVUFBUyxDQUFDO0FBQUEsWUFDVixnQkFBZSxDQUFDO0FBQUEsVUFDakI7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxVQUFNLE9BQU8sSUFBSSxZQUFZO0FBQUEsTUFDNUI7QUFBQSxNQUNBLFFBQUs7QUFDSixZQUFHLE9BQUssTUFBSztBQUFDO0FBQUEsUUFBTztBQUNyQixZQUFHLElBQUksVUFBUSxNQUFLO0FBQUM7QUFBQSxRQUFNO0FBQUM7QUFFNUIsWUFBRyxHQUFHLFVBQVUsS0FBRyxNQUFLO0FBQUM7QUFBQSxRQUFPO0FBQ2hDLFlBQUksUUFBUSxPQUFPLE1BQU0scUJBQXFCLElBQUksTUFBTTtBQUN4RCxnQkFBUSxPQUFPLE1BQU0scUJBQXFCLEtBQUs7QUFDL0MsV0FBRyxTQUFTLFNBQVMsTUFBTSxJQUFJLENBQUMsTUFBVSxFQUFFLFFBQVE7QUFBQSxNQUNyRDtBQUFBLElBQ0Q7QUFDQSxVQUFNLEdBQUcsTUFBTSxVQUFVLEdBQUc7QUFBQSxFQUM3QjtBQUNEO0FBR0EsSUFBTSx5QkFBeUIsQ0FBQyxZQUE0QjtBQUFBLEVBQzNELElBQUk7QUFBQSxFQUNELE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsTUFBSztBQUFBLEVBQ0wsVUFBVSxZQUFZO0FBQ3JCLFVBQU0sT0FBTyxTQUFTLEtBQUssR0FBRSxJQUFJO0FBQUEsRUFDbEM7QUFDRDtBQUVBLElBQU0seUJBQXlCLENBQUMsWUFBNEI7QUFBQSxFQUMzRCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQUs7QUFBQSxFQUNMLFVBQVUsTUFBTTtBQUNmLFdBQU8sa0JBQWtCO0FBQUEsRUFDMUI7QUFDRDtBQUVBLElBQU0sZ0JBQWdCLENBQUMsWUFBNEI7QUFBQSxFQUNsRCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLFVBQVUsTUFBTTtBQUNmLFdBQU8sTUFBTSxvQkFBb0I7QUFBQSxFQUNsQztBQUNEO0FBRUEsSUFBTSxxQkFBcUIsQ0FBQyxZQUE0QjtBQUFBLEVBQ3ZELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDckIsTUFBTTtBQUFBLEVBQ04sVUFBVSxNQUFNO0FBQ2YsV0FBTyxNQUFNLGdCQUFnQjtBQUFBLEVBQzlCO0FBQ0Q7QUFFQSxJQUFNLHFCQUFxQixDQUFDLFlBQTRCO0FBQUEsRUFDdkQsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFNO0FBQUEsRUFDTixVQUFVLE1BQU07QUFDZixXQUFPLE1BQU0sZ0JBQWdCO0FBQUEsRUFDOUI7QUFDRDtBQUdBLElBQU0sZ0JBQWdCLENBQUMsWUFBNEI7QUFBQSxFQUNsRCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQUs7QUFBQSxFQUNMLFVBQVUsTUFBTTtBQUNmLFdBQU8sY0FBYztBQUFBLEVBQ3RCO0FBQ0Q7QUFFQSxJQUFNLDhCQUE4QixDQUFDLFlBQTRCO0FBQUEsRUFDaEUsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFLO0FBQUEsRUFDTCxVQUFVLE1BQU07QUFDZixXQUFPLE1BQU0sZ0NBQWdDO0FBQUEsRUFDOUM7QUFDRDtBQUVBLElBQU0sMEJBQTBCLENBQUMsWUFBNEI7QUFBQSxFQUM1RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQUs7QUFBQSxFQUNMLFVBQVUsTUFBTTtBQUNmLFdBQU8sd0JBQXdCO0FBQUEsRUFDaEM7QUFDRDtBQUVBLElBQU0sb0JBQW9CLENBQUMsWUFBNEI7QUFBQSxFQUN0RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLFVBQVUsWUFBWTtBQUNyQixVQUFNLE9BQU8sc0JBQXNCO0FBQ25DLFVBQU0sT0FBTyxTQUFTLEtBQUssR0FBRztBQUFBLEVBQy9CO0FBQ0Q7QUFFQSxJQUFNLHFCQUFxQixDQUFDLFlBQTRCO0FBQUEsRUFDdkQsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFLO0FBQUEsRUFDTCxVQUFVLFlBQVk7QUFDckIsVUFBTSxPQUFPLE1BQU0sdUJBQXVCO0FBQzFDLFdBQU8sU0FBUyxLQUFLO0FBQUEsRUFDdEI7QUFDRDtBQUVBLElBQU0scUJBQXFCLENBQUMsWUFBNEI7QUFBQSxFQUN2RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLFVBQVUsWUFBWTtBQUNyQixRQUFJLFFBQVEsT0FBTyxNQUFNO0FBQ3pCLFFBQUcsT0FBTTtBQUNSLFVBQUksU0FBUyxPQUFPLE1BQU0sY0FBYyxLQUFLO0FBQzdDLFVBQUcsUUFBTztBQUNULGNBQU0sT0FBTyxNQUFNO0FBQUEsVUFDbEI7QUFBQSxVQUFNO0FBQUEsUUFDUDtBQUNBLGNBQU0sT0FBTyxTQUFTLEtBQUs7QUFBQSxNQUM1QjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFNLHVCQUF1QixDQUFDLFlBQTRCO0FBQUEsRUFDekQsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFNO0FBQUEsRUFDTixVQUFVLFlBQVk7QUFDckIsUUFBSSxRQUFRLE9BQU8sTUFBTTtBQUN6QixRQUFHLE9BQU07QUFDUixVQUFJLFNBQVMsT0FBTyxNQUFNLGNBQWMsS0FBSztBQUM3QyxVQUFHLFFBQU87QUFDVCxjQUFNLE9BQU8sTUFBTTtBQUFBLFVBQ2xCO0FBQUEsVUFBTTtBQUFBLFFBQ1A7QUFDQSxjQUFNLE9BQU8sU0FBUyxLQUFLO0FBQUEsTUFDNUI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTSxrQkFBa0IsQ0FBQyxZQUE0QjtBQUFBLEVBQ3BELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDckIsTUFBTTtBQUFBLEVBQ04sVUFBVSxZQUFZO0FBQ3JCLFFBQUksVUFBaUMsQ0FBQztBQUN0QyxZQUFRLE9BQU8sUUFBUSw0QkFBNEIsSUFBSTtBQUN2RCxZQUFRLE9BQU8sUUFBUSw4QkFBOEIsSUFBSTtBQUN6RCxZQUFRLE9BQU8sUUFBUSw2QkFBNkIsSUFBSTtBQUN4RCxZQUFRLE9BQU8sUUFBUSw4QkFBOEIsSUFBSTtBQUN6RCxZQUFRLE9BQU8sUUFBUSwyQkFBMkIsSUFBSTtBQUV0RCxRQUFJLFNBQVMsTUFBTSxPQUFPO0FBQUEsTUFDekIsT0FBTyxNQUFNLGdCQUFnQixPQUFPLEtBQUssT0FBTyxDQUFDO0FBQUEsTUFDakQsT0FBTyxPQUFPLE9BQU87QUFBQSxNQUNyQjtBQUFBLElBQ0Q7QUFDQSxRQUFHLENBQUMsUUFBTztBQUFDO0FBQUEsSUFBTztBQUNuQixRQUFJLE9BQU8sTUFBTSxPQUFPLGNBQWMsT0FBTyxRQUFRLGVBQWU7QUFDcEUsUUFBRyxNQUFLO0FBQ1AsVUFBSSxPQUFPLE9BQU8sTUFBTTtBQUN4QixVQUFHLFFBQVEsS0FBSyxRQUFPO0FBQ3RCLFlBQUksT0FBTyxLQUFLLE9BQU8sT0FBSyxNQUFJLE9BQUs7QUFDckMsWUFBSSxNQUFNLE1BQU0sT0FBTyxNQUFNLFVBQVUsSUFBSTtBQUMzQyxZQUFHLE9BQUssTUFBSztBQUNaLGdCQUFNLE1BQU0sT0FBTyxJQUFJLE1BQU07QUFBQSxZQUM1QixLQUFLLE9BQU8sT0FBSyxNQUFJLE9BQUs7QUFBQSxZQUMxQjtBQUFBLFVBQ0Q7QUFDQSxjQUFHLEVBQUUsV0FBUyxTQUFRO0FBQ3JCLGtCQUFPLE9BQU8sTUFBYyxNQUFNLEVBQUUsS0FBSSxJQUFJO0FBQzVDLGdCQUFHLFVBQVEsNkJBQTJCLFVBQVEsNEJBQTJCO0FBRXhFLG9CQUFNLE9BQU8sT0FBTztBQUFBLGdCQUNuQjtBQUFBLGdCQUFLO0FBQUEsZ0JBQUksT0FBTyxTQUFTO0FBQUEsY0FDMUI7QUFBQSxZQUNEO0FBQUEsVUFDRDtBQUNBLGdCQUFNLE9BQU8sTUFBTSxVQUFVLEdBQUc7QUFDaEMsZ0JBQU0sT0FBTyxTQUFTLEtBQUs7QUFBQSxRQUM1QjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTSxrQkFBa0IsQ0FBQyxZQUE0QjtBQUFBLEVBQ3BELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDckIsTUFBTTtBQUFBLEVBQ04sVUFBVSxZQUFZO0FBQ3JCLFFBQUksS0FBSztBQUNULFFBQUksT0FBTyxHQUFHLE1BQU07QUFDcEIsUUFBRyxNQUFLO0FBQ1AsWUFBTyxPQUFPLElBQVksU0FBUyxtQkFBbUIsb0JBQW9CO0FBQzFFLFlBQU8sR0FBRyxTQUFTLGNBQXNCLEtBQUssZUFBZSxJQUFJO0FBQ2pFLFlBQU8sR0FBRyxTQUFTLGNBQXNCLGVBQWUsSUFBSTtBQUM1RCxZQUFNLE1BQU0sR0FBRztBQUVmLFVBQUksY0FBYyxHQUFHLFNBQVMsY0FBYztBQUM1QyxVQUFJLFFBQVEsWUFBWSxjQUFjLHNCQUFzQjtBQUM1RCxVQUFJLFNBQU8sWUFBWSxjQUFjLGVBQWUsS0FBSyxRQUFRO0FBQ2pFLFVBQUcsU0FBUyxVQUFXLE9BQWUsV0FBVTtBQUMvQyxZQUFJLE9BQU8sTUFBTSxhQUFZLE9BQWUsYUFBVyxNQUFNLFlBQVUsTUFBTSxlQUFhO0FBQzFGLGNBQU0sU0FBUyxFQUFFLEtBQUssTUFBTSxVQUFVLFNBQVMsQ0FBQztBQUFBLE1BQ2pEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQUdBLElBQU0sMkJBQTJCLENBQUMsWUFBNEI7QUFBQSxFQUM3RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQUs7QUFBQSxFQUNMLFVBQVUsWUFBWTtBQUNyQixRQUFJLEtBQUs7QUFDVCxRQUFJLE9BQU8sTUFBTSxHQUFHLE1BQU0sZUFBZTtBQUN6QyxRQUFHLE1BQUs7QUFDUCxZQUFNLEdBQUcsTUFBTSxVQUFVLElBQUk7QUFDN0IsWUFBTyxHQUFHLFNBQVMsY0FBc0IsS0FBSyxlQUFlLElBQUk7QUFDakUsWUFBTyxHQUFHLFNBQVMsY0FBc0IsZUFBZSxJQUFJO0FBQzVELFlBQU0sTUFBTSxHQUFHO0FBRWYsVUFBSSxjQUFjLEdBQUcsU0FBUyxjQUFjO0FBQzVDLFVBQUksUUFBUSxZQUFZLGNBQWMsc0JBQXNCO0FBQzVELFVBQUksU0FBTyxZQUFZLGNBQWMsZUFBZSxLQUFLLFFBQVE7QUFDakUsVUFBRyxTQUFTLFVBQVcsT0FBZSxXQUFVO0FBQy9DLFlBQUksT0FBTyxNQUFNLGFBQVksT0FBZSxhQUFXLE1BQU0sWUFBVSxNQUFNLGVBQWE7QUFDMUYsY0FBTSxTQUFTLEVBQUUsS0FBSyxNQUFNLFVBQVUsU0FBUyxDQUFDO0FBQUEsTUFDakQ7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTSxtQ0FBbUMsQ0FBQyxZQUE0QjtBQUFBLEVBQ3JFLElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDckIsTUFBTTtBQUFBLEVBQ04sVUFBVSxZQUFZO0FBQ3JCLFFBQUksS0FBSztBQUNULFFBQUksT0FBTyxHQUFHLE1BQU0sdUJBQXVCO0FBQzNDLFFBQUcsTUFBSztBQUNQLFVBQUksT0FBTyxHQUFHLE1BQU0sY0FBZSxLQUFLLEtBQWEsSUFBSTtBQUN6RCxVQUFHLE1BQUs7QUFDUCxjQUFNLEtBQUssU0FBUyxNQUFLLEVBQUMsUUFBTyxNQUFLLENBQUM7QUFDdkMsY0FBTSxHQUFHLElBQUksVUFBVSxRQUFRLGFBQWEsSUFBSTtBQUFBLE1BQ2pEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQUVBLElBQU0sbUNBQW1DLENBQUMsWUFBNEI7QUFBQSxFQUNyRSxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQU07QUFBQSxFQUNOLFVBQVUsWUFBWTtBQUNyQixRQUFJLEtBQUs7QUFDVCxRQUFJLE9BQU8sR0FBRyxNQUFNLHVCQUF1QjtBQUMzQyxRQUFHLE1BQUs7QUFDUCxVQUFJLE9BQU8sR0FBRyxNQUFNLGNBQWUsS0FBSyxLQUFhLElBQUk7QUFDekQsVUFBRyxNQUFLO0FBQ1AsY0FBTSxLQUFLLFNBQVMsTUFBSyxFQUFDLFFBQU8sTUFBSyxDQUFDO0FBQ3ZDLGNBQU0sR0FBRyxJQUFJLFVBQVUsUUFBUSxhQUFhLElBQUk7QUFBQSxNQUNqRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFNLGdDQUFnQyxDQUFDLFlBQTRCO0FBQUEsRUFDbEUsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFLO0FBQUEsRUFDTCxVQUFVLFlBQVk7QUFDckIsUUFBSSxLQUFLO0FBQ1QsUUFBSSxHQUFHLElBQVksVUFBUztBQUFDO0FBQUEsSUFBTztBQUNwQyxRQUFJLFFBQVEsR0FBRyxNQUFNO0FBQ3JCLFFBQUcsT0FBTTtBQUNSLFVBQUksUUFBUSxNQUFNLEdBQUcsTUFBTSxlQUFlLEtBQUs7QUFFL0MsVUFBSSxPQUFPLE9BQU8sS0FBSyxLQUFLO0FBQzVCLFVBQUksTUFBTSxNQUFNLEdBQUc7QUFBQSxRQUNsQixHQUFHLE1BQU0sZ0JBQWdCLElBQUk7QUFBQSxRQUM3QjtBQUFBLE1BQ0Q7QUFFQSxVQUFHLEtBQUk7QUFDTixZQUFJLE9BQU8sTUFBTSxHQUFHO0FBQ3BCLFlBQUksV0FBVyxRQUFRLFVBQVU7QUFDakMsaUJBQVMsT0FBTyxNQUFNLFNBQVMsSUFBSTtBQUFBLE1BQ3BDO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQUVBLElBQU0sbUNBQW1DLENBQUMsWUFBNEI7QUFBQSxFQUNyRSxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3JCLE1BQUs7QUFBQSxFQUNMLFVBQVUsWUFBWTtBQUNyQixRQUFJLEtBQUs7QUFDVCxRQUFJLEdBQUcsSUFBWSxVQUFTO0FBQUM7QUFBQSxJQUFPO0FBQ3BDLFFBQUksUUFBUSxHQUFHLE1BQU07QUFDckIsUUFBRyxPQUFNO0FBQ1IsVUFBSSxRQUFRLE1BQU0sR0FBRyxNQUFNLGVBQWUsS0FBSztBQUMvQyxVQUFJLE9BQU8sT0FBTyxLQUFLLEtBQUs7QUFDNUIsVUFBSSxNQUFNLE1BQU0sR0FBRztBQUFBLFFBQ2xCLEdBQUcsTUFBTSxnQkFBZ0IsSUFBSTtBQUFBLFFBQzdCO0FBQUEsTUFDRDtBQUVBLFVBQUcsS0FBSTtBQUNOLFlBQUksT0FBTyxNQUFNLEdBQUc7QUFDcEIsWUFBSSxXQUFXLFFBQVEsVUFBVTtBQUNqQyxpQkFBUyxPQUFPLE1BQU0saUJBQWlCLElBQUk7QUFBQSxNQUM1QztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFNLGtCQUFrQixDQUFDLFlBQTRCO0FBQUEsRUFDcEQsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUNyQixNQUFNO0FBQUEsRUFDTixVQUFVLFlBQVk7QUFDckIsUUFBSSxLQUFLO0FBQ1QsUUFBSSxHQUFHLElBQVksVUFBUztBQUFDO0FBQUEsSUFBTztBQUNwQyxRQUFJLFFBQVEsR0FBRyxNQUFNO0FBRXJCLFFBQUcsT0FBTTtBQUNSLFVBQUksUUFBMkIsQ0FBQztBQUNoQyxVQUFJLFFBQVEsR0FBRyxNQUFNLFlBQVksT0FBTSxLQUFLO0FBQzVDLGVBQVEsS0FBSyxPQUFNO0FBQ2xCLFlBQUcsRUFBRSxjQUFZLE1BQUs7QUFDckIsZ0JBQU0sa0JBQU0sRUFBRSxRQUFRLElBQUk7QUFBQSxRQUMzQixPQUFLO0FBQ0osZ0JBQU0sa0JBQU0sRUFBRSxJQUFJLElBQUk7QUFBQSxRQUN2QjtBQUFBLE1BQ0Q7QUFDQSxjQUFRLEdBQUcsTUFBTSxhQUFhLE9BQU0sS0FBSztBQUN6QyxlQUFRLEtBQUssT0FBTTtBQUNsQixZQUFHLEVBQUUsY0FBWSxNQUFLO0FBQ3JCLGdCQUFNLHFCQUFPLEVBQUUsUUFBUSxJQUFJO0FBQUEsUUFDNUIsT0FBSztBQUNKLGdCQUFNLHFCQUFPLEVBQUUsSUFBSSxJQUFJO0FBQUEsUUFDeEI7QUFBQSxNQUNEO0FBRUEsVUFBSSxPQUFPLE9BQU8sS0FBSyxLQUFLO0FBRTVCLFVBQUksTUFBTSxNQUFNLEdBQUc7QUFBQSxRQUNsQixHQUFHLE1BQU0sZ0JBQWdCLElBQUk7QUFBQSxRQUM3QjtBQUFBLE1BQ0Q7QUFFQSxVQUFHLEtBQUk7QUFDTixZQUFJLE9BQU8sTUFBTSxHQUFHO0FBQ3BCLFlBQUksTUFBTSxNQUFNLEdBQUcsY0FBYyxZQUFXLElBQUcsS0FBSyxRQUFRO0FBQzVELFlBQUcsT0FBTyxFQUFFLFFBQU0sS0FBSyxhQUFhLEVBQUUsUUFBTSxLQUFJO0FBQy9DLGNBQUksUUFBUSxLQUFLLE9BQU8sT0FBSyxNQUFJLE1BQUksTUFBSSxLQUFLO0FBQzlDLGNBQUksTUFBTSxHQUFHLE1BQU0sVUFBVSxNQUFJLE1BQUksS0FBSyxTQUFTO0FBQ25ELGNBQUcsS0FBSTtBQUNOLGdCQUFJLHdCQUFPLFdBQVMsTUFBSSxLQUFLLFdBQVUsR0FBSTtBQUFBLFVBQzVDLE9BQUs7QUFDSixlQUFHLElBQUksWUFBWSxXQUFXLE1BQUssS0FBSztBQUFBLFVBQ3pDO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTSw2QkFBNkIsQ0FBQyxZQUE2QjtBQUFBLEVBQzdELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsTUFBSztBQUFBLEVBQ0YsVUFBVSxZQUFZO0FBQ2xCLFVBQU0sVUFBVTtBQUNoQixVQUFNLE9BQU8sTUFBTSxtQkFBbUIsT0FBTztBQUFBLEVBQ2pEO0FBQ0o7QUFFQSxJQUFNLCtCQUErQixDQUFDLFlBQTZCO0FBQUEsRUFDL0QsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUN4QixNQUFLO0FBQUEsRUFDRixVQUFVLFlBQVk7QUFDbEIsVUFBTSxVQUFVO0FBQ2hCLFVBQU0sT0FBTyxNQUFNLG1CQUFtQixPQUFPO0FBQUEsRUFDakQ7QUFDSjtBQUVBLElBQU0sNkJBQTZCLENBQUMsWUFBNkI7QUFBQSxFQUM3RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3hCLE1BQUs7QUFBQSxFQUNGLFVBQVUsWUFBWTtBQUNsQixVQUFNLFVBQVU7QUFDaEIsVUFBTSxPQUFPLE1BQU0sbUJBQW1CLE9BQU87QUFBQSxFQUNqRDtBQUNKO0FBRUEsSUFBTSw2QkFBNkIsQ0FBQyxZQUE2QjtBQUFBLEVBQzdELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsTUFBSztBQUFBLEVBQ0YsVUFBVSxZQUFZO0FBQ3hCLFFBQUksTUFBTyxPQUFPLElBQVksUUFBUSxRQUFRLG9CQUFvQjtBQUNsRSxRQUFHLENBQUMsS0FBSTtBQUFDO0FBQUEsSUFBTTtBQUVmLFFBQUksU0FBUyxPQUFPLElBQUksTUFBTSxnQkFBZ0IsSUFBSSxTQUFTLGdCQUFnQjtBQUMzRSxRQUFJLFFBQVE7QUFDWixRQUFJO0FBQ0osUUFBRyxRQUFPO0FBQ1QsY0FBUSxPQUFPLEtBQUssU0FBTztBQUMzQixlQUFTLE9BQU8sTUFBTSxxQkFBcUIsUUFBTyxJQUFJO0FBQ3RELGVBQVMsT0FBTyxNQUFNLHFCQUFxQixNQUFNO0FBQUEsSUFDbEQsT0FBSztBQUNKLGVBQVMsT0FBTyxNQUFNLGVBQWU7QUFBQSxJQUN0QztBQUNBLFFBQUksUUFBUSxNQUFNLE9BQU8sTUFBTSxlQUFlLFFBQWMsS0FBSztBQUNqRSxRQUFHLE9BQU07QUFDUixVQUFJLE1BQU0sTUFBTSxPQUFPLE1BQU0sZ0JBQWdCLE9BQU8sS0FBSSxNQUFNLFFBQVE7QUFDdEUsVUFBSSxNQUFNLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSztBQUM5QixVQUFJLE9BQVEsT0FBTyxJQUFJLFVBQWtCLGtCQUFrQjtBQUMzRCxVQUFHLE1BQUs7QUFDUCxhQUFLLE9BQU8saUJBQWlCLEdBQUc7QUFBQSxNQUNqQztBQUFBLElBQ0Q7QUFBQSxFQUNFO0FBQ0o7QUFFQSxJQUFNLCtCQUErQixDQUFDLFlBQTZCO0FBQUEsRUFDL0QsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUN4QixNQUFLO0FBQUEsRUFDRixVQUFVLFlBQVk7QUFDeEIsVUFBTSxPQUFPLE1BQU0sZ0JBQWdCLE9BQU8sS0FBSSxVQUFTLEdBQUc7QUFBQSxFQUN4RDtBQUNKO0FBRUEsSUFBTSxzQkFBc0IsQ0FBQyxZQUE2QjtBQUFBLEVBQ3RELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsTUFBTTtBQUFBLEVBQ0gsVUFBVSxZQUFZO0FBQ3hCLFFBQUksUUFBUSxPQUFPLE1BQU0sbUJBQW1CLElBQUk7QUFDaEQsUUFBRyxNQUFNLFVBQVEsR0FBRTtBQUFDO0FBQUEsSUFBTTtBQUMxQixRQUFJLFFBQVEsTUFBTSxPQUFPLGNBQWMsa0JBQWtCO0FBQ3pELFFBQUcsQ0FBQyxPQUFNO0FBQUM7QUFBQSxJQUFNO0FBQ2pCLFFBQUksT0FBTyxPQUFPLE9BQU8sZ0JBQWdCLE1BQU0sQ0FBQyxHQUFFLEtBQUs7QUFDdkQsUUFBRyxNQUFLO0FBQ1AsVUFBRyxNQUFNLFFBQVEsSUFBSSxHQUFFO0FBQ3RCLGVBQU8sS0FBSyxJQUFJLE9BQUcsRUFBRSxTQUFTLENBQUMsRUFBRSxLQUFLLElBQUk7QUFBQSxNQUMzQyxPQUFLO0FBQ0osZUFBTyxLQUFLLFNBQVM7QUFBQSxNQUN0QjtBQUFBLElBQ0QsT0FBSztBQUNKLGFBQU87QUFBQSxJQUNSO0FBQ0EsUUFBSSxRQUFRLE1BQU0sT0FBTyxjQUFjLHFCQUFvQixJQUFHLElBQUk7QUFDbEUsWUFBUSxNQUFNLEtBQUs7QUFDbkIsUUFBRyxDQUFDLE9BQU07QUFBQztBQUFBLElBQU07QUFDakIsWUFBUSxNQUFNLFFBQVEsUUFBTyxJQUFJLEVBQUUsUUFBUSxRQUFPLEdBQUk7QUFDdEQsWUFBUSxNQUFNLE1BQU0sSUFBSTtBQUN4QixZQUFRLE1BQU0sSUFBSSxDQUFDLE1BQVc7QUFDN0IsVUFBRyxFQUFFLE1BQU0sU0FBUyxHQUFFO0FBQ3JCLGVBQU8sU0FBUyxDQUFDO0FBQUEsTUFDbEIsV0FBUyxFQUFFLE1BQU0saUJBQWlCLEdBQUU7QUFDbkMsZUFBTyxXQUFXLENBQUM7QUFBQSxNQUNwQixPQUFLO0FBQ0osZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNELENBQUM7QUFDRCxRQUFHLE1BQU0sVUFBUSxHQUFFO0FBQ2xCLGNBQVEsTUFBTSxDQUFDO0FBQUEsSUFDaEI7QUFDQSxhQUFRLFNBQVMsT0FBTTtBQUN0QixZQUFNLE9BQU8sT0FBTyxnQkFBZ0IsT0FBTSxPQUFNLE9BQU0sQ0FBQztBQUFBLElBQ3hEO0FBQUEsRUFDRTtBQUNKO0FBRUEsSUFBTSxzQkFBc0IsQ0FBQyxZQUE2QjtBQUFBLEVBQ3RELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsU0FBUyxDQUFDLEVBQUUsV0FBVyxDQUFDLE9BQU8sT0FBTyxHQUFHLEtBQUssSUFBSSxDQUFDO0FBQUEsRUFDbkQsTUFBTTtBQUFBLEVBQ0gsVUFBVSxZQUFZO0FBQ3hCLFFBQUksTUFBTSxPQUFPLFNBQVM7QUFDMUIsUUFBRyxDQUFDLEtBQUk7QUFBQztBQUFBLElBQU07QUFDZixRQUFJLFNBQVMsT0FBTyxNQUFNLG1CQUFtQjtBQUM3QyxhQUFRLFNBQVMsUUFBTztBQUN2QixVQUFJLFFBQVEsT0FBTyxPQUFPLGdCQUFnQixPQUFNLEdBQUc7QUFDbkQsVUFBRyxDQUFDLE9BQU07QUFDVCxjQUFNLE9BQU8sT0FBTyxnQkFBZ0IsT0FBTSxLQUFJLEtBQUssQ0FBQztBQUFBLE1BQ3JELE9BQUs7QUFDSixjQUFNLE9BQU8sT0FBTyxnQkFBZ0IsT0FBTSxLQUFJLFFBQU0sS0FBSyxDQUFDO0FBQUEsTUFDM0Q7QUFBQSxJQUNEO0FBQUEsRUFDRTtBQUNKO0FBRUEsSUFBTSxzQkFBc0IsQ0FBQyxZQUE2QjtBQUFBLEVBQ3RELElBQUk7QUFBQSxFQUNKLE1BQU0sT0FBTyxRQUFRO0FBQUEsRUFDeEIsU0FBUyxDQUFDLEVBQUUsV0FBVyxDQUFDLE9BQU8sT0FBTyxHQUFHLEtBQUssSUFBSSxDQUFDO0FBQUEsRUFDbkQsTUFBSztBQUFBLEVBQ0YsVUFBVSxZQUFZO0FBQ3hCLFFBQUksTUFBTSxPQUFPLFNBQVM7QUFDMUIsUUFBRyxDQUFDLEtBQUk7QUFBQztBQUFBLElBQU07QUFDZixRQUFJLFNBQVMsT0FBTyxNQUFNLG1CQUFtQjtBQUM3QyxhQUFRLFNBQVMsUUFBTztBQUN2QixVQUFJLFFBQVEsT0FBTyxPQUFPLGdCQUFnQixPQUFNLEdBQUc7QUFDbkQsVUFBRyxPQUFNO0FBQ1IsY0FBTSxPQUFPLE9BQU8sZ0JBQWdCLE9BQU0sS0FBSSxJQUFHLENBQUM7QUFBQSxNQUNuRDtBQUFBLElBQ0Q7QUFBQSxFQUNFO0FBQ0o7QUFFQSxJQUFNLHNCQUFzQixDQUFDLFlBQTZCO0FBQUEsRUFDdEQsSUFBSTtBQUFBLEVBQ0osTUFBTSxPQUFPLFFBQVE7QUFBQSxFQUN4QixTQUFTLENBQUMsRUFBRSxXQUFXLENBQUMsT0FBTyxPQUFPLEdBQUcsS0FBSyxJQUFJLENBQUM7QUFBQSxFQUNuRCxNQUFLO0FBQUEsRUFDRixVQUFVLFlBQVk7QUFDeEIsUUFBSSxNQUFNLE9BQU8sU0FBUztBQUMxQixRQUFHLENBQUMsS0FBSTtBQUFDO0FBQUEsSUFBTTtBQUNmLFFBQUksU0FBUyxPQUFPLE1BQU0sbUJBQW1CO0FBQzdDLGFBQVEsU0FBUyxRQUFPO0FBQ3ZCLFVBQUksUUFBUSxPQUFPLE9BQU8sZ0JBQWdCLE9BQU0sR0FBRztBQUNuRCxVQUFHLE9BQU07QUFDUixjQUFNLE9BQU8sT0FBTyxnQkFBZ0IsT0FBTSxLQUFJLE1BQU0sTUFBTSxDQUFDLEdBQUUsQ0FBQztBQUFBLE1BQy9EO0FBQUEsSUFDRDtBQUFBLEVBQ0U7QUFDSjtBQUVBLElBQU0sd0JBQXdCLENBQUMsWUFBNkI7QUFBQSxFQUN4RCxJQUFJO0FBQUEsRUFDSixNQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3hCLE1BQUs7QUFBQSxFQUNGLFVBQVUsWUFBWTtBQXptQjFCO0FBMm1CRSxRQUFJLFVBQVUsWUFBTyxJQUFZLFVBQVUsa0JBQWtCLE1BQS9DLG1CQUFrRDtBQUNoRSxRQUFHLENBQUMsUUFBTztBQUFDO0FBQUEsSUFBTztBQUVuQixRQUFJLE1BQTZCLENBQUM7QUFDbEMsV0FBTztBQUFBLE1BQ0wsT0FBTyxJQUFZLFNBQVM7QUFBQSxJQUM5QixFQUFFO0FBQUEsTUFBUSxDQUFDLE1BQUk7QUFDZCxZQUFLLE9BQU8sSUFBWSxTQUFTLFNBQVMsQ0FBQyxFQUFFLElBQUksSUFBRTtBQUFBLE1BQUU7QUFBQSxJQUN0RDtBQUVBLFFBQUksUUFBUSxPQUFPLEtBQUssR0FBRztBQUUzQixRQUFJLE1BQU0sT0FBTyxNQUFNLGdCQUFnQixLQUFLO0FBQzVDLFFBQUksTUFBTSxNQUFNLE9BQU8sZUFBZSxLQUFJLEtBQUs7QUFDL0MsUUFBRyxLQUFJO0FBQ04sYUFBTyxpQkFBaUIsSUFBSSxHQUFHLENBQUM7QUFBQSxJQUNqQztBQUFBLEVBQ0U7QUFDSjtBQUtBLElBQU0sa0JBQWtCO0FBQUEsRUFDdkI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNEO0FBRUEsSUFBTSx5QkFBeUI7QUFBQSxFQUM5QjtBQUFBLEVBQ0E7QUFFRDtBQUVPLFNBQVMsWUFBWSxRQUF3QjtBQUNoRCxrQkFBZ0IsUUFBUSxDQUFDLE1BQU07QUFDM0IsV0FBTyxXQUFXLEVBQUUsTUFBTSxDQUFDO0FBQUEsRUFDL0IsQ0FBQztBQUNKLE1BQUksT0FBTyxJQUFZLFlBQVUsT0FBTTtBQUN0QywyQkFBdUIsUUFBUSxDQUFDLE1BQU07QUFDckMsYUFBTyxXQUFXLEVBQUUsTUFBTSxDQUFDO0FBQUEsSUFDNUIsQ0FBQztBQUFBLEVBQ0Y7QUFDRDs7O0FDbHJCQSxJQUFBQyxvQkFBa0M7QUErQmxDLElBQXFCLGlCQUFyQixjQUE0QyxvQ0FBMEI7QUFBQSxFQXlCOUQsWUFDTixLQUNRLGNBQ0EsT0FDUixVQUE0QixDQUFDLEdBQzdCLFlBQXFCLE9BQ3BCO0FBQ0QsVUFBTSxHQUFHO0FBTEQ7QUFDQTtBQUtSLFNBQUssWUFBWTtBQUVqQixTQUFLLFVBQVUsSUFBSSxRQUFnQixDQUFDLFNBQVMsV0FBVztBQUN2RCxXQUFLLGlCQUFpQjtBQUN0QixXQUFLLGdCQUFnQjtBQUFBLElBQ3RCLENBQUM7QUFFRCxTQUFLLFFBQVEsaUJBQWlCLFdBQVcsQ0FBQyxVQUF5QjtBQXZFckU7QUF3RUcsVUFBSSxNQUFNLFNBQVMsT0FBTztBQUN6QjtBQUFBLE1BQ0Q7QUFHQSxZQUFNLE9BQU87QUFDYixZQUFNLEVBQUUsUUFBUSxhQUFhLElBQUksS0FBSztBQUV0QyxZQUFNLEVBQUUsTUFBTSxJQUFJLEtBQUs7QUFDdkIsV0FBSyxRQUFRLFNBQVEsWUFBTyxZQUFZLEVBQUUsU0FBckIsWUFBNkI7QUFBQSxJQUNuRCxDQUFDO0FBRUQsUUFBSSxRQUFRO0FBQWEsV0FBSyxlQUFlLFFBQVEsV0FBVztBQUNoRSxRQUFJLFFBQVE7QUFBTyxXQUFLLFFBQVEsUUFBUTtBQUN4QyxRQUFJLFFBQVE7QUFDWCxXQUFLLGlCQUFpQixRQUFRO0FBRS9CLFNBQUssS0FBSztBQUFBLEVBQ1g7QUFBQSxFQW5EQSxPQUFjLFFBQ2IsS0FDQSxjQUNBLE9BQ0EsVUFBNEIsQ0FBQyxHQUM3QixZQUFrQixPQUNqQjtBQUNELFVBQU0sZUFBZSxJQUFJO0FBQUEsTUFDeEI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUNBLFdBQU8sYUFBYTtBQUFBLEVBQ3JCO0FBQUEsRUFzQ0EsWUFBWSxNQUFzQjtBQUNqQyxRQUFJLFNBQVMsS0FBSyxRQUFRO0FBQU8sYUFBTztBQUV4QyxXQUFPLEtBQUssYUFBYSxLQUFLLE1BQU0sUUFBUSxJQUFJLENBQUM7QUFBQSxFQUNsRDtBQUFBLEVBRUEsV0FBcUI7QUFDcEIsUUFBSSxLQUFLLFFBQVEsVUFBVSxNQUFJLENBQUMsS0FBSztBQUFXLGFBQU8sS0FBSztBQUM1RCxXQUFPLENBQUMsR0FBRyxLQUFLLE9BQU0sS0FBSyxRQUFRLEtBQUs7QUFBQSxFQUN6QztBQUFBLEVBRUEsaUJBQ0MsT0FDQSxLQUNDO0FBQ0QsU0FBSyxXQUFXO0FBQ2hCLFVBQU0saUJBQWlCLE9BQU8sR0FBRztBQUFBLEVBQ2xDO0FBQUEsRUFFQSxhQUFhLE1BQWMsS0FBdUM7QUFDakUsU0FBSyxXQUFXO0FBQ2hCLFNBQUssZUFBZSxJQUFJO0FBQUEsRUFDekI7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLFFBQVE7QUFDZCxRQUFJLENBQUMsS0FBSztBQUFVLFdBQUssY0FBYyxpQkFBaUI7QUFBQSxFQUN6RDtBQUNEO0FBRUEsZUFBc0IsZUFBZSxjQUEyQixPQUFpQixjQUFZLElBQUcsWUFBVSxPQUFPO0FBQ2hILE1BQUc7QUFDRixXQUFPLE1BQU0sZUFBZTtBQUFBLE1BQzNCLEtBQUs7QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxRQUNDO0FBQUEsTUFDRDtBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBQUEsRUFDRCxTQUFPLE9BQU47QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUVEOzs7QUN6SUEsSUFBQUMsb0JBQXNEO0FBTXRELElBQXFCLGNBQXJCLGNBQXlDLHdCQUFNO0FBQUEsRUF5QnBDLFlBQ1QsS0FDUSxRQUNSLGFBQ0EsT0FDQztBQUNELFVBQU0sR0FBRztBQUpEO0FBdEJULFNBQVEsWUFBWTtBQXVHcEIsU0FBUSxzQkFBc0IsQ0FBQyxRQUFvQixLQUFLLE9BQU87QUFDL0QsU0FBUSxzQkFBc0IsQ0FBQyxRQUFvQixLQUFLLE9BQU87QUFFL0QsU0FBUSxzQkFBc0IsQ0FBQyxRQUF1QjtBQUNyRCxVQUFJLENBQUMsSUFBSSxlQUFlLElBQUksUUFBUSxTQUFTO0FBQzVDLFlBQUksZUFBZTtBQUNuQixhQUFLLE9BQU87QUFBQSxNQUNiO0FBQUEsSUFDRDtBQXBGQyxTQUFLLGNBQWMsb0NBQWU7QUFDbEMsU0FBSyxRQUFRLHdCQUFTO0FBRXRCLFNBQUssZUFBZSxJQUFJLFFBQWdCLENBQUMsU0FBUyxXQUFXO0FBQzVELFdBQUssaUJBQWlCO0FBQ3RCLFdBQUssZ0JBQWdCO0FBQUEsSUFDdEIsQ0FBQztBQUVELFNBQUssUUFBUTtBQUNiLFNBQUssS0FBSztBQUFBLEVBRVg7QUFBQSxFQWpDQSxPQUFjLE9BQ2IsS0FDQSxRQUNBLGFBQ0EsT0FDa0I7QUFDbEIsVUFBTSxpQkFBaUIsSUFBSTtBQUFBLE1BQzFCO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUNBLFdBQU8sZUFBZTtBQUFBLEVBQ3ZCO0FBQUEsRUFzQlEsVUFBVTtBQUNqQixTQUFLLFlBQVksU0FBUyxpQkFBaUIsZUFBZTtBQUMxRCxTQUFLLFVBQVUsTUFBTTtBQUNyQixTQUFLLFFBQVEsY0FBYyxLQUFLO0FBRWhDLFVBQU0sdUJBQXVDLEtBQUssVUFBVSxVQUFVO0FBQ3RFLFNBQUssaUJBQWlCLEtBQUs7QUFBQSxNQUMxQjtBQUFBLE1BQ0EsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUFBLElBQ047QUFDQSxTQUFLLGdCQUFnQixvQkFBb0I7QUFBQSxFQUMxQztBQUFBLEVBRVUsaUJBQ1QsV0FDQSxhQUNBLE9BQ0M7QUFDRCxVQUFNLGdCQUFnQixJQUFJLGdDQUFjLFNBQVM7QUFFakQsSUFBQyxjQUFzQixRQUFRLE1BQU0sUUFBUTtBQUM3QyxJQUFDLGNBQ0MsZUFBZSxvQ0FBZSxFQUFFLEVBQ2hDLFNBQVMsd0JBQVMsRUFBRSxFQUNwQixTQUFTLENBQUNDLFdBQWtCLEtBQUssUUFBUUEsTUFBTSxFQUMvQyxRQUFRLGlCQUFpQixXQUFXLEtBQUssbUJBQW1CO0FBRTlELFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFUSxhQUNQLFdBQ0EsTUFDQSxVQUNDO0FBQ0QsVUFBTSxNQUFNLElBQUksa0NBQWdCLFNBQVM7QUFDekMsUUFBSSxjQUFjLElBQUksRUFBRSxRQUFRLFFBQVE7QUFFeEMsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVRLGdCQUFnQixzQkFBc0M7QUFDN0QsVUFBTSxxQkFDTCxxQkFBcUIsVUFBVTtBQUNoQyxTQUFLO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxNQUNBLEtBQUs7QUFBQSxJQUNOLEVBQUUsT0FBTyxFQUFFLFNBQVMsTUFBTSxjQUFjO0FBQ3hDLFNBQUs7QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLE1BQ0EsS0FBSztBQUFBLElBQ047QUFFQSx1QkFBbUIsTUFBTSxVQUFVO0FBQ25DLHVCQUFtQixNQUFNLGdCQUFnQjtBQUN6Qyx1QkFBbUIsTUFBTSxpQkFBaUI7QUFDMUMsdUJBQW1CLE1BQU0sWUFBWTtBQUNyQyx1QkFBbUIsTUFBTSxNQUFNO0FBQUEsRUFDaEM7QUFBQSxFQVlRLFNBQVM7QUFDaEIsU0FBSyxZQUFZO0FBRWpCLFNBQUssTUFBTTtBQUFBLEVBQ1o7QUFBQSxFQUVRLFNBQVM7QUFDaEIsU0FBSyxNQUFNO0FBQUEsRUFDWjtBQUFBLEVBRVEsZUFBZTtBQUN0QixRQUFJLENBQUMsS0FBSztBQUFXLFdBQUssY0FBYyxpQkFBaUI7QUFBQTtBQUNwRCxXQUFLLGVBQWUsS0FBSyxLQUFLO0FBQUEsRUFDcEM7QUFBQSxFQUVRLHNCQUFzQjtBQUM3QixTQUFLLGVBQWUsUUFBUTtBQUFBLE1BQzNCO0FBQUEsTUFDQSxLQUFLO0FBQUEsSUFDTjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFNBQVM7QUFDUixVQUFNLE9BQU87QUFFYixTQUFLLGVBQWUsUUFBUSxNQUFNO0FBQ2xDLFNBQUssZUFBZSxRQUFRLE9BQU87QUFBQSxFQUNwQztBQUFBLEVBRUEsVUFBVTtBQUNULFVBQU0sUUFBUTtBQUNkLFNBQUssYUFBYTtBQUNsQixTQUFLLG9CQUFvQjtBQUFBLEVBQzFCO0FBQ0Q7QUFHQSxlQUFzQixjQUFjLFNBQWUsU0FBUyxjQUFvQixJQUFHLFFBQWEsSUFBSTtBQUNuRyxNQUFHO0FBQ0YsV0FBTyxNQUFNLFlBQVk7QUFBQSxNQUN4QixLQUFLO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNTO0FBQUEsSUFDVjtBQUFBLEVBQ0QsU0FBTSxHQUFMO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFDRDs7O0FadkpBLElBQXFCLGtCQUFyQixjQUE2Qyx5QkFBTztBQUFBLEVBbUJuRCxNQUFNLFNBQVM7QUFDZCxTQUFLLGlCQUFpQjtBQUN0QixTQUFLLGdCQUFnQjtBQUNyQixTQUFLLFNBQVM7QUFDZCxTQUFLLElBQUksVUFBVTtBQUFBLE1BQ2xCLFlBQVM7QUFDUixjQUFNLEtBQUssU0FBUztBQUNwQixhQUFLLGdCQUFnQjtBQUFBLE1BQ3RCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sa0JBQWtCO0FBckR6QjtBQXNERSxXQUFPLEdBQUUsVUFBSyxJQUFZLFlBQWpCLG1CQUEwQixRQUFRLGdCQUFlO0FBQ3pELFlBQU0sSUFBSSxRQUFRLGFBQVcsV0FBVyxTQUFTLEdBQUcsQ0FBQztBQUFBLElBQ3REO0FBRUEsSUFBQyxLQUFLLElBQVksU0FBUztBQUFBLE1BQzFCO0FBQUEsSUFDRDtBQUVBLFFBQUksU0FBUyxNQUFPLEtBQUssSUFBWSxRQUFRLFVBQVUsdUJBQXVCO0FBQzlFLGNBQVUsT0FBTyxNQUFNLGtCQUFrQjtBQUd6QyxZQUFRLFVBQUssSUFBWSxZQUFqQixtQkFBMEIsUUFBUTtBQUFBLEVBQzNDO0FBQUEsRUFFQSxNQUFNLFdBQVc7QUFDaEIsU0FBSyxTQUFTO0FBQ2QsU0FBSyxRQUFNO0FBQ1gsVUFBTSxLQUFLLGFBQWE7QUFFeEIsU0FBSyxRQUFRO0FBQ2IsU0FBSyxLQUFLLFFBQVEsVUFBVTtBQUU1QixTQUFLLFNBQVMsSUFBSSxTQUFTLElBQUk7QUFDL0IsU0FBSyxRQUFRLElBQUksVUFBVSxNQUFLLEtBQUssTUFBTTtBQUMzQyxTQUFLLFdBQVcsSUFBSSxlQUFlLElBQUk7QUFDdkMsU0FBSyxVQUFVLElBQUksYUFBYSxJQUFJO0FBQ3BDLFNBQUssU0FBUyxJQUFJLFlBQVksSUFBSTtBQUNsQyxTQUFLLFVBQVUsSUFBSSxRQUFRO0FBRTNCLGdCQUFZLElBQUk7QUFHaEIsU0FBSyxjQUFjLElBQUksYUFBYSxLQUFLLEtBQUssSUFBSSxDQUFDO0FBRW5ELFNBQUs7QUFBQSxNQUNKLEtBQUssSUFBSSxVQUFVLEdBQUcsYUFBYSxLQUFLLG1CQUFtQixLQUFLLElBQUksQ0FBQztBQUFBLElBQ3RFO0FBR0EsU0FBSyxjQUFjLEtBQUssSUFBSSxNQUFNO0FBQUEsTUFDakM7QUFBQSxNQUFVLE9BQU8sU0FBZ0I7QUFDaEMsY0FBTSxLQUFLLE1BQU0sZUFBZSxJQUFJO0FBQ3BDLGNBQU0sS0FBSyxTQUFTLEtBQUs7QUFBQSxNQUMxQjtBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUssY0FBYyxLQUFLLElBQUksTUFBTTtBQUFBLE1BQ2pDO0FBQUEsTUFBVSxZQUFZO0FBQ3JCLGNBQU0sTUFBTSxHQUFHO0FBQ2YsYUFBSyxTQUFTLEtBQUssR0FBRSxJQUFJO0FBQUEsTUFDMUI7QUFBQSxJQUNELENBQUM7QUFHRCxTQUFLLGNBQWMsS0FBSyxJQUFJLE1BQU07QUFBQSxNQUNqQztBQUFBLE1BQVUsT0FBTyxNQUFZLFlBQW1CO0FBQy9DLFlBQUksWUFBWSxLQUFLLElBQUksTUFBTTtBQUFBLFVBQzlCLFFBQVEsTUFBTSxHQUFFLFFBQVEsWUFBWSxHQUFHLENBQUM7QUFBQSxRQUN6QztBQUNBLHFCQUFhLEtBQUssTUFBTSxlQUFlLFNBQVM7QUFDaEQsYUFBSyxNQUFNLGNBQWMsSUFBSTtBQUM3QixhQUFLLFNBQVMsS0FBSztBQUNuQixhQUFLLFNBQVMsMkJBQTJCLElBQUk7QUFBQSxNQUM5QztBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUs7QUFBQSxNQUNKLEtBQUssSUFBSSxVQUFVLEdBQUcsYUFBYSxDQUFDLE1BQU0sU0FBUztBQUNsRCxZQUFHLGdCQUFnQix5QkFBTTtBQUN4QixlQUFLLFFBQVEsQ0FBQyxTQUFTO0FBQ3RCLGlCQUNDLFNBQVMsS0FBSyxRQUFRLHlCQUF5QixFQUMvQyxRQUFRLFdBQVcsRUFDbkIsUUFBUSxZQUFZO0FBQ3BCLGtCQUFJLFdBQVcsTUFBTSxLQUFLLGNBQWMsV0FBVztBQUNuRCxrQkFBRyxDQUFDLFVBQVM7QUFBQztBQUFBLGNBQU07QUFDcEIsa0JBQUksTUFBTSxLQUFLLFNBQU8sS0FBSyxPQUFPLE9BQU8sTUFBTSxXQUFTLFFBQU0sV0FBUztBQUN2RSxrQkFBRyxLQUFLLE1BQU0sVUFBVSxHQUFHLEdBQUU7QUFDNUIsb0JBQUkseUJBQU8sWUFBVSxLQUFLLE1BQUssR0FBSTtBQUFBLGNBQ3BDLE9BQUs7QUFDSixvQkFBSSxRQUFRLE1BQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxLQUFJLEVBQUU7QUFDOUMsc0JBQU0sS0FBSyxNQUFNLHdCQUF3QixPQUFNLElBQUk7QUFFbkQsc0JBQU0sS0FBSyxPQUFPO0FBQUEsa0JBQ2pCO0FBQUEsa0JBQUs7QUFBQSxrQkFBTSxLQUFLLFNBQVM7QUFBQSxnQkFDMUI7QUFFQSxzQkFBTSxLQUFLLE1BQU0sVUFBVSxPQUFNLE9BQU0sS0FBSztBQUFBLGNBQzdDO0FBQUEsWUFDRCxDQUFDO0FBQUEsVUFDRixDQUFDO0FBQUEsUUFDRjtBQUFBLE1BQ0QsQ0FBQztBQUFBLElBQ0Y7QUFFQSxTQUFLO0FBQUEsTUFDSixLQUFLLElBQUksVUFBVSxHQUFHLGFBQWEsQ0FBQyxNQUFNLFNBQVM7QUFDbEQsWUFBRyxnQkFBZ0IsMkJBQVMsS0FBSyxhQUFXLE1BQUs7QUFDaEQsZUFBSyxRQUFRLENBQUMsU0FBUztBQUN0QixpQkFDQyxTQUFTLEtBQUssUUFBUSwwQkFBMEIsRUFDaEQsUUFBUSxNQUFNLEVBQ2QsUUFBUSxZQUFZO0FBQ3BCLGtCQUFJLFNBQVMsTUFBTSxLQUFLLE1BQU0sZUFBZTtBQUM3QyxrQkFBRyxRQUFPO0FBQ1Qsc0JBQU0sS0FBSyxNQUFNLHdCQUF3QixNQUFLLE1BQU07QUFFcEQsc0JBQU0sS0FBSyxPQUFPO0FBQUEsa0JBQ2pCO0FBQUEsa0JBQU87QUFBQSxrQkFBSyxLQUFLLFNBQVM7QUFBQSxnQkFDM0I7QUFFQSxvQkFBRyxLQUFLLFVBQVEsT0FBTyxRQUFPO0FBQzdCLHNCQUFJLE1BQU0sT0FBTyxPQUFPLE9BQUssTUFBSSxLQUFLO0FBQ3RDLHdCQUFNLEtBQUssSUFBSSxZQUFZLFdBQVcsTUFBSyxHQUFHO0FBQUEsZ0JBQy9DO0FBQ0EscUJBQUssU0FBUyxLQUFLO0FBQUEsY0FDcEI7QUFBQSxZQUNELENBQUM7QUFBQSxVQUNGLENBQUM7QUFBQSxRQUNGLFdBQVMsZ0JBQWdCLDJCQUFRO0FBQ2hDLGVBQUssUUFBUSxDQUFDLFNBQVM7QUFDdEIsaUJBQ0MsU0FBUyxLQUFLLFFBQVEsMEJBQTBCLEVBQ2hELFFBQVEsTUFBTSxFQUNkLFFBQVEsWUFBWTtBQXJMM0I7QUFzTE8sa0JBQUksU0FBUSxVQUFLLFdBQUwsbUJBQWE7QUFDekIsa0JBQUcsT0FBTTtBQUNSLG9CQUFJLFNBQVMsTUFBTSxLQUFLO0FBQUEsa0JBQ3ZCLENBQUMsTUFBa0IsRUFBRTtBQUFBLGtCQUNyQixNQUFNLE9BQU8sQ0FBQyxNQUFrQixhQUFhLHVCQUFLO0FBQUEsZ0JBQ25EO0FBRUEsb0JBQUksT0FBTyxLQUFLLE1BQU0sVUFBVSxLQUFLLE9BQUssTUFBSSxLQUFLLE9BQUssS0FBSztBQUM3RCxvQkFBRyxDQUFDLE1BQUs7QUFDUix5QkFBTyxNQUFNLEtBQUssSUFBSSxNQUFNO0FBQUEsb0JBQzNCLEtBQUssT0FBSyxNQUFJLEtBQUssT0FBSztBQUFBLG9CQUFNO0FBQUEsa0JBQy9CO0FBQUEsZ0JBQ0Q7QUFDQSxzQkFBTSxLQUFLLE9BQU87QUFBQSxrQkFDakI7QUFBQSxrQkFDQTtBQUFBLG9CQUNDLGtCQUFpQixLQUFLLE9BQU87QUFBQSxvQkFDN0Isd0JBQXVCO0FBQUEsa0JBQ3hCO0FBQUEsZ0JBQ0Q7QUFDQSxxQkFBSyxNQUFNLGNBQWMsSUFBSTtBQUM3QixzQkFBTSxLQUFLLFNBQVMsS0FBSyxHQUFFLEtBQUs7QUFBQSxjQUNqQztBQUFBLFlBQ0QsQ0FBQztBQUFBLFVBQ0YsQ0FBQztBQUFBLFFBQ0Y7QUFDQSxZQUFJLFdBQVcsU0FBUztBQUFBLFVBQ3ZCO0FBQUEsUUFDRDtBQUNBLFlBQUksUUFBUSxPQUFPLE9BQU8sUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNO0FBbk5uRDtBQW1OcUQseUJBQUUsWUFBRixtQkFBVztBQUFBLFNBQUk7QUFDaEUsWUFBSSxTQUFTLE1BQU0sSUFBSSxPQUFHLEtBQUssTUFBTSxVQUFVLENBQUMsQ0FBQyxFQUFFLE9BQU8sT0FBRyxFQUFFLGFBQVcsSUFBSTtBQUM5RSxZQUFHLE9BQU8sU0FBTyxHQUFFO0FBQ2xCLGVBQUssUUFBUSxDQUFDLFNBQVM7QUFDdEIsaUJBQ0MsU0FBUyxLQUFLLFFBQVEsMkJBQTJCLEVBQ2pELFFBQVEsTUFBTSxFQUNkLFFBQVEsWUFBWTtBQUNwQix1QkFBUyxLQUFLLE1BQU0scUJBQXFCLE1BQU07QUFDL0Msa0JBQUksUUFBUSxLQUFLLE1BQU0sZUFBZTtBQUN0QyxzQkFBUSxNQUFNLE9BQU8sQ0FBQyxNQUFVLENBQUMsT0FBTyxTQUFTLENBQUMsQ0FBQztBQUNuRCxrQkFBSSxTQUFTLE1BQU0sS0FBSyxNQUFNLGVBQWUsS0FBSztBQUNsRCxrQkFBRyxDQUFDLFFBQU87QUFBQztBQUFBLGNBQU07QUFDbEIsdUJBQVEsU0FBUyxRQUFPO0FBQ3ZCLG9CQUFHLE1BQU0sT0FBTyxRQUFNLE9BQU8sT0FBTyxNQUFLO0FBQ3hDLHNCQUFJLE1BQU0sT0FBTyxPQUFPLE9BQUssTUFBSSxNQUFNO0FBQ3ZDLHdCQUFNLEtBQUssSUFBSSxZQUFZLFdBQVcsT0FBTSxHQUFHO0FBQUEsZ0JBQ2hEO0FBQ0Esc0JBQU0sS0FBSyxNQUFNLGVBQWUsS0FBSztBQUFBLGNBQ3RDO0FBQ0EscUJBQU8sUUFBUSxNQUFNO0FBQ3JCLGtCQUFJLGNBQWMsS0FBSyxNQUFNLGNBQWMsTUFBTTtBQUNqRCxrQkFBRyxhQUFZO0FBQUMsdUJBQU8sS0FBSyxXQUFXO0FBQUEsY0FBQztBQUN4QyxvQkFBTSxLQUFLLE1BQU0sb0JBQW9CLE1BQU07QUFDM0MsdUJBQVEsT0FBTyxPQUFPLE1BQU0sR0FBRSxPQUFPLFNBQU8sQ0FBQyxHQUFFO0FBQzlDLHNCQUFNLEtBQUssT0FBTztBQUFBLGtCQUNqQjtBQUFBLGtCQUFPO0FBQUEsa0JBQUksS0FBSyxTQUFTO0FBQUEsZ0JBQzFCO0FBQUEsY0FDRDtBQUFBLFlBQ0QsQ0FBQztBQUFBLFVBQ0YsQ0FBQztBQUFBLFFBQ0Y7QUFBQSxNQUNELENBQUM7QUFBQSxJQUNGO0FBRUEsU0FBSztBQUFBLE1BQ0osS0FBSyxJQUFJLGNBQWM7QUFBQSxRQUN0QjtBQUFBLFFBQVUsT0FBTyxNQUFhLE1BQWMsVUFBd0I7QUFDbkUsY0FBRyxRQUFNLEtBQUssTUFBTSxjQUFhO0FBQ2hDLHlCQUFhLEtBQUssT0FBTztBQUFBLFVBQzFCO0FBQ0EsY0FBSSxVQUFVLFdBQVcsWUFBVTtBQUVsQyxnQkFBRyxLQUFLLFFBQU87QUFDZCxtQkFBSyxNQUFNLFNBQVMsS0FBSyxPQUFPLElBQUksSUFBRyxLQUFLLE1BQU07QUFBQSxnQkFDakQsS0FBSyxPQUFPO0FBQUEsY0FDYjtBQUFBLFlBQ0Q7QUFDQSxpQkFBSyxTQUFTLEtBQUssR0FBRSxLQUFLO0FBRzFCLGdCQUFHLEtBQUssU0FBUyx1QkFBc0I7QUFDdEMsa0JBQUksTUFBTSxLQUFLLFNBQVMsaUJBQWlCLElBQUk7QUFDN0Msa0JBQUksUUFBUyxLQUFLLFNBQVMsY0FBc0I7QUFDakQsbUJBQUssU0FBUyxtQkFBbUIsTUFBTSxLQUFLLElBQUksR0FBRSxHQUFHO0FBRXJELGtCQUFJLFNBQVMsTUFBTSxLQUFLLEtBQUssTUFBTSxHQUFFLEtBQUssS0FBSyxTQUFPLENBQUMsSUFBRSxRQUFRO0FBQ2pFLG1CQUFLLFNBQVMsbUJBQW1CLFFBQU8sR0FBRztBQUczQyxrQkFBSSxLQUFLLFVBQVUsS0FBSyxZQUFVLEtBQUssT0FBTyxRQUFVLEtBQUssVUFBVSxLQUFLLE9BQU8sUUFBTSxLQUFLO0FBQzdGLG9CQUFJLFFBQVEsS0FBSyxPQUFPLGdCQUFnQixNQUFLLEtBQUssU0FBUyxxQkFBcUI7QUFDaEYsb0JBQUksT0FBUSxLQUFhO0FBQ3pCLG9CQUFHLENBQUMsUUFBUSxRQUFNLE9BQU07QUFDdkIsMkJBQVEsT0FBTyxPQUFNO0FBQ3BCLHdCQUFJLE9BQU8sTUFBTSxHQUFHO0FBQ3BCLHdCQUFJLFFBQVE7QUFDWix3QkFBRyxLQUFLLE9BQU8sUUFBTSxLQUFJO0FBQ3hCLCtCQUFTO0FBQUEsb0JBQ1YsT0FBSztBQUNKLDhCQUFRLEtBQUssT0FBTyxPQUFLO0FBQUEsb0JBQzFCO0FBQ0Esd0JBQUcsS0FBSyxLQUFLLEtBQUssV0FBVyxLQUFLLEtBQUcsS0FBSyxLQUFLLFFBQU0sS0FBSyxPQUFPLE1BQUs7QUFDckUsMEJBQUlDLE9BQU0sS0FBSyxTQUFTLGlCQUFpQixLQUFLLElBQUk7QUFDbEQsMkJBQUssU0FBUyxtQkFBbUIsTUFBS0EsSUFBRztBQUFBLG9CQUMxQztBQUFBLGtCQUNEO0FBQUEsZ0JBQ0Q7QUFDQSxnQkFBQyxLQUFhLDJCQUEyQjtBQUFBLGNBQzFDO0FBQUEsWUFDRDtBQUdBLGdCQUFHLEtBQUssU0FBUywyQkFBMEI7QUFDMUMsa0JBQUksUUFBUSxNQUFNLEtBQUssU0FBUyxtQkFBbUIsSUFBSTtBQUN2RCxvQkFBTSxLQUFLLFNBQVMsMkJBQTJCLE1BQUssS0FBSztBQUN6RCxrQkFBSSxRQUFTLEtBQUssU0FBUyxjQUFzQjtBQUVqRCxrQkFBSSxTQUFTLE1BQU0sS0FBSyxLQUFLLE1BQU0sR0FBRSxLQUFLLEtBQUssU0FBTyxDQUFDLElBQUUsUUFBUTtBQUNqRSxrQkFBRyxRQUFPO0FBQ1Qsc0JBQU0sS0FBSyxTQUFTLDJCQUEyQixPQUFPLE1BQUssS0FBSztBQUFBLGNBQ2pFO0FBR0Esa0JBQUksS0FBSyxVQUFVLEtBQUssWUFBVSxLQUFLLE9BQU8sUUFBVSxLQUFLLFVBQVUsS0FBSyxPQUFPLFFBQU0sS0FBSztBQUM3RixvQkFBSSxRQUFRLEtBQUssT0FBTyxnQkFBZ0IsTUFBSyxLQUFLLFNBQVMseUJBQXlCO0FBQ3BGLG9CQUFJLE9BQVEsS0FBYTtBQUN6QixvQkFBRyxDQUFDLFFBQVEsUUFBTSxPQUFNO0FBQ3ZCLDJCQUFRLE9BQU8sT0FBTTtBQUNwQix3QkFBSSxPQUFPLE1BQU0sR0FBRztBQUNwQix3QkFBSSxRQUFRO0FBQ1osd0JBQUcsS0FBSyxPQUFPLFFBQU0sS0FBSTtBQUN4QiwrQkFBUztBQUFBLG9CQUNWLE9BQUs7QUFDSiw4QkFBUSxLQUFLLE9BQU8sT0FBSztBQUFBLG9CQUMxQjtBQUNBLHdCQUFHLEtBQUssS0FBSyxLQUFLLFdBQVcsS0FBSyxLQUFHLEtBQUssS0FBSyxRQUFNLEtBQUssT0FBTyxNQUFLO0FBQ3JFLDBCQUFJQyxTQUFRLE1BQU0sS0FBSyxTQUFTLG1CQUFtQixLQUFLLElBQUk7QUFDNUQsNEJBQU0sS0FBSyxTQUFTLDJCQUEyQixLQUFLLE1BQUtBLE1BQUs7QUFBQSxvQkFDL0Q7QUFBQSxrQkFDRDtBQUFBLGdCQUNEO0FBQ0EsZ0JBQUMsS0FBYSxxQkFBcUI7QUFBQSxjQUNwQztBQUFBLFlBQ0Q7QUFBQSxVQUVELEdBQUUsR0FBRztBQUNMLGNBQUcsUUFBTSxLQUFLLE1BQU0sY0FBYTtBQUNoQyxpQkFBSyxVQUFVLEtBQUs7QUFBQSxVQUNyQjtBQUFBLFFBRUY7QUFBQSxNQUFDO0FBQUEsSUFDRjtBQUNBLFNBQUssV0FBVyxJQUFJLFVBQVUsTUFBSyxLQUFLLEdBQUc7QUFDM0MsU0FBSyxXQUFXLElBQUksV0FBVyxJQUFJO0FBQ25DLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUdBLE1BQU0sV0FBVztBQUNoQixVQUFNLEtBQUssU0FBUyxXQUFXO0FBQy9CLFVBQU0sS0FBSyxTQUFTLEtBQUs7QUFBQSxFQUMxQjtBQUFBLEVBRUEsTUFBTSxtQkFBbUIsTUFBVztBQXpWckM7QUEwVkUsUUFBRyxLQUFLLFNBQVMsaUJBQWdCO0FBQ2hDLE1BQUMsS0FBSyxJQUFZLFNBQVM7QUFBQSxRQUMxQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsUUFBRyxLQUFLLFNBQVMsY0FBYTtBQUM3QixVQUFJLFNBQVMsTUFBTyxLQUFLLElBQVksUUFBUSxVQUFVLHVCQUF1QjtBQUM5RSxnQkFBVSxPQUFPLE1BQU0sa0JBQWtCO0FBQUEsSUFDMUM7QUFDQSxRQUFHLEtBQUssU0FBUyxnQkFBZTtBQUMvQixVQUFJLFFBQVEsS0FBSyxNQUFNLGFBQWEsSUFBSTtBQUN4QyxVQUFHLE1BQU0sVUFBUSxHQUFFO0FBQUM7QUFBQSxNQUFPO0FBQzNCLFVBQUksV0FBVyxLQUFLLFNBQVMsaUJBQWlCLE1BQU0sSUFBSSxFQUFFLE9BQU8sT0FBRyxLQUFHLEVBQUU7QUFDekUsZUFBUSxRQUFRLFVBQVM7QUFDeEIsWUFBRyxLQUFLLEtBQUssV0FBVyxJQUFJLEdBQUU7QUFDN0IsaUJBQU87QUFBQSxRQUNSLFdBQVMsUUFBTSxLQUFJO0FBQ2xCLGdCQUFHLFVBQUssV0FBTCxtQkFBYSxTQUFNLEtBQUk7QUFDekIsbUJBQU87QUFBQSxVQUNSO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFDQSxXQUFHLFVBQUssYUFBTCxtQkFBZSxlQUFjO0FBQy9CLGdCQUFRLEtBQUssTUFBTSxZQUFZLE9BQU8sS0FBSyxTQUFTLGNBQXNCLFNBQVM7QUFDbkYsZ0JBQVEsS0FBSyxNQUFNLFlBQVksT0FBTSxPQUFPO0FBQzVDLGNBQU0sS0FBSyxNQUFNLG9CQUFvQixLQUFLO0FBQzFDLGFBQUssU0FBUyxLQUFLO0FBQUEsTUFDcEI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNsQztBQUFBLEVBRUEsTUFBTSxjQUFjLFFBQU0sS0FBSyxNQUFNLGNBQWEsT0FBSyxhQUFZO0FBQ2xFLFFBQUcsU0FBTyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLE1BQU0sWUFBWSxLQUFLO0FBQ3hDLFFBQUcsTUFBTSxRQUFPO0FBQ2YsVUFBRyxTQUFPLGFBQVk7QUFDckIsZUFBTyxNQUFNLEtBQUs7QUFBQSxVQUNqQixDQUFDLGdCQUFlLGlCQUFnQiw2QkFBOEI7QUFBQSxVQUM5RCxDQUFDLENBQUMsUUFBTyxLQUFLLEdBQUUsQ0FBQyxRQUFPLEtBQUssR0FBRSxDQUFDLFFBQU8sS0FBSyxDQUFDO0FBQUEsUUFDOUM7QUFBQSxNQUNEO0FBQ0EsVUFBSSxNQUFNLEtBQUssT0FBTyxZQUFZLE9BQU0sS0FBSyxDQUFDLENBQUM7QUFDL0MsVUFBRyxLQUFJO0FBQ04saUJBQVEsUUFBUSxPQUFNO0FBQ3JCLGNBQUk7QUFDSixjQUFHLEtBQUssQ0FBQyxNQUFJLE9BQU07QUFDbEIscUJBQU8sTUFBTTtBQUFBLFVBQ2QsT0FBSztBQUNKLHFCQUFPO0FBQUEsVUFDUjtBQUNBLGVBQUssT0FBTyxRQUFRLE1BQUssS0FBSSxNQUFNO0FBQUEsUUFDcEM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sMEJBQXlCO0FBQzlCLFFBQUksUUFBUSxNQUFNLEtBQUssTUFBTSxnQkFBZ0I7QUFDN0MsU0FBRywrQkFBTyxVQUFPLEdBQUU7QUFDbEIsVUFBSTtBQUNILFlBQUksT0FBTyxNQUFNLEtBQUssY0FBYywwQ0FBMEM7QUFDOUUsWUFBRyxRQUFNLE1BQUs7QUFDYjtBQUFBLFFBQ0Q7QUFDQSxZQUFJLE1BQU0sSUFBSSxPQUFPLE1BQUssR0FBRztBQUU3QixZQUFJLFNBQVMsTUFBTSxLQUFLLGNBQWMsMEJBQTBCO0FBQ2hFLFlBQUcsVUFBUSxNQUFLO0FBQ2Y7QUFBQSxRQUNEO0FBQ0EsaUJBQVMsT0FBTztBQUFBLFVBQ2Y7QUFBQSxVQUFPO0FBQUEsUUFDUjtBQUNBLGlCQUFRLFFBQVEsT0FBTTtBQUNyQixnQkFBTSxLQUFLLE9BQU8sUUFBUSxNQUFLLEtBQUksTUFBTTtBQUFBLFFBQzFDO0FBQUEsTUFDRCxTQUFTLE9BQVA7QUFBQSxNQUVGO0FBQUEsSUFFRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sd0JBQXVCO0FBRTVCLFFBQUksV0FBVyxTQUFTO0FBQUEsTUFDdkI7QUFBQSxJQUNEO0FBQ0EsUUFBSSxRQUFRLE9BQU8sT0FBTyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU07QUExYmpEO0FBMGJtRCxxQkFBRSxZQUFGLG1CQUFXO0FBQUEsS0FBSTtBQUNoRSxRQUFJLFNBQVMsTUFBTSxJQUFJLE9BQUcsS0FBSyxNQUFNLFVBQVUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxPQUFHLEVBQUUsYUFBVyxJQUFJO0FBQzlFLFFBQUcsT0FBTyxTQUFPLEdBQUU7QUFDbEIsZUFBUyxLQUFLLE1BQU0scUJBQXFCLE1BQU07QUFDL0MsVUFBSUMsU0FBUSxLQUFLLE1BQU0sZUFBZTtBQUN0QyxNQUFBQSxTQUFRQSxPQUFNLE9BQU8sQ0FBQyxNQUFVLENBQUMsT0FBTyxTQUFTLENBQUMsQ0FBQztBQUNuRCxVQUFJLFNBQVMsTUFBTSxLQUFLLE1BQU0sZUFBZUEsTUFBSztBQUNsRCxVQUFHLENBQUMsUUFBTztBQUFDO0FBQUEsTUFBTTtBQUNsQixlQUFRLFNBQVMsUUFBTztBQUN2QixZQUFHLE1BQU0sT0FBTyxRQUFNLE9BQU8sT0FBTyxNQUFLO0FBQ3hDLGNBQUksTUFBTSxPQUFPLE9BQU8sT0FBSyxNQUFJLE1BQU07QUFDdkMsZ0JBQU0sS0FBSyxJQUFJLFlBQVksV0FBVyxPQUFNLEdBQUc7QUFBQSxRQUNoRDtBQUNBLGNBQU0sS0FBSyxNQUFNLGVBQWUsS0FBSztBQUFBLE1BQ3RDO0FBQ0EsYUFBTyxRQUFRLE1BQU07QUFDckIsVUFBSSxjQUFjLEtBQUssTUFBTSxjQUFjLE1BQU07QUFDakQsVUFBRyxhQUFZO0FBQUMsZUFBTyxLQUFLLFdBQVc7QUFBQSxNQUFDO0FBQ3hDLFlBQU0sS0FBSyxNQUFNLG9CQUFvQixNQUFNO0FBQzNDO0FBQUEsSUFDRDtBQUVBLFFBQUksT0FBTyxLQUFLLE1BQU07QUFDdEIsUUFBRyxRQUFNLE1BQUs7QUFBQztBQUFBLElBQU87QUFDdEIsUUFBSSxRQUFTLEtBQUssUUFBZ0IsS0FBSyxTQUFTLGtCQUFrQjtBQUNsRSxRQUFJLFFBQVEsTUFBTSxLQUFLLE1BQU0sZ0JBQWdCLE1BQUssT0FBTSxLQUFLO0FBQzdELFFBQUcsQ0FBQyxPQUFNO0FBQUM7QUFBQSxJQUFNO0FBQ2pCLFlBQVEsS0FBSyxNQUFNLFlBQVksT0FBTSxDQUFDLFNBQVEsR0FBRyxDQUFDO0FBQ2xELFlBQVEsS0FBSyxNQUFNLHFCQUFxQixLQUFLO0FBSTdDLFVBQU0sT0FBTyxNQUFNLEtBQUs7QUFBQSxNQUN2QixLQUFLLE1BQU07QUFBQSxRQUNWLE1BQU0sSUFBSSxDQUFDLFNBQWUsS0FBSyxnQkFBZ0IsTUFBSyxDQUFDLEdBQUUsRUFBRSxDQUFDO0FBQUEsTUFDM0Q7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUVBLFFBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBRWpCLFFBQUksU0FBUztBQUFBLE1BQ1osS0FBSyxRQUFRO0FBQUEsTUFDYixLQUFLLFFBQVE7QUFBQSxNQUNiLEtBQUssUUFBUTtBQUFBLE1BQ2IsS0FBSyxRQUFRO0FBQUEsTUFDYixLQUFLLFFBQVE7QUFBQSxJQUNkO0FBQ0EsUUFBSSxPQUFPLE1BQU0sS0FBSztBQUFBLE1BQ3JCLEtBQUssTUFBTSxnQkFBZ0IsTUFBTTtBQUFBLE1BQ2pDO0FBQUEsTUFBTztBQUFBLE1BQU0sS0FBSyxRQUFRO0FBQUEsSUFDM0I7QUFFQSxRQUFHLENBQUMsTUFBSztBQUFDO0FBQUEsSUFBTztBQUVqQixRQUFHLFNBQU8sS0FBSyxRQUFRLDBCQUF5QjtBQUMvQyxZQUFNLEtBQUssTUFBTSwwQkFBMEIsTUFBSyxJQUFJO0FBQUEsSUFDckQsV0FBUyxTQUFPLEtBQUssUUFBUSwwQkFBeUI7QUFDckQsWUFBTSxLQUFLLE1BQU0sMEJBQTBCLE1BQUssSUFBSTtBQUFBLElBQ3JELFdBQVMsU0FBTyxLQUFLLFFBQVEseUJBQXdCO0FBQ3BELFlBQU0sS0FBSyxNQUFNLHlCQUF5QixNQUFLLElBQUk7QUFDbkQsWUFBTSxLQUFLLE9BQU87QUFBQSxRQUNqQjtBQUFBLFFBQ0E7QUFBQSxRQUNBLEtBQUssU0FBUztBQUFBLE1BQ2Y7QUFBQSxJQUNELFdBQVMsU0FBTyxLQUFLLFFBQVEsd0JBQXVCO0FBQ25ELFlBQU0sS0FBSyxNQUFNLHdCQUF3QixNQUFLLElBQUk7QUFDbEQsWUFBTSxLQUFLLE9BQU87QUFBQSxRQUNqQjtBQUFBLFFBQ0E7QUFBQSxRQUNBLEtBQUssU0FBUztBQUFBLE1BQ2Y7QUFBQSxJQUNELFdBQVMsU0FBTyxLQUFLLFFBQVEsMEJBQXlCO0FBQ3JELFlBQU0sS0FBSyxNQUFNLDBCQUEwQixNQUFLLElBQUk7QUFBQSxJQUNyRCxPQUFLO0FBQ0o7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsZ0JBQWdCLE9BQVksUUFBcUIsS0FBVztBQUMzRCxRQUFJLFFBQVEsSUFBSSxNQUFNO0FBQ3RCLFFBQUcsU0FBTyxLQUFLLE1BQU0sY0FBYTtBQUNqQyxZQUFNLEtBQUssY0FBTyxNQUFNLFFBQVE7QUFBQSxJQUNqQyxPQUFLO0FBQ0osWUFBTSxLQUFLLE1BQU0sUUFBUTtBQUFBLElBQzFCO0FBRUEsYUFBUSxTQUFTLFFBQU87QUFDdkIsVUFBRztBQUNGLGNBQU0sS0FBSyxLQUFLLE9BQU8sZ0JBQWdCLE9BQU0sS0FBSyxDQUFDO0FBQUEsTUFDcEQsU0FBTyxPQUFOO0FBQ0EsY0FBTSxLQUFLLEdBQUc7QUFBQSxNQUNmO0FBQUEsSUFDRDtBQUNBLFdBQU8sTUFBTSxLQUFLLEdBQUc7QUFBQSxFQUN0QjtBQUFBLEVBRUEsTUFBTSxvQkFBbUI7QUFFeEIsUUFBSSxPQUFPLEtBQUssTUFBTTtBQUN0QixRQUFJLFFBQVEsTUFBTSxLQUFLLE1BQU0sZ0JBQWdCLE1BQUssS0FBSztBQUV2RCxZQUFRLEtBQUssTUFBTSxZQUFZLE9BQU0sQ0FBQyxTQUFRLEdBQUcsQ0FBQztBQUNsRCxZQUFRLEtBQUssTUFBTSxxQkFBcUIsS0FBSztBQUM3QyxRQUFHLE1BQU0sU0FBTyxHQUFFO0FBQ2pCLFVBQUksT0FBTyxNQUFNLEtBQUs7QUFBQSxRQUNyQixLQUFLLE1BQU07QUFBQSxVQUNWLE1BQU0sSUFBSSxDQUFDLFNBQWUsS0FBSyxNQUFNLGdCQUFnQixJQUFJLENBQUM7QUFBQSxRQUMzRDtBQUFBLFFBQ0E7QUFBQSxNQUNEO0FBQ0EsVUFBRyxNQUFLO0FBQ1AsY0FBTSxLQUFLLE1BQU0sVUFBVSxJQUFJO0FBQUEsTUFDaEM7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEOyIsCiAgIm5hbWVzIjogWyJkb2N1bWVudCIsICJpbXBvcnRfb2JzaWRpYW4iLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAic3RyaW5nIiwgIm1vZHVsZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAia3YiLCAiayIsICJzZWN0aW9uIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiZiIsICJyZWNlbnQiLCAibGVhZiIsICJ0ZmlsZSIsICJwcmV2IiwgImltcG9ydF9vYnNpZGlhbiIsICJlIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAidGZpbGUiLCAic3JjIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJ2YWx1ZSIsICJ0eHQiLCAic3R5bGUiLCAibm90ZXMiXQp9Cg==
